2025-04-13 13:33:48.035 [http-nio-8080-exec-2] ERROR c.q.x.auth.exception.GlobalExceptionHandler - /user/login request error, 
org.springframework.web.HttpMediaTypeNotSupportedException: Content-Type 'application/sjon;charset=UTF-8' is not supported
	at org.springframework.web.servlet.mvc.method.annotation.AbstractMessageConverterMethodArgumentResolver.readWithMessageConverters(AbstractMessageConverterMethodArgumentResolver.java:208)
	at org.springframework.web.servlet.mvc.method.annotation.RequestResponseBodyMethodProcessor.readWithMessageConverters(RequestResponseBodyMethodProcessor.java:163)
	at org.springframework.web.servlet.mvc.method.annotation.RequestResponseBodyMethodProcessor.resolveArgument(RequestResponseBodyMethodProcessor.java:136)
	at org.springframework.web.method.support.HandlerMethodArgumentResolverComposite.resolveArgument(HandlerMethodArgumentResolverComposite.java:122)
	at org.springframework.web.method.support.InvocableHandlerMethod.getMethodArgumentValues(InvocableHandlerMethod.java:181)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:148)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:117)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:884)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:797)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1080)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:973)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1011)
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:914)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:547)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:614)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:223)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:158)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:185)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:158)
	at com.alibaba.druid.support.jakarta.WebStatFilter.doFilter(WebStatFilter.java:113)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:185)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:158)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:185)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:158)
	at cn.dev33.satoken.filter.SaPathCheckFilterForJakartaServlet.doFilter(SaPathCheckFilterForJakartaServlet.java:55)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:185)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:158)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:185)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:158)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:185)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:158)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:177)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:97)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:542)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:119)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:357)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:400)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:859)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1734)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.base/java.lang.Thread.run(Thread.java:833)
2025-04-13 13:33:59.885 [http-nio-8080-exec-8] INFO  c.q.f.b.operationlog.aspect.ApiOperationLogAspect - ====== 请求开始: [发送短信验证码], 入参: {"phone":"13782612609"}, 请求类: VerificationCodeController, 请求方法: send =================================== 
2025-04-13 13:33:59.908 [http-nio-8080-exec-8] INFO  c.q.x.a.service.impl.VerificationCodeServiceImpl - ==> 手机号: 13782612609, 已发送验证码：【588922】
2025-04-13 13:33:59.910 [AuthExecutor-2] INFO  com.quanxiaoha.xiaohashu.auth.sms.AliyunSmsHelper - ==> 开始短信发送, phone: 13782612609, signName: 阿里云短信测试, templateCode: SMS_154950909, templateParam: {"code":"588922"}
2025-04-13 13:33:59.915 [http-nio-8080-exec-8] INFO  c.q.f.b.operationlog.aspect.ApiOperationLogAspect - ====== 请求结束: [发送短信验证码], 耗时: 31ms, 出参: {"success":true,"message":null,"errorCode":null,"data":null} =================================== 
2025-04-13 13:34:27.610 [http-nio-8080-exec-6] INFO  c.q.f.b.operationlog.aspect.ApiOperationLogAspect - ====== 请求开始: [用户登录/注册], 入参: {"phone":"13782612609","code":"943717","password":null,"type":1}, 请求类: UserController, 请求方法: loginAndRegister =================================== 
2025-04-13 13:34:27.616 [http-nio-8080-exec-6] WARN  c.q.x.auth.exception.GlobalExceptionHandler - /user/login request fail, errorCode: AUTH-20001, errorMessage: 验证码错误
2025-04-13 13:34:49.906 [http-nio-8080-exec-7] INFO  c.q.f.b.operationlog.aspect.ApiOperationLogAspect - ====== 请求开始: [用户登录/注册], 入参: {"phone":"13782612609","code":"943717","password":null,"type":1}, 请求类: UserController, 请求方法: loginAndRegister =================================== 
2025-04-13 13:34:49.909 [http-nio-8080-exec-7] WARN  c.q.x.auth.exception.GlobalExceptionHandler - /user/login request fail, errorCode: AUTH-20001, errorMessage: 验证码错误
2025-04-13 13:34:58.909 [http-nio-8080-exec-10] INFO  c.q.f.b.operationlog.aspect.ApiOperationLogAspect - ====== 请求开始: [用户登录/注册], 入参: {"phone":"13782612609","code":"943717","password":null,"type":1}, 请求类: UserController, 请求方法: loginAndRegister =================================== 
2025-04-13 13:34:58.913 [http-nio-8080-exec-10] WARN  c.q.x.auth.exception.GlobalExceptionHandler - /user/login request fail, errorCode: AUTH-20001, errorMessage: 验证码错误
2025-04-13 13:35:05.751 [http-nio-8080-exec-9] INFO  c.q.f.b.operationlog.aspect.ApiOperationLogAspect - ====== 请求开始: [发送短信验证码], 入参: {"phone":"13782612609"}, 请求类: VerificationCodeController, 请求方法: send =================================== 
2025-04-13 13:35:05.755 [http-nio-8080-exec-9] WARN  c.q.x.auth.exception.GlobalExceptionHandler - /verification/code/send request fail, errorCode: AUTH-20000, errorMessage: 请求太频繁，请3分钟后再试
2025-04-13 13:35:50.518 [http-nio-8080-exec-3] INFO  c.q.f.b.operationlog.aspect.ApiOperationLogAspect - ====== 请求开始: [发送短信验证码], 入参: {"phone":"13782612609"}, 请求类: VerificationCodeController, 请求方法: send =================================== 
2025-04-13 13:35:50.520 [http-nio-8080-exec-3] INFO  c.q.x.a.service.impl.VerificationCodeServiceImpl - ==> 手机号: 13782612609, 已发送验证码：【997808】
2025-04-13 13:35:50.520 [AuthExecutor-3] INFO  com.quanxiaoha.xiaohashu.auth.sms.AliyunSmsHelper - ==> 开始短信发送, phone: 13782612609, signName: 阿里云短信测试, templateCode: SMS_154950909, templateParam: {"code":"997808"}
2025-04-13 13:35:50.523 [http-nio-8080-exec-3] INFO  c.q.f.b.operationlog.aspect.ApiOperationLogAspect - ====== 请求结束: [发送短信验证码], 耗时: 5ms, 出参: {"success":true,"message":null,"errorCode":null,"data":null} =================================== 
2025-04-13 13:36:02.052 [http-nio-8080-exec-1] INFO  c.q.f.b.operationlog.aspect.ApiOperationLogAspect - ====== 请求开始: [用户登录/注册], 入参: {"phone":"13782612609","code":"997808","password":null,"type":1}, 请求类: UserController, 请求方法: loginAndRegister =================================== 
2025-04-13 13:36:02.081 [http-nio-8080-exec-1] DEBUG c.q.x.a.domain.mapper.UserDOMapper.selectByPhone - ==>  Preparing: select id, password from t_user where phone = ?
2025-04-13 13:36:02.088 [http-nio-8080-exec-1] DEBUG c.q.x.a.domain.mapper.UserDOMapper.selectByPhone - ==> Parameters: 13782612609(String)
2025-04-13 13:36:02.096 [http-nio-8080-exec-1] DEBUG c.q.x.a.domain.mapper.UserDOMapper.selectByPhone - <==      Total: 1
2025-04-13 13:36:02.096 [http-nio-8080-exec-1] INFO  c.q.xiaohashu.auth.service.impl.UserServiceImpl - ==> 用户是否注册, phone: 13782612609, userDO: {"id":2,"xiaohashuId":null,"password":null,"nickname":null,"avatar":null,"birthday":null,"backgroundImg":null,"phone":null,"sex":null,"status":null,"introduction":null,"createTime":null,"updateTime":null,"isDeleted":null}
2025-04-13 13:36:02.125 [http-nio-8080-exec-1] INFO  c.q.f.b.operationlog.aspect.ApiOperationLogAspect - ====== 请求结束: [用户登录/注册], 耗时: 73ms, 出参: {"success":true,"message":null,"errorCode":null,"data":"L3BDejIfJTlW64RepxskdQvCaQq6vmhMINqTgkUiyaAy1UrUFlba7cZL1j5kO60tYzVS2ipH1a77spgY6TMf0txNiz2hs4bT74eJeie1uh7rzHZdO45xvL4d9jaCVRnj"} =================================== 
2025-04-13 13:39:27.987 [Thread-9] WARN  com.alibaba.nacos.common.notify.NotifyCenter - [NotifyCenter] Start destroying Publisher
2025-04-13 13:39:27.987 [Thread-2] WARN  c.alibaba.nacos.common.http.HttpClientBeanHolder - [HttpClientBeanHolder] Start destroying common HttpClient
2025-04-13 13:39:27.987 [Thread-9] WARN  com.alibaba.nacos.common.notify.NotifyCenter - [NotifyCenter] Destruction of the end
2025-04-13 13:39:27.989 [Thread-2] WARN  c.alibaba.nacos.common.http.HttpClientBeanHolder - [HttpClientBeanHolder] Destruction of the end
2025-04-13 13:39:28.139 [SpringApplicationShutdownHook] INFO  c.a.cloud.nacos.registry.NacosServiceRegistry - De-registering from Nacos Server now...
2025-04-13 13:39:28.140 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - [DEREGISTER-SERVICE] xiaohashu deregistering service xiaohashu-auth with instance: Instance{instanceId='null', ip='172.20.10.3', port=8080, weight=1.0, healthy=true, enabled=true, ephemeral=true, clusterName='DEFAULT', serviceName='null', metadata={}}
2025-04-13 13:39:28.158 [SpringApplicationShutdownHook] INFO  c.a.cloud.nacos.registry.NacosServiceRegistry - De-registration finished.
2025-04-13 13:39:28.159 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.cache.ServiceInfoHolder do shutdown begin
2025-04-13 13:39:28.161 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.backups.FailoverReactor do shutdown begin
2025-04-13 13:39:28.163 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.backups.FailoverReactor do shutdown stop
2025-04-13 13:39:28.163 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.cache.ServiceInfoHolder do shutdown stop
2025-04-13 13:39:28.164 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.remote.NamingClientProxyDelegate do shutdown begin
2025-04-13 13:39:28.164 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.core.ServiceInfoUpdateService do shutdown begin
2025-04-13 13:39:28.164 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.core.ServiceInfoUpdateService do shutdown stop
2025-04-13 13:39:28.164 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.core.ServerListManager do shutdown begin
2025-04-13 13:39:28.164 [SpringApplicationShutdownHook] WARN  com.alibaba.nacos.client.naming - [NamingHttpClientManager] Start destroying NacosRestTemplate
2025-04-13 13:39:28.165 [SpringApplicationShutdownHook] WARN  com.alibaba.nacos.client.naming - [NamingHttpClientManager] Destruction of the end
2025-04-13 13:39:28.165 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.core.ServerListManager do shutdown stop
2025-04-13 13:39:28.165 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.remote.http.NamingHttpClientProxy do shutdown begin
2025-04-13 13:39:28.165 [SpringApplicationShutdownHook] WARN  com.alibaba.nacos.client.naming - [NamingHttpClientManager] Start destroying NacosRestTemplate
2025-04-13 13:39:28.165 [SpringApplicationShutdownHook] WARN  com.alibaba.nacos.client.naming - [NamingHttpClientManager] Destruction of the end
2025-04-13 13:39:28.165 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.remote.http.NamingHttpClientProxy do shutdown stop
2025-04-13 13:39:28.165 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.common.remote.client - Shutdown rpc client, set status to shutdown
2025-04-13 13:39:28.165 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.common.remote.client - Shutdown client event executor java.util.concurrent.ScheduledThreadPoolExecutor@29933f6a[Running, pool size = 2, active threads = 2, queued tasks = 0, completed tasks = 0]
2025-04-13 13:39:28.166 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.common.remote.client - Close current connection 1744471139675_127.0.0.1_60275
2025-04-13 13:39:28.169 [nacos-grpc-client-executor-127.0.0.1-10317] INFO  c.a.nacos.common.remote.client.grpc.GrpcClient - [1744471139675_127.0.0.1_60275]Ignore complete event,isRunning:false,isAbandon=false
2025-04-13 13:39:28.175 [SpringApplicationShutdownHook] INFO  c.a.nacos.common.remote.client.grpc.GrpcClient - Shutdown grpc executor java.util.concurrent.ThreadPoolExecutor@6b9ba8f4[Running, pool size = 4, active threads = 0, queued tasks = 0, completed tasks = 10318]
2025-04-13 13:39:28.175 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - Shutdown grpc redo service executor java.util.concurrent.ScheduledThreadPoolExecutor@36437e22[Running, pool size = 1, active threads = 0, queued tasks = 1, completed tasks = 17165]
2025-04-13 13:39:28.176 [SpringApplicationShutdownHook] INFO  c.a.n.client.auth.ram.identify.CredentialWatcher - [null] CredentialWatcher is stopped
2025-04-13 13:39:28.176 [SpringApplicationShutdownHook] INFO  c.a.n.client.auth.ram.identify.CredentialService - [null] CredentialService is freed
2025-04-13 13:39:28.176 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.remote.NamingClientProxyDelegate do shutdown stop
2025-04-13 13:39:28.337 [SpringApplicationShutdownHook] INFO  com.alibaba.druid.pool.DruidDataSource - {dataSource-1} closing ...
2025-04-13 13:39:28.344 [SpringApplicationShutdownHook] INFO  com.alibaba.druid.pool.DruidDataSource - {dataSource-1} closed
2025-04-13 13:39:35.963 [main] WARN  com.alibaba.nacos.client.logging.NacosLogging - Load Logback Configuration of Nacos fail, message: Could not initialize Logback Nacos logging from classpath:nacos-logback.xml
2025-04-13 13:39:36.060 [main] WARN  com.alibaba.nacos.client.logging.NacosLogging - Load Logback Configuration of Nacos fail, message: Could not initialize Logback Nacos logging from classpath:nacos-logback.xml
2025-04-13 13:39:36.360 [main] WARN  com.alibaba.nacos.client.logging.NacosLogging - Load Logback Configuration of Nacos fail, message: Could not initialize Logback Nacos logging from classpath:nacos-logback.xml
2025-04-13 13:39:36.362 [main] INFO  com.alibaba.nacos.client.utils.ParamUtil - [settings] [req-serv] nacos-server port:8848
2025-04-13 13:39:36.362 [main] INFO  com.alibaba.nacos.client.utils.ParamUtil - [settings] [http-client] connect timeout:1000
2025-04-13 13:39:36.363 [main] INFO  com.alibaba.nacos.client.utils.ParamUtil - PER_TASK_CONFIG_SIZE: 3000.0
2025-04-13 13:39:36.390 [main] INFO  c.a.n.p.auth.spi.client.ClientAuthPluginManager - [ClientAuthPluginManager] Load ClientAuthService com.alibaba.nacos.client.auth.impl.NacosClientAuthServiceImpl success.
2025-04-13 13:39:36.390 [main] INFO  c.a.n.p.auth.spi.client.ClientAuthPluginManager - [ClientAuthPluginManager] Load ClientAuthService com.alibaba.nacos.client.auth.ram.RamClientAuthServiceImpl success.
2025-04-13 13:39:36.392 [main] INFO  c.a.n.client.auth.ram.identify.CredentialWatcher - null No credential found
2025-04-13 13:39:37.780 [main] WARN  com.alibaba.nacos.client.logging.NacosLogging - Load Logback Configuration of Nacos fail, message: Could not initialize Logback Nacos logging from classpath:nacos-logback.xml
2025-04-13 13:39:37.795 [main] INFO  c.a.n.client.config.impl.LocalConfigInfoProcessor - LOCAL_SNAPSHOT_PATH:C:\Users\58214\nacos\config
2025-04-13 13:39:37.806 [main] INFO  com.alibaba.nacos.common.remote.client - [RpcClientFactory] create a new rpc client of 80ad95fc-d831-4095-83c6-bf4755aedaa2_config-0
2025-04-13 13:39:37.820 [main] INFO  com.alibaba.nacos.common.remote.client - [80ad95fc-d831-4095-83c6-bf4755aedaa2_config-0] Register server push request handler:com.alibaba.nacos.client.config.impl.ClientWorker$ConfigRpcTransportClient$$Lambda$589/0x0000000800f8f3b0
2025-04-13 13:39:37.821 [main] INFO  com.alibaba.nacos.common.remote.client - [80ad95fc-d831-4095-83c6-bf4755aedaa2_config-0] Register server push request handler:com.alibaba.nacos.client.config.impl.ClientWorker$ConfigRpcTransportClient$$Lambda$590/0x0000000800f8f7d0
2025-04-13 13:39:37.821 [main] INFO  com.alibaba.nacos.common.remote.client - [80ad95fc-d831-4095-83c6-bf4755aedaa2_config-0] Registry connection listener to current client:com.alibaba.nacos.client.config.impl.ClientWorker$ConfigRpcTransportClient$1
2025-04-13 13:39:37.821 [main] INFO  com.alibaba.nacos.common.remote.client - [80ad95fc-d831-4095-83c6-bf4755aedaa2_config-0] RpcClient init, ServerListFactory = com.alibaba.nacos.client.config.impl.ClientWorker$ConfigRpcTransportClient$2
2025-04-13 13:39:37.835 [main] INFO  com.alibaba.nacos.common.remote.client - [80ad95fc-d831-4095-83c6-bf4755aedaa2_config-0] Try to connect to server on start up, server: {serverIp = '127.0.0.1', server main port = 8848}
2025-04-13 13:39:37.877 [main] INFO  c.a.nacos.common.remote.client.grpc.GrpcClient - grpc client connection server:127.0.0.1 ip,serverPort:9848,grpcTslConfig:{"sslProvider":"OPENSSL","enableTls":false,"mutualAuthEnable":false,"trustAll":false}
2025-04-13 13:39:38.681 [main] INFO  com.alibaba.nacos.common.remote.client - [80ad95fc-d831-4095-83c6-bf4755aedaa2_config-0] Success to connect to server [127.0.0.1:8848] on start up, connectionId = 1744522778488_127.0.0.1_51684
2025-04-13 13:39:38.683 [com.alibaba.nacos.client.remote.worker] INFO  com.alibaba.nacos.common.remote.client - [80ad95fc-d831-4095-83c6-bf4755aedaa2_config-0] Notify connected event to listeners.
2025-04-13 13:39:38.684 [com.alibaba.nacos.client.remote.worker] INFO  com.alibaba.nacos.client.config.impl.ClientWorker - [80ad95fc-d831-4095-83c6-bf4755aedaa2_config-0] Connected,notify listen context...
2025-04-13 13:39:38.684 [main] INFO  com.alibaba.nacos.common.remote.client - [80ad95fc-d831-4095-83c6-bf4755aedaa2_config-0] Register server push request handler:com.alibaba.nacos.common.remote.client.RpcClient$ConnectResetRequestHandler
2025-04-13 13:39:38.687 [main] INFO  com.alibaba.nacos.common.remote.client - [80ad95fc-d831-4095-83c6-bf4755aedaa2_config-0] Register server push request handler:com.alibaba.nacos.common.remote.client.RpcClient$$Lambda$610/0x00000008010d6d18
2025-04-13 13:39:38.795 [main] INFO  com.alibaba.nacos.client.config.impl.Limiter - limitTime:5.0
2025-04-13 13:39:38.885 [main] INFO  com.alibaba.nacos.client.config.utils.JvmUtil - isMultiInstance:false
2025-04-13 13:39:38.901 [main] WARN  c.a.cloud.nacos.client.NacosPropertySourceBuilder - Ignore the empty nacos configuration and get it based on dataId[xiaohashu-auth.yaml] & group[DEFAULT_GROUP]
2025-04-13 13:39:38.909 [main] INFO  o.s.c.b.c.PropertySourceBootstrapConfiguration - Located property source: [BootstrapPropertySource {name='bootstrapProperties-xiaohashu-auth-dev.yaml,DEFAULT_GROUP'}, BootstrapPropertySource {name='bootstrapProperties-xiaohashu-auth.yaml,DEFAULT_GROUP'}, BootstrapPropertySource {name='bootstrapProperties-xiaohashu-auth,DEFAULT_GROUP'}]
2025-04-13 13:39:38.937 [main] WARN  com.alibaba.nacos.client.logging.NacosLogging - Load Logback Configuration of Nacos fail, message: Could not initialize Logback Nacos logging from classpath:nacos-logback.xml
2025-04-13 13:39:38.938 [main] INFO  c.q.xiaohashu.auth.XiaohashuAuthApplication - The following 1 profile is active: "dev"
2025-04-13 13:39:39.879 [main] INFO  o.s.d.r.config.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-04-13 13:39:39.882 [main] INFO  o.s.d.r.config.RepositoryConfigurationDelegate - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2025-04-13 13:39:39.905 [main] INFO  o.s.d.r.config.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 8 ms. Found 0 Redis repository interfaces.
2025-04-13 13:39:40.218 [main] INFO  o.springframework.cloud.context.scope.GenericScope - BeanFactory id=f4b5ea2a-6c16-3b6a-b750-555f557dde0f
2025-04-13 13:39:41.090 [main] INFO  o.s.boot.web.embedded.tomcat.TomcatWebServer - Tomcat initialized with port(s): 8080 (http)
2025-04-13 13:39:41.104 [main] INFO  org.apache.catalina.core.StandardService - Starting service [Tomcat]
2025-04-13 13:39:41.104 [main] INFO  org.apache.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.5]
2025-04-13 13:39:41.195 [main] INFO  o.a.c.core.ContainerBase.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-04-13 13:39:41.196 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 2243 ms
2025-04-13 13:39:41.341 [main] INFO  c.a.d.s.b.a.DruidDataSourceAutoConfigure - Init DruidDataSource
2025-04-13 13:39:41.956 [main] INFO  com.alibaba.druid.pool.DruidDataSource - {dataSource-1} inited
2025-04-13 13:39:44.225 [main] INFO  org.springframework.cloud.commons.util.InetUtils - Cannot determine local hostname
2025-04-13 13:39:46.402 [main] INFO  org.springframework.cloud.commons.util.InetUtils - Cannot determine local hostname
2025-04-13 13:39:46.502 [main] INFO  o.s.boot.web.embedded.tomcat.TomcatWebServer - Tomcat started on port(s): 8080 (http) with context path ''
2025-04-13 13:39:46.506 [main] INFO  com.alibaba.nacos.client.naming - initializer namespace from ans.namespace attribute : null
2025-04-13 13:39:46.506 [main] INFO  com.alibaba.nacos.client.naming - initializer namespace from ALIBABA_ALIWARE_NAMESPACE attribute :null
2025-04-13 13:39:46.507 [main] INFO  com.alibaba.nacos.client.naming - initializer namespace from namespace attribute :null
2025-04-13 13:39:46.514 [main] INFO  c.a.n.p.auth.spi.client.ClientAuthPluginManager - [ClientAuthPluginManager] Load ClientAuthService com.alibaba.nacos.client.auth.impl.NacosClientAuthServiceImpl success.
2025-04-13 13:39:46.514 [main] INFO  c.a.n.p.auth.spi.client.ClientAuthPluginManager - [ClientAuthPluginManager] Load ClientAuthService com.alibaba.nacos.client.auth.ram.RamClientAuthServiceImpl success.
2025-04-13 13:39:46.517 [main] INFO  com.alibaba.nacos.common.remote.client - [RpcClientFactory] create a new rpc client of 490bc55a-56a3-4017-837b-fded103e5ffe
2025-04-13 13:39:46.518 [main] INFO  com.alibaba.nacos.common.remote.client - [490bc55a-56a3-4017-837b-fded103e5ffe] RpcClient init, ServerListFactory = com.alibaba.nacos.client.naming.core.ServerListManager
2025-04-13 13:39:46.519 [main] INFO  com.alibaba.nacos.common.remote.client - [490bc55a-56a3-4017-837b-fded103e5ffe] Registry connection listener to current client:com.alibaba.nacos.client.naming.remote.gprc.redo.NamingGrpcRedoService
2025-04-13 13:39:46.519 [main] INFO  com.alibaba.nacos.common.remote.client - [490bc55a-56a3-4017-837b-fded103e5ffe] Register server push request handler:com.alibaba.nacos.client.naming.remote.gprc.NamingPushRequestHandler
2025-04-13 13:39:46.519 [main] INFO  com.alibaba.nacos.common.remote.client - [490bc55a-56a3-4017-837b-fded103e5ffe] Try to connect to server on start up, server: {serverIp = '127.0.0.1', server main port = 8848}
2025-04-13 13:39:46.519 [main] INFO  c.a.nacos.common.remote.client.grpc.GrpcClient - grpc client connection server:127.0.0.1 ip,serverPort:9848,grpcTslConfig:{"sslProvider":"OPENSSL","enableTls":false,"mutualAuthEnable":false,"trustAll":false}
2025-04-13 13:39:46.656 [main] INFO  com.alibaba.nacos.common.remote.client - [490bc55a-56a3-4017-837b-fded103e5ffe] Success to connect to server [127.0.0.1:8848] on start up, connectionId = 1744522786534_127.0.0.1_51690
2025-04-13 13:39:46.656 [main] INFO  com.alibaba.nacos.common.remote.client - [490bc55a-56a3-4017-837b-fded103e5ffe] Register server push request handler:com.alibaba.nacos.common.remote.client.RpcClient$ConnectResetRequestHandler
2025-04-13 13:39:46.656 [main] INFO  com.alibaba.nacos.common.remote.client - [490bc55a-56a3-4017-837b-fded103e5ffe] Register server push request handler:com.alibaba.nacos.common.remote.client.RpcClient$$Lambda$610/0x00000008010d6d18
2025-04-13 13:39:46.656 [com.alibaba.nacos.client.remote.worker] INFO  com.alibaba.nacos.common.remote.client - [490bc55a-56a3-4017-837b-fded103e5ffe] Notify connected event to listeners.
2025-04-13 13:39:46.656 [com.alibaba.nacos.client.remote.worker] INFO  com.alibaba.nacos.client.naming - Grpc connection connect
2025-04-13 13:39:46.657 [main] INFO  com.alibaba.nacos.client.naming - [REGISTER-SERVICE] xiaohashu registering service xiaohashu-auth with instance Instance{instanceId='null', ip='172.20.10.3', port=8080, weight=1.0, healthy=true, enabled=true, ephemeral=true, clusterName='DEFAULT', serviceName='null', metadata={IPv6=[240e:440:2516:4289:5469:273c:b351:f987], preserved.register.source=SPRING_CLOUD}}
2025-04-13 13:39:46.667 [main] INFO  c.a.cloud.nacos.registry.NacosServiceRegistry - nacos registry, DEFAULT_GROUP xiaohashu-auth 172.20.10.3:8080 register finished
2025-04-13 13:39:47.796 [main] INFO  org.springframework.cloud.commons.util.InetUtils - Cannot determine local hostname
2025-04-13 13:39:47.814 [main] INFO  c.q.xiaohashu.auth.XiaohashuAuthApplication - Started XiaohashuAuthApplication in 13.975 seconds (process running for 15.024)
2025-04-13 13:39:47.816 [main] INFO  c.q.x.auth.runner.PushRolePermissions2RedisRunner - ==> 服务启动，开始同步角色权限数据到 Redis 中...
2025-04-13 13:39:48.306 [main] DEBUG c.q.x.a.d.mapper.RoleDOMapper.selectEnabledList - ==>  Preparing: select id, role_key, role_name from t_role where status = 0 and is_deleted = 0
2025-04-13 13:39:48.569 [main] DEBUG c.q.x.a.d.mapper.RoleDOMapper.selectEnabledList - ==> Parameters: 
2025-04-13 13:39:48.605 [main] DEBUG c.q.x.a.d.mapper.RoleDOMapper.selectEnabledList - <==      Total: 1
2025-04-13 13:39:48.650 [main] DEBUG c.q.x.a.d.m.RolePermissionDOMapper.selectByRoleIds - ==>  Preparing: select role_id, permission_id from t_role_permission_rel where role_id in ( ? )
2025-04-13 13:39:48.652 [main] DEBUG c.q.x.a.d.m.RolePermissionDOMapper.selectByRoleIds - ==> Parameters: 1(Long)
2025-04-13 13:39:48.664 [main] DEBUG c.q.x.a.d.m.RolePermissionDOMapper.selectByRoleIds - <==      Total: 2
2025-04-13 13:39:48.667 [main] DEBUG c.q.x.a.d.m.P.selectAppEnabledList - ==>  Preparing: select id, name, permission_key from t_permission where status = 0 and type = 3 and is_deleted = 0
2025-04-13 13:39:48.669 [main] DEBUG c.q.x.a.d.m.P.selectAppEnabledList - ==> Parameters: 
2025-04-13 13:39:48.673 [main] DEBUG c.q.x.a.d.m.P.selectAppEnabledList - <==      Total: 2
2025-04-13 13:39:48.694 [main] INFO  c.q.x.auth.runner.PushRolePermissions2RedisRunner - ==> 服务启动，成功同步角色权限数据到 Redis 中...
2025-04-13 13:39:48.697 [main] INFO  com.alibaba.nacos.client.config.impl.CacheData - nacos.cache.data.init.snapshot = true 
2025-04-13 13:39:48.697 [main] INFO  com.alibaba.nacos.client.config.impl.ClientWorker - [fixed-xiaohashu-127.0.0.1_8848] [subscribe] xiaohashu-auth.yaml+DEFAULT_GROUP+xiaohashu
2025-04-13 13:39:48.703 [main] INFO  com.alibaba.nacos.client.config.impl.CacheData - [fixed-xiaohashu-127.0.0.1_8848] [add-listener] ok, tenant=xiaohashu, dataId=xiaohashu-auth.yaml, group=DEFAULT_GROUP, cnt=1
2025-04-13 13:39:48.703 [main] INFO  c.a.cloud.nacos.refresh.NacosContextRefresher - [Nacos Config] Listening config: dataId=xiaohashu-auth.yaml, group=DEFAULT_GROUP
2025-04-13 13:39:48.705 [main] INFO  com.alibaba.nacos.client.config.impl.ClientWorker - [fixed-xiaohashu-127.0.0.1_8848] [subscribe] xiaohashu-auth-dev.yaml+DEFAULT_GROUP+xiaohashu
2025-04-13 13:39:48.705 [main] INFO  com.alibaba.nacos.client.config.impl.CacheData - [fixed-xiaohashu-127.0.0.1_8848] [add-listener] ok, tenant=xiaohashu, dataId=xiaohashu-auth-dev.yaml, group=DEFAULT_GROUP, cnt=1
2025-04-13 13:39:48.705 [main] INFO  c.a.cloud.nacos.refresh.NacosContextRefresher - [Nacos Config] Listening config: dataId=xiaohashu-auth-dev.yaml, group=DEFAULT_GROUP
2025-04-13 13:39:48.714 [main] INFO  com.alibaba.nacos.client.config.impl.ClientWorker - [fixed-xiaohashu-127.0.0.1_8848] [subscribe] xiaohashu-auth+DEFAULT_GROUP+xiaohashu
2025-04-13 13:39:48.714 [main] INFO  com.alibaba.nacos.client.config.impl.CacheData - [fixed-xiaohashu-127.0.0.1_8848] [add-listener] ok, tenant=xiaohashu, dataId=xiaohashu-auth, group=DEFAULT_GROUP, cnt=1
2025-04-13 13:39:48.714 [main] INFO  c.a.cloud.nacos.refresh.NacosContextRefresher - [Nacos Config] Listening config: dataId=xiaohashu-auth, group=DEFAULT_GROUP
2025-04-13 13:44:45.660 [http-nio-8080-exec-1] INFO  o.a.c.core.ContainerBase.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-04-13 13:44:45.660 [http-nio-8080-exec-1] INFO  org.springframework.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2025-04-13 13:44:45.661 [http-nio-8080-exec-1] INFO  org.springframework.web.servlet.DispatcherServlet - Completed initialization in 1 ms
2025-04-13 13:44:45.705 [http-nio-8080-exec-1] INFO  c.q.f.b.operationlog.aspect.ApiOperationLogAspect - ====== 请求开始: [账号登出], 入参: , 请求类: UserController, 请求方法: logout =================================== 
2025-04-13 13:44:45.706 [http-nio-8080-exec-1] INFO  c.q.f.b.operationlog.aspect.ApiOperationLogAspect - ====== 请求结束: [账号登出], 耗时: 2ms, 出参: {"success":true,"message":null,"errorCode":null,"data":null} =================================== 
2025-04-13 13:52:19.555 [http-nio-8080-exec-3] INFO  c.q.f.b.operationlog.aspect.ApiOperationLogAspect - ====== 请求开始: [账号登出], 入参: , 请求类: UserController, 请求方法: logout =================================== 
2025-04-13 13:52:19.555 [http-nio-8080-exec-3] INFO  c.q.f.b.operationlog.aspect.ApiOperationLogAspect - ====== 请求结束: [账号登出], 耗时: 0ms, 出参: {"success":true,"message":null,"errorCode":null,"data":null} =================================== 
2025-04-13 13:56:41.518 [http-nio-8080-exec-5] INFO  c.q.f.b.operationlog.aspect.ApiOperationLogAspect - ====== 请求开始: [发送短信验证码], 入参: {"phone":"13782612609"}, 请求类: VerificationCodeController, 请求方法: send =================================== 
2025-04-13 13:56:41.527 [http-nio-8080-exec-5] INFO  c.q.x.a.service.impl.VerificationCodeServiceImpl - ==> 手机号: 13782612609, 已发送验证码：【318658】
2025-04-13 13:56:41.528 [AuthExecutor-1] INFO  com.quanxiaoha.xiaohashu.auth.sms.AliyunSmsHelper - ==> 开始短信发送, phone: 13782612609, signName: 阿里云短信测试, templateCode: SMS_154950909, templateParam: {"code":"318658"}
2025-04-13 13:56:41.532 [http-nio-8080-exec-5] INFO  c.q.f.b.operationlog.aspect.ApiOperationLogAspect - ====== 请求结束: [发送短信验证码], 耗时: 13ms, 出参: {"success":true,"message":null,"errorCode":null,"data":null} =================================== 
2025-04-13 14:02:42.007 [http-nio-8080-exec-1] INFO  c.q.f.b.operationlog.aspect.ApiOperationLogAspect - ====== 请求开始: [发送短信验证码], 入参: {"phone":"13782612609"}, 请求类: VerificationCodeController, 请求方法: send =================================== 
2025-04-13 14:02:42.010 [http-nio-8080-exec-1] INFO  c.q.x.a.service.impl.VerificationCodeServiceImpl - ==> 手机号: 13782612609, 已发送验证码：【926371】
2025-04-13 14:02:42.011 [AuthExecutor-2] INFO  com.quanxiaoha.xiaohashu.auth.sms.AliyunSmsHelper - ==> 开始短信发送, phone: 13782612609, signName: 阿里云短信测试, templateCode: SMS_154950909, templateParam: {"code":"926371"}
2025-04-13 14:02:42.013 [http-nio-8080-exec-1] INFO  c.q.f.b.operationlog.aspect.ApiOperationLogAspect - ====== 请求结束: [发送短信验证码], 耗时: 6ms, 出参: {"success":true,"message":null,"errorCode":null,"data":null} =================================== 
2025-04-13 14:12:17.294 [http-nio-8080-exec-5] INFO  c.q.f.b.operationlog.aspect.ApiOperationLogAspect - ====== 请求开始: [发送短信验证码], 入参: {"phone":"13782612609"}, 请求类: VerificationCodeController, 请求方法: send =================================== 
2025-04-13 14:12:17.297 [http-nio-8080-exec-5] INFO  c.q.x.a.service.impl.VerificationCodeServiceImpl - ==> 手机号: 13782612609, 已发送验证码：【889837】
2025-04-13 14:12:17.298 [AuthExecutor-3] INFO  com.quanxiaoha.xiaohashu.auth.sms.AliyunSmsHelper - ==> 开始短信发送, phone: 13782612609, signName: 阿里云短信测试, templateCode: SMS_154950909, templateParam: {"code":"889837"}
2025-04-13 14:12:17.300 [http-nio-8080-exec-5] INFO  c.q.f.b.operationlog.aspect.ApiOperationLogAspect - ====== 请求结束: [发送短信验证码], 耗时: 6ms, 出参: {"success":true,"message":null,"errorCode":null,"data":null} =================================== 
2025-04-13 14:12:27.030 [http-nio-8080-exec-6] INFO  c.q.f.b.operationlog.aspect.ApiOperationLogAspect - ====== 请求开始: [用户登录/注册], 入参: {"phone":"13782612609","code":"889837","password":null,"type":1}, 请求类: UserController, 请求方法: loginAndRegister =================================== 
2025-04-13 14:12:27.096 [http-nio-8080-exec-6] DEBUG c.q.x.a.domain.mapper.UserDOMapper.selectByPhone - ==>  Preparing: select id, password from t_user where phone = ?
2025-04-13 14:12:27.117 [http-nio-8080-exec-6] DEBUG c.q.x.a.domain.mapper.UserDOMapper.selectByPhone - ==> Parameters: 13782612609(String)
2025-04-13 14:12:27.123 [http-nio-8080-exec-6] DEBUG c.q.x.a.domain.mapper.UserDOMapper.selectByPhone - <==      Total: 1
2025-04-13 14:12:27.125 [http-nio-8080-exec-6] INFO  c.q.xiaohashu.auth.service.impl.UserServiceImpl - ==> 用户是否注册, phone: 13782612609, userDO: {"id":2,"xiaohashuId":null,"password":null,"nickname":null,"avatar":null,"birthday":null,"backgroundImg":null,"phone":null,"sex":null,"status":null,"introduction":null,"createTime":null,"updateTime":null,"isDeleted":null}
2025-04-13 14:12:27.250 [http-nio-8080-exec-6] INFO  c.q.f.b.operationlog.aspect.ApiOperationLogAspect - ====== 请求结束: [用户登录/注册], 耗时: 221ms, 出参: {"success":true,"message":null,"errorCode":null,"data":"ql9VQGJezhu8esljMnBRXB8GMvY6bAfeTwckYLhy2KzANVl46nI9ixh76dpnHJ9Ar9MFeHoeH2SAsEVE37wKzp2lrlhUzgQFZXH9gMVBlGIMLVVdC4XryQMlWOppoA1b"} =================================== 
2025-04-13 14:14:47.438 [http-nio-8080-exec-8] INFO  c.q.f.b.operationlog.aspect.ApiOperationLogAspect - ====== 请求开始: [账号登出], 入参: , 请求类: UserController, 请求方法: logout =================================== 
2025-04-13 14:14:47.438 [http-nio-8080-exec-8] INFO  c.q.f.b.operationlog.aspect.ApiOperationLogAspect - ====== 请求结束: [账号登出], 耗时: 0ms, 出参: {"success":true,"message":null,"errorCode":null,"data":null} =================================== 
2025-04-13 14:16:24.212 [Thread-2] WARN  c.alibaba.nacos.common.http.HttpClientBeanHolder - [HttpClientBeanHolder] Start destroying common HttpClient
2025-04-13 14:16:24.213 [Thread-9] WARN  com.alibaba.nacos.common.notify.NotifyCenter - [NotifyCenter] Start destroying Publisher
2025-04-13 14:16:24.213 [Thread-9] WARN  com.alibaba.nacos.common.notify.NotifyCenter - [NotifyCenter] Destruction of the end
2025-04-13 14:16:24.213 [Thread-2] WARN  c.alibaba.nacos.common.http.HttpClientBeanHolder - [HttpClientBeanHolder] Destruction of the end
2025-04-13 14:16:24.335 [SpringApplicationShutdownHook] INFO  c.a.cloud.nacos.registry.NacosServiceRegistry - De-registering from Nacos Server now...
2025-04-13 14:16:24.335 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - [DEREGISTER-SERVICE] xiaohashu deregistering service xiaohashu-auth with instance: Instance{instanceId='null', ip='172.20.10.3', port=8080, weight=1.0, healthy=true, enabled=true, ephemeral=true, clusterName='DEFAULT', serviceName='null', metadata={}}
2025-04-13 14:16:24.347 [SpringApplicationShutdownHook] INFO  c.a.cloud.nacos.registry.NacosServiceRegistry - De-registration finished.
2025-04-13 14:16:24.348 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.cache.ServiceInfoHolder do shutdown begin
2025-04-13 14:16:24.348 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.backups.FailoverReactor do shutdown begin
2025-04-13 14:16:24.348 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.backups.FailoverReactor do shutdown stop
2025-04-13 14:16:24.348 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.cache.ServiceInfoHolder do shutdown stop
2025-04-13 14:16:24.348 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.remote.NamingClientProxyDelegate do shutdown begin
2025-04-13 14:16:24.349 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.core.ServiceInfoUpdateService do shutdown begin
2025-04-13 14:16:24.349 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.core.ServiceInfoUpdateService do shutdown stop
2025-04-13 14:16:24.349 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.core.ServerListManager do shutdown begin
2025-04-13 14:16:24.349 [SpringApplicationShutdownHook] WARN  com.alibaba.nacos.client.naming - [NamingHttpClientManager] Start destroying NacosRestTemplate
2025-04-13 14:16:24.349 [SpringApplicationShutdownHook] WARN  com.alibaba.nacos.client.naming - [NamingHttpClientManager] Destruction of the end
2025-04-13 14:16:24.350 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.core.ServerListManager do shutdown stop
2025-04-13 14:16:24.350 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.remote.http.NamingHttpClientProxy do shutdown begin
2025-04-13 14:16:24.350 [SpringApplicationShutdownHook] WARN  com.alibaba.nacos.client.naming - [NamingHttpClientManager] Start destroying NacosRestTemplate
2025-04-13 14:16:24.350 [SpringApplicationShutdownHook] WARN  com.alibaba.nacos.client.naming - [NamingHttpClientManager] Destruction of the end
2025-04-13 14:16:24.350 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.remote.http.NamingHttpClientProxy do shutdown stop
2025-04-13 14:16:24.350 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.common.remote.client - Shutdown rpc client, set status to shutdown
2025-04-13 14:16:24.351 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.common.remote.client - Shutdown client event executor java.util.concurrent.ScheduledThreadPoolExecutor@2052d9db[Running, pool size = 2, active threads = 2, queued tasks = 0, completed tasks = 0]
2025-04-13 14:16:24.351 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.common.remote.client - Close current connection 1744522786534_127.0.0.1_51690
2025-04-13 14:16:24.359 [nacos-grpc-client-executor-127.0.0.1-449] WARN  c.a.nacos.common.remote.client.grpc.GrpcClient - [1744522786534_127.0.0.1_51690]Ignore error event,isRunning:false,isAbandon=false
2025-04-13 14:16:24.367 [SpringApplicationShutdownHook] INFO  c.a.nacos.common.remote.client.grpc.GrpcClient - Shutdown grpc executor java.util.concurrent.ThreadPoolExecutor@64cea803[Running, pool size = 4, active threads = 0, queued tasks = 0, completed tasks = 450]
2025-04-13 14:16:24.367 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - Shutdown grpc redo service executor java.util.concurrent.ScheduledThreadPoolExecutor@1874213[Running, pool size = 1, active threads = 0, queued tasks = 1, completed tasks = 730]
2025-04-13 14:16:24.367 [SpringApplicationShutdownHook] INFO  c.a.n.client.auth.ram.identify.CredentialWatcher - [null] CredentialWatcher is stopped
2025-04-13 14:16:24.367 [SpringApplicationShutdownHook] INFO  c.a.n.client.auth.ram.identify.CredentialService - [null] CredentialService is freed
2025-04-13 14:16:24.368 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.remote.NamingClientProxyDelegate do shutdown stop
2025-04-13 14:16:24.527 [SpringApplicationShutdownHook] INFO  com.alibaba.druid.pool.DruidDataSource - {dataSource-1} closing ...
2025-04-13 14:16:24.532 [SpringApplicationShutdownHook] INFO  com.alibaba.druid.pool.DruidDataSource - {dataSource-1} closed
2025-04-13 14:16:35.217 [main] WARN  com.alibaba.nacos.client.logging.NacosLogging - Load Logback Configuration of Nacos fail, message: Could not initialize Logback Nacos logging from classpath:nacos-logback.xml
2025-04-13 14:16:35.297 [main] WARN  com.alibaba.nacos.client.logging.NacosLogging - Load Logback Configuration of Nacos fail, message: Could not initialize Logback Nacos logging from classpath:nacos-logback.xml
2025-04-13 14:16:35.643 [main] WARN  com.alibaba.nacos.client.logging.NacosLogging - Load Logback Configuration of Nacos fail, message: Could not initialize Logback Nacos logging from classpath:nacos-logback.xml
2025-04-13 14:16:35.645 [main] INFO  com.alibaba.nacos.client.utils.ParamUtil - [settings] [req-serv] nacos-server port:8848
2025-04-13 14:16:35.647 [main] INFO  com.alibaba.nacos.client.utils.ParamUtil - [settings] [http-client] connect timeout:1000
2025-04-13 14:16:35.649 [main] INFO  com.alibaba.nacos.client.utils.ParamUtil - PER_TASK_CONFIG_SIZE: 3000.0
2025-04-13 14:16:35.676 [main] INFO  c.a.n.p.auth.spi.client.ClientAuthPluginManager - [ClientAuthPluginManager] Load ClientAuthService com.alibaba.nacos.client.auth.impl.NacosClientAuthServiceImpl success.
2025-04-13 14:16:35.676 [main] INFO  c.a.n.p.auth.spi.client.ClientAuthPluginManager - [ClientAuthPluginManager] Load ClientAuthService com.alibaba.nacos.client.auth.ram.RamClientAuthServiceImpl success.
2025-04-13 14:16:35.679 [main] INFO  c.a.n.client.auth.ram.identify.CredentialWatcher - null No credential found
2025-04-13 14:16:37.091 [main] WARN  com.alibaba.nacos.client.logging.NacosLogging - Load Logback Configuration of Nacos fail, message: Could not initialize Logback Nacos logging from classpath:nacos-logback.xml
2025-04-13 14:16:37.106 [main] INFO  c.a.n.client.config.impl.LocalConfigInfoProcessor - LOCAL_SNAPSHOT_PATH:C:\Users\58214\nacos\config
2025-04-13 14:16:37.110 [main] INFO  com.alibaba.nacos.common.remote.client - [RpcClientFactory] create a new rpc client of bba4d2dc-152b-4126-bb84-55e288806e8a_config-0
2025-04-13 14:16:37.126 [main] INFO  com.alibaba.nacos.common.remote.client - [bba4d2dc-152b-4126-bb84-55e288806e8a_config-0] Register server push request handler:com.alibaba.nacos.client.config.impl.ClientWorker$ConfigRpcTransportClient$$Lambda$589/0x0000000800f901f8
2025-04-13 14:16:37.127 [main] INFO  com.alibaba.nacos.common.remote.client - [bba4d2dc-152b-4126-bb84-55e288806e8a_config-0] Register server push request handler:com.alibaba.nacos.client.config.impl.ClientWorker$ConfigRpcTransportClient$$Lambda$590/0x0000000800f90618
2025-04-13 14:16:37.127 [main] INFO  com.alibaba.nacos.common.remote.client - [bba4d2dc-152b-4126-bb84-55e288806e8a_config-0] Registry connection listener to current client:com.alibaba.nacos.client.config.impl.ClientWorker$ConfigRpcTransportClient$1
2025-04-13 14:16:37.127 [main] INFO  com.alibaba.nacos.common.remote.client - [bba4d2dc-152b-4126-bb84-55e288806e8a_config-0] RpcClient init, ServerListFactory = com.alibaba.nacos.client.config.impl.ClientWorker$ConfigRpcTransportClient$2
2025-04-13 14:16:37.143 [main] INFO  com.alibaba.nacos.common.remote.client - [bba4d2dc-152b-4126-bb84-55e288806e8a_config-0] Try to connect to server on start up, server: {serverIp = '127.0.0.1', server main port = 8848}
2025-04-13 14:16:37.184 [main] INFO  c.a.nacos.common.remote.client.grpc.GrpcClient - grpc client connection server:127.0.0.1 ip,serverPort:9848,grpcTslConfig:{"sslProvider":"OPENSSL","enableTls":false,"mutualAuthEnable":false,"trustAll":false}
2025-04-13 14:16:38.093 [main] INFO  com.alibaba.nacos.common.remote.client - [bba4d2dc-152b-4126-bb84-55e288806e8a_config-0] Success to connect to server [127.0.0.1:8848] on start up, connectionId = 1744524997880_127.0.0.1_53373
2025-04-13 14:16:38.093 [com.alibaba.nacos.client.remote.worker] INFO  com.alibaba.nacos.common.remote.client - [bba4d2dc-152b-4126-bb84-55e288806e8a_config-0] Notify connected event to listeners.
2025-04-13 14:16:38.093 [com.alibaba.nacos.client.remote.worker] INFO  com.alibaba.nacos.client.config.impl.ClientWorker - [bba4d2dc-152b-4126-bb84-55e288806e8a_config-0] Connected,notify listen context...
2025-04-13 14:16:38.093 [main] INFO  com.alibaba.nacos.common.remote.client - [bba4d2dc-152b-4126-bb84-55e288806e8a_config-0] Register server push request handler:com.alibaba.nacos.common.remote.client.RpcClient$ConnectResetRequestHandler
2025-04-13 14:16:38.094 [main] INFO  com.alibaba.nacos.common.remote.client - [bba4d2dc-152b-4126-bb84-55e288806e8a_config-0] Register server push request handler:com.alibaba.nacos.common.remote.client.RpcClient$$Lambda$610/0x00000008010d79c0
2025-04-13 14:16:38.166 [main] INFO  com.alibaba.nacos.client.config.impl.Limiter - limitTime:5.0
2025-04-13 14:16:38.184 [main] INFO  com.alibaba.nacos.client.config.utils.JvmUtil - isMultiInstance:false
2025-04-13 14:16:38.196 [main] WARN  c.a.cloud.nacos.client.NacosPropertySourceBuilder - Ignore the empty nacos configuration and get it based on dataId[xiaohashu-auth.yaml] & group[DEFAULT_GROUP]
2025-04-13 14:16:38.211 [main] INFO  o.s.c.b.c.PropertySourceBootstrapConfiguration - Located property source: [BootstrapPropertySource {name='bootstrapProperties-xiaohashu-auth-dev.yaml,DEFAULT_GROUP'}, BootstrapPropertySource {name='bootstrapProperties-xiaohashu-auth.yaml,DEFAULT_GROUP'}, BootstrapPropertySource {name='bootstrapProperties-xiaohashu-auth,DEFAULT_GROUP'}]
2025-04-13 14:16:38.238 [main] WARN  com.alibaba.nacos.client.logging.NacosLogging - Load Logback Configuration of Nacos fail, message: Could not initialize Logback Nacos logging from classpath:nacos-logback.xml
2025-04-13 14:16:38.239 [main] INFO  c.q.xiaohashu.auth.XiaohashuAuthApplication - The following 1 profile is active: "dev"
2025-04-13 14:16:39.094 [main] INFO  o.s.d.r.config.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-04-13 14:16:39.097 [main] INFO  o.s.d.r.config.RepositoryConfigurationDelegate - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2025-04-13 14:16:39.122 [main] INFO  o.s.d.r.config.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 10 ms. Found 0 Redis repository interfaces.
2025-04-13 14:16:39.377 [main] INFO  o.springframework.cloud.context.scope.GenericScope - BeanFactory id=f4b5ea2a-6c16-3b6a-b750-555f557dde0f
2025-04-13 14:16:40.094 [main] INFO  o.s.boot.web.embedded.tomcat.TomcatWebServer - Tomcat initialized with port(s): 8080 (http)
2025-04-13 14:16:40.108 [main] INFO  org.apache.catalina.core.StandardService - Starting service [Tomcat]
2025-04-13 14:16:40.108 [main] INFO  org.apache.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.5]
2025-04-13 14:16:40.226 [main] INFO  o.a.c.core.ContainerBase.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-04-13 14:16:40.226 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 1973 ms
2025-04-13 14:16:40.384 [main] INFO  c.a.d.s.b.a.DruidDataSourceAutoConfigure - Init DruidDataSource
2025-04-13 14:16:41.181 [main] INFO  com.alibaba.druid.pool.DruidDataSource - {dataSource-1} inited
2025-04-13 14:16:43.551 [main] INFO  org.springframework.cloud.commons.util.InetUtils - Cannot determine local hostname
2025-04-13 14:16:47.210 [main] INFO  org.springframework.cloud.commons.util.InetUtils - Cannot determine local hostname
2025-04-13 14:16:47.302 [main] INFO  o.s.boot.web.embedded.tomcat.TomcatWebServer - Tomcat started on port(s): 8080 (http) with context path ''
2025-04-13 14:16:47.306 [main] INFO  com.alibaba.nacos.client.naming - initializer namespace from ans.namespace attribute : null
2025-04-13 14:16:47.307 [main] INFO  com.alibaba.nacos.client.naming - initializer namespace from ALIBABA_ALIWARE_NAMESPACE attribute :null
2025-04-13 14:16:47.307 [main] INFO  com.alibaba.nacos.client.naming - initializer namespace from namespace attribute :null
2025-04-13 14:16:47.315 [main] INFO  c.a.n.p.auth.spi.client.ClientAuthPluginManager - [ClientAuthPluginManager] Load ClientAuthService com.alibaba.nacos.client.auth.impl.NacosClientAuthServiceImpl success.
2025-04-13 14:16:47.315 [main] INFO  c.a.n.p.auth.spi.client.ClientAuthPluginManager - [ClientAuthPluginManager] Load ClientAuthService com.alibaba.nacos.client.auth.ram.RamClientAuthServiceImpl success.
2025-04-13 14:16:47.320 [main] INFO  com.alibaba.nacos.common.remote.client - [RpcClientFactory] create a new rpc client of 025ec6c0-8030-496b-a7ba-f9d0c40effb5
2025-04-13 14:16:47.322 [main] INFO  com.alibaba.nacos.common.remote.client - [025ec6c0-8030-496b-a7ba-f9d0c40effb5] RpcClient init, ServerListFactory = com.alibaba.nacos.client.naming.core.ServerListManager
2025-04-13 14:16:47.322 [main] INFO  com.alibaba.nacos.common.remote.client - [025ec6c0-8030-496b-a7ba-f9d0c40effb5] Registry connection listener to current client:com.alibaba.nacos.client.naming.remote.gprc.redo.NamingGrpcRedoService
2025-04-13 14:16:47.322 [main] INFO  com.alibaba.nacos.common.remote.client - [025ec6c0-8030-496b-a7ba-f9d0c40effb5] Register server push request handler:com.alibaba.nacos.client.naming.remote.gprc.NamingPushRequestHandler
2025-04-13 14:16:47.322 [main] INFO  com.alibaba.nacos.common.remote.client - [025ec6c0-8030-496b-a7ba-f9d0c40effb5] Try to connect to server on start up, server: {serverIp = '127.0.0.1', server main port = 8848}
2025-04-13 14:16:47.322 [main] INFO  c.a.nacos.common.remote.client.grpc.GrpcClient - grpc client connection server:127.0.0.1 ip,serverPort:9848,grpcTslConfig:{"sslProvider":"OPENSSL","enableTls":false,"mutualAuthEnable":false,"trustAll":false}
2025-04-13 14:16:47.445 [main] INFO  com.alibaba.nacos.common.remote.client - [025ec6c0-8030-496b-a7ba-f9d0c40effb5] Success to connect to server [127.0.0.1:8848] on start up, connectionId = 1744525007337_127.0.0.1_53393
2025-04-13 14:16:47.445 [main] INFO  com.alibaba.nacos.common.remote.client - [025ec6c0-8030-496b-a7ba-f9d0c40effb5] Register server push request handler:com.alibaba.nacos.common.remote.client.RpcClient$ConnectResetRequestHandler
2025-04-13 14:16:47.445 [com.alibaba.nacos.client.remote.worker] INFO  com.alibaba.nacos.common.remote.client - [025ec6c0-8030-496b-a7ba-f9d0c40effb5] Notify connected event to listeners.
2025-04-13 14:16:47.445 [main] INFO  com.alibaba.nacos.common.remote.client - [025ec6c0-8030-496b-a7ba-f9d0c40effb5] Register server push request handler:com.alibaba.nacos.common.remote.client.RpcClient$$Lambda$610/0x00000008010d79c0
2025-04-13 14:16:47.445 [com.alibaba.nacos.client.remote.worker] INFO  com.alibaba.nacos.client.naming - Grpc connection connect
2025-04-13 14:16:47.446 [main] INFO  com.alibaba.nacos.client.naming - [REGISTER-SERVICE] xiaohashu registering service xiaohashu-auth with instance Instance{instanceId='null', ip='172.20.10.3', port=8080, weight=1.0, healthy=true, enabled=true, ephemeral=true, clusterName='DEFAULT', serviceName='null', metadata={IPv6=[240e:440:2516:4289:5469:273c:b351:f987], preserved.register.source=SPRING_CLOUD}}
2025-04-13 14:16:47.466 [main] INFO  c.a.cloud.nacos.registry.NacosServiceRegistry - nacos registry, DEFAULT_GROUP xiaohashu-auth 172.20.10.3:8080 register finished
2025-04-13 14:16:48.642 [main] INFO  org.springframework.cloud.commons.util.InetUtils - Cannot determine local hostname
2025-04-13 14:16:48.654 [main] INFO  c.q.xiaohashu.auth.XiaohashuAuthApplication - Started XiaohashuAuthApplication in 15.528 seconds (process running for 16.436)
2025-04-13 14:16:48.656 [main] INFO  c.q.x.auth.runner.PushRolePermissions2RedisRunner - ==> 服务启动，开始同步角色权限数据到 Redis 中...
2025-04-13 14:16:49.182 [main] WARN  c.q.x.auth.runner.PushRolePermissions2RedisRunner - ==> 角色权限数据已经同步至 Redis 中，不再同步...
2025-04-13 14:16:49.187 [main] INFO  com.alibaba.nacos.client.config.impl.CacheData - nacos.cache.data.init.snapshot = true 
2025-04-13 14:16:49.187 [main] INFO  com.alibaba.nacos.client.config.impl.ClientWorker - [fixed-xiaohashu-127.0.0.1_8848] [subscribe] xiaohashu-auth.yaml+DEFAULT_GROUP+xiaohashu
2025-04-13 14:16:49.195 [main] INFO  com.alibaba.nacos.client.config.impl.CacheData - [fixed-xiaohashu-127.0.0.1_8848] [add-listener] ok, tenant=xiaohashu, dataId=xiaohashu-auth.yaml, group=DEFAULT_GROUP, cnt=1
2025-04-13 14:16:49.195 [main] INFO  c.a.cloud.nacos.refresh.NacosContextRefresher - [Nacos Config] Listening config: dataId=xiaohashu-auth.yaml, group=DEFAULT_GROUP
2025-04-13 14:16:49.208 [main] INFO  com.alibaba.nacos.client.config.impl.ClientWorker - [fixed-xiaohashu-127.0.0.1_8848] [subscribe] xiaohashu-auth-dev.yaml+DEFAULT_GROUP+xiaohashu
2025-04-13 14:16:49.208 [main] INFO  com.alibaba.nacos.client.config.impl.CacheData - [fixed-xiaohashu-127.0.0.1_8848] [add-listener] ok, tenant=xiaohashu, dataId=xiaohashu-auth-dev.yaml, group=DEFAULT_GROUP, cnt=1
2025-04-13 14:16:49.208 [main] INFO  c.a.cloud.nacos.refresh.NacosContextRefresher - [Nacos Config] Listening config: dataId=xiaohashu-auth-dev.yaml, group=DEFAULT_GROUP
2025-04-13 14:16:49.211 [main] INFO  com.alibaba.nacos.client.config.impl.ClientWorker - [fixed-xiaohashu-127.0.0.1_8848] [subscribe] xiaohashu-auth+DEFAULT_GROUP+xiaohashu
2025-04-13 14:16:49.211 [main] INFO  com.alibaba.nacos.client.config.impl.CacheData - [fixed-xiaohashu-127.0.0.1_8848] [add-listener] ok, tenant=xiaohashu, dataId=xiaohashu-auth, group=DEFAULT_GROUP, cnt=1
2025-04-13 14:16:49.212 [main] INFO  c.a.cloud.nacos.refresh.NacosContextRefresher - [Nacos Config] Listening config: dataId=xiaohashu-auth, group=DEFAULT_GROUP
2025-04-13 14:17:09.809 [http-nio-8080-exec-1] INFO  o.a.c.core.ContainerBase.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-04-13 14:17:09.809 [http-nio-8080-exec-1] INFO  org.springframework.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2025-04-13 14:17:09.810 [http-nio-8080-exec-1] INFO  org.springframework.web.servlet.DispatcherServlet - Completed initialization in 1 ms
2025-04-13 14:17:09.895 [http-nio-8080-exec-1] INFO  c.q.f.b.operationlog.aspect.ApiOperationLogAspect - ====== 请求开始: [账号登出], 入参: "2", 请求类: UserController, 请求方法: logout =================================== 
2025-04-13 14:17:09.952 [http-nio-8080-exec-1] INFO  c.q.f.b.operationlog.aspect.ApiOperationLogAspect - ====== 请求结束: [账号登出], 耗时: 58ms, 出参: {"success":true,"message":null,"errorCode":null,"data":null} =================================== 
2025-04-13 14:21:05.064 [Thread-2] WARN  c.alibaba.nacos.common.http.HttpClientBeanHolder - [HttpClientBeanHolder] Start destroying common HttpClient
2025-04-13 14:21:05.064 [Thread-9] WARN  com.alibaba.nacos.common.notify.NotifyCenter - [NotifyCenter] Start destroying Publisher
2025-04-13 14:21:05.064 [Thread-9] WARN  com.alibaba.nacos.common.notify.NotifyCenter - [NotifyCenter] Destruction of the end
2025-04-13 14:21:05.064 [Thread-2] WARN  c.alibaba.nacos.common.http.HttpClientBeanHolder - [HttpClientBeanHolder] Destruction of the end
2025-04-13 14:21:05.143 [SpringApplicationShutdownHook] INFO  c.a.cloud.nacos.registry.NacosServiceRegistry - De-registering from Nacos Server now...
2025-04-13 14:21:05.143 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - [DEREGISTER-SERVICE] xiaohashu deregistering service xiaohashu-auth with instance: Instance{instanceId='null', ip='172.20.10.3', port=8080, weight=1.0, healthy=true, enabled=true, ephemeral=true, clusterName='DEFAULT', serviceName='null', metadata={}}
2025-04-13 14:21:05.156 [SpringApplicationShutdownHook] INFO  c.a.cloud.nacos.registry.NacosServiceRegistry - De-registration finished.
2025-04-13 14:21:05.156 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.cache.ServiceInfoHolder do shutdown begin
2025-04-13 14:21:05.156 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.backups.FailoverReactor do shutdown begin
2025-04-13 14:21:05.157 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.backups.FailoverReactor do shutdown stop
2025-04-13 14:21:05.157 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.cache.ServiceInfoHolder do shutdown stop
2025-04-13 14:21:05.157 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.remote.NamingClientProxyDelegate do shutdown begin
2025-04-13 14:21:05.157 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.core.ServiceInfoUpdateService do shutdown begin
2025-04-13 14:21:05.157 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.core.ServiceInfoUpdateService do shutdown stop
2025-04-13 14:21:05.157 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.core.ServerListManager do shutdown begin
2025-04-13 14:21:05.157 [SpringApplicationShutdownHook] WARN  com.alibaba.nacos.client.naming - [NamingHttpClientManager] Start destroying NacosRestTemplate
2025-04-13 14:21:05.157 [SpringApplicationShutdownHook] WARN  com.alibaba.nacos.client.naming - [NamingHttpClientManager] Destruction of the end
2025-04-13 14:21:05.157 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.core.ServerListManager do shutdown stop
2025-04-13 14:21:05.157 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.remote.http.NamingHttpClientProxy do shutdown begin
2025-04-13 14:21:05.157 [SpringApplicationShutdownHook] WARN  com.alibaba.nacos.client.naming - [NamingHttpClientManager] Start destroying NacosRestTemplate
2025-04-13 14:21:05.157 [SpringApplicationShutdownHook] WARN  com.alibaba.nacos.client.naming - [NamingHttpClientManager] Destruction of the end
2025-04-13 14:21:05.157 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.remote.http.NamingHttpClientProxy do shutdown stop
2025-04-13 14:21:05.157 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.common.remote.client - Shutdown rpc client, set status to shutdown
2025-04-13 14:21:05.157 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.common.remote.client - Shutdown client event executor java.util.concurrent.ScheduledThreadPoolExecutor@183330b4[Running, pool size = 2, active threads = 2, queued tasks = 0, completed tasks = 0]
2025-04-13 14:21:05.157 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.common.remote.client - Close current connection 1744525007337_127.0.0.1_53393
2025-04-13 14:21:05.160 [SpringApplicationShutdownHook] INFO  c.a.nacos.common.remote.client.grpc.GrpcClient - Shutdown grpc executor java.util.concurrent.ThreadPoolExecutor@24750bb4[Running, pool size = 4, active threads = 0, queued tasks = 0, completed tasks = 64]
2025-04-13 14:21:05.160 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - Shutdown grpc redo service executor java.util.concurrent.ScheduledThreadPoolExecutor@614f9d1c[Running, pool size = 1, active threads = 0, queued tasks = 1, completed tasks = 85]
2025-04-13 14:21:05.161 [SpringApplicationShutdownHook] INFO  c.a.n.client.auth.ram.identify.CredentialWatcher - [null] CredentialWatcher is stopped
2025-04-13 14:21:05.161 [SpringApplicationShutdownHook] INFO  c.a.n.client.auth.ram.identify.CredentialService - [null] CredentialService is freed
2025-04-13 14:21:05.162 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.remote.NamingClientProxyDelegate do shutdown stop
2025-04-13 14:21:05.287 [SpringApplicationShutdownHook] INFO  com.alibaba.druid.pool.DruidDataSource - {dataSource-1} closing ...
2025-04-13 14:21:05.324 [SpringApplicationShutdownHook] INFO  com.alibaba.druid.pool.DruidDataSource - {dataSource-1} closed
2025-04-13 14:21:12.287 [main] WARN  com.alibaba.nacos.client.logging.NacosLogging - Load Logback Configuration of Nacos fail, message: Could not initialize Logback Nacos logging from classpath:nacos-logback.xml
2025-04-13 14:21:12.443 [main] WARN  com.alibaba.nacos.client.logging.NacosLogging - Load Logback Configuration of Nacos fail, message: Could not initialize Logback Nacos logging from classpath:nacos-logback.xml
2025-04-13 14:21:12.724 [main] WARN  com.alibaba.nacos.client.logging.NacosLogging - Load Logback Configuration of Nacos fail, message: Could not initialize Logback Nacos logging from classpath:nacos-logback.xml
2025-04-13 14:21:12.726 [main] INFO  com.alibaba.nacos.client.utils.ParamUtil - [settings] [req-serv] nacos-server port:8848
2025-04-13 14:21:12.726 [main] INFO  com.alibaba.nacos.client.utils.ParamUtil - [settings] [http-client] connect timeout:1000
2025-04-13 14:21:12.727 [main] INFO  com.alibaba.nacos.client.utils.ParamUtil - PER_TASK_CONFIG_SIZE: 3000.0
2025-04-13 14:21:12.756 [main] INFO  c.a.n.p.auth.spi.client.ClientAuthPluginManager - [ClientAuthPluginManager] Load ClientAuthService com.alibaba.nacos.client.auth.impl.NacosClientAuthServiceImpl success.
2025-04-13 14:21:12.757 [main] INFO  c.a.n.p.auth.spi.client.ClientAuthPluginManager - [ClientAuthPluginManager] Load ClientAuthService com.alibaba.nacos.client.auth.ram.RamClientAuthServiceImpl success.
2025-04-13 14:21:12.760 [main] INFO  c.a.n.client.auth.ram.identify.CredentialWatcher - null No credential found
2025-04-13 14:21:14.070 [main] WARN  com.alibaba.nacos.client.logging.NacosLogging - Load Logback Configuration of Nacos fail, message: Could not initialize Logback Nacos logging from classpath:nacos-logback.xml
2025-04-13 14:21:14.087 [main] INFO  c.a.n.client.config.impl.LocalConfigInfoProcessor - LOCAL_SNAPSHOT_PATH:C:\Users\58214\nacos\config
2025-04-13 14:21:14.090 [main] INFO  com.alibaba.nacos.common.remote.client - [RpcClientFactory] create a new rpc client of 3c4e15d7-383f-45b7-b0ba-21b85739b32d_config-0
2025-04-13 14:21:14.107 [main] INFO  com.alibaba.nacos.common.remote.client - [3c4e15d7-383f-45b7-b0ba-21b85739b32d_config-0] Register server push request handler:com.alibaba.nacos.client.config.impl.ClientWorker$ConfigRpcTransportClient$$Lambda$589/0x0000000800f8f3b0
2025-04-13 14:21:14.108 [main] INFO  com.alibaba.nacos.common.remote.client - [3c4e15d7-383f-45b7-b0ba-21b85739b32d_config-0] Register server push request handler:com.alibaba.nacos.client.config.impl.ClientWorker$ConfigRpcTransportClient$$Lambda$590/0x0000000800f8f7d0
2025-04-13 14:21:14.108 [main] INFO  com.alibaba.nacos.common.remote.client - [3c4e15d7-383f-45b7-b0ba-21b85739b32d_config-0] Registry connection listener to current client:com.alibaba.nacos.client.config.impl.ClientWorker$ConfigRpcTransportClient$1
2025-04-13 14:21:14.108 [main] INFO  com.alibaba.nacos.common.remote.client - [3c4e15d7-383f-45b7-b0ba-21b85739b32d_config-0] RpcClient init, ServerListFactory = com.alibaba.nacos.client.config.impl.ClientWorker$ConfigRpcTransportClient$2
2025-04-13 14:21:14.115 [main] INFO  com.alibaba.nacos.common.remote.client - [3c4e15d7-383f-45b7-b0ba-21b85739b32d_config-0] Try to connect to server on start up, server: {serverIp = '127.0.0.1', server main port = 8848}
2025-04-13 14:21:14.154 [main] INFO  c.a.nacos.common.remote.client.grpc.GrpcClient - grpc client connection server:127.0.0.1 ip,serverPort:9848,grpcTslConfig:{"sslProvider":"OPENSSL","enableTls":false,"mutualAuthEnable":false,"trustAll":false}
2025-04-13 14:21:15.087 [main] INFO  com.alibaba.nacos.common.remote.client - [3c4e15d7-383f-45b7-b0ba-21b85739b32d_config-0] Success to connect to server [127.0.0.1:8848] on start up, connectionId = 1744525274883_127.0.0.1_53553
2025-04-13 14:21:15.090 [com.alibaba.nacos.client.remote.worker] INFO  com.alibaba.nacos.common.remote.client - [3c4e15d7-383f-45b7-b0ba-21b85739b32d_config-0] Notify connected event to listeners.
2025-04-13 14:21:15.091 [com.alibaba.nacos.client.remote.worker] INFO  com.alibaba.nacos.client.config.impl.ClientWorker - [3c4e15d7-383f-45b7-b0ba-21b85739b32d_config-0] Connected,notify listen context...
2025-04-13 14:21:15.091 [main] INFO  com.alibaba.nacos.common.remote.client - [3c4e15d7-383f-45b7-b0ba-21b85739b32d_config-0] Register server push request handler:com.alibaba.nacos.common.remote.client.RpcClient$ConnectResetRequestHandler
2025-04-13 14:21:15.093 [main] INFO  com.alibaba.nacos.common.remote.client - [3c4e15d7-383f-45b7-b0ba-21b85739b32d_config-0] Register server push request handler:com.alibaba.nacos.common.remote.client.RpcClient$$Lambda$610/0x00000008010d7068
2025-04-13 14:21:15.167 [main] INFO  com.alibaba.nacos.client.config.impl.Limiter - limitTime:5.0
2025-04-13 14:21:15.266 [main] INFO  com.alibaba.nacos.client.config.utils.JvmUtil - isMultiInstance:false
2025-04-13 14:21:15.285 [main] WARN  c.a.cloud.nacos.client.NacosPropertySourceBuilder - Ignore the empty nacos configuration and get it based on dataId[xiaohashu-auth.yaml] & group[DEFAULT_GROUP]
2025-04-13 14:21:15.293 [main] INFO  o.s.c.b.c.PropertySourceBootstrapConfiguration - Located property source: [BootstrapPropertySource {name='bootstrapProperties-xiaohashu-auth-dev.yaml,DEFAULT_GROUP'}, BootstrapPropertySource {name='bootstrapProperties-xiaohashu-auth.yaml,DEFAULT_GROUP'}, BootstrapPropertySource {name='bootstrapProperties-xiaohashu-auth,DEFAULT_GROUP'}]
2025-04-13 14:21:15.324 [main] WARN  com.alibaba.nacos.client.logging.NacosLogging - Load Logback Configuration of Nacos fail, message: Could not initialize Logback Nacos logging from classpath:nacos-logback.xml
2025-04-13 14:21:15.325 [main] INFO  c.q.xiaohashu.auth.XiaohashuAuthApplication - The following 1 profile is active: "dev"
2025-04-13 14:21:15.971 [main] INFO  o.s.d.r.config.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-04-13 14:21:15.973 [main] INFO  o.s.d.r.config.RepositoryConfigurationDelegate - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2025-04-13 14:21:15.997 [main] INFO  o.s.d.r.config.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 10 ms. Found 0 Redis repository interfaces.
2025-04-13 14:21:16.210 [main] INFO  o.springframework.cloud.context.scope.GenericScope - BeanFactory id=994321de-2bfe-3a4a-8578-165e2ca8c60e
2025-04-13 14:21:16.760 [main] INFO  o.s.boot.web.embedded.tomcat.TomcatWebServer - Tomcat initialized with port(s): 8080 (http)
2025-04-13 14:21:16.771 [main] INFO  org.apache.catalina.core.StandardService - Starting service [Tomcat]
2025-04-13 14:21:16.771 [main] INFO  org.apache.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.5]
2025-04-13 14:21:16.866 [main] INFO  o.a.c.core.ContainerBase.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-04-13 14:21:16.866 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 1522 ms
2025-04-13 14:21:16.993 [main] INFO  c.a.d.s.b.a.DruidDataSourceAutoConfigure - Init DruidDataSource
2025-04-13 14:21:17.361 [main] INFO  com.alibaba.druid.pool.DruidDataSource - {dataSource-1} inited
2025-04-13 14:21:19.369 [main] INFO  org.springframework.cloud.commons.util.InetUtils - Cannot determine local hostname
2025-04-13 14:21:32.727 [main] INFO  org.springframework.cloud.commons.util.InetUtils - Cannot determine local hostname
2025-04-13 14:21:32.846 [main] INFO  o.s.boot.web.embedded.tomcat.TomcatWebServer - Tomcat started on port(s): 8080 (http) with context path ''
2025-04-13 14:21:32.850 [main] INFO  com.alibaba.nacos.client.naming - initializer namespace from ans.namespace attribute : null
2025-04-13 14:21:32.851 [main] INFO  com.alibaba.nacos.client.naming - initializer namespace from ALIBABA_ALIWARE_NAMESPACE attribute :null
2025-04-13 14:21:32.851 [main] INFO  com.alibaba.nacos.client.naming - initializer namespace from namespace attribute :null
2025-04-13 14:21:32.861 [main] INFO  c.a.n.p.auth.spi.client.ClientAuthPluginManager - [ClientAuthPluginManager] Load ClientAuthService com.alibaba.nacos.client.auth.impl.NacosClientAuthServiceImpl success.
2025-04-13 14:21:32.861 [main] INFO  c.a.n.p.auth.spi.client.ClientAuthPluginManager - [ClientAuthPluginManager] Load ClientAuthService com.alibaba.nacos.client.auth.ram.RamClientAuthServiceImpl success.
2025-04-13 14:21:32.865 [main] INFO  com.alibaba.nacos.common.remote.client - [RpcClientFactory] create a new rpc client of 84009446-5491-4c00-bb0c-df80c98128bc
2025-04-13 14:21:32.866 [main] INFO  com.alibaba.nacos.common.remote.client - [84009446-5491-4c00-bb0c-df80c98128bc] RpcClient init, ServerListFactory = com.alibaba.nacos.client.naming.core.ServerListManager
2025-04-13 14:21:32.867 [main] INFO  com.alibaba.nacos.common.remote.client - [84009446-5491-4c00-bb0c-df80c98128bc] Registry connection listener to current client:com.alibaba.nacos.client.naming.remote.gprc.redo.NamingGrpcRedoService
2025-04-13 14:21:32.867 [main] INFO  com.alibaba.nacos.common.remote.client - [84009446-5491-4c00-bb0c-df80c98128bc] Register server push request handler:com.alibaba.nacos.client.naming.remote.gprc.NamingPushRequestHandler
2025-04-13 14:21:32.868 [main] INFO  com.alibaba.nacos.common.remote.client - [84009446-5491-4c00-bb0c-df80c98128bc] Try to connect to server on start up, server: {serverIp = '127.0.0.1', server main port = 8848}
2025-04-13 14:21:32.868 [main] INFO  c.a.nacos.common.remote.client.grpc.GrpcClient - grpc client connection server:127.0.0.1 ip,serverPort:9848,grpcTslConfig:{"sslProvider":"OPENSSL","enableTls":false,"mutualAuthEnable":false,"trustAll":false}
2025-04-13 14:21:32.993 [main] INFO  com.alibaba.nacos.common.remote.client - [84009446-5491-4c00-bb0c-df80c98128bc] Success to connect to server [127.0.0.1:8848] on start up, connectionId = 1744525292873_127.0.0.1_53564
2025-04-13 14:21:32.994 [main] INFO  com.alibaba.nacos.common.remote.client - [84009446-5491-4c00-bb0c-df80c98128bc] Register server push request handler:com.alibaba.nacos.common.remote.client.RpcClient$ConnectResetRequestHandler
2025-04-13 14:21:32.994 [com.alibaba.nacos.client.remote.worker] INFO  com.alibaba.nacos.common.remote.client - [84009446-5491-4c00-bb0c-df80c98128bc] Notify connected event to listeners.
2025-04-13 14:21:32.994 [main] INFO  com.alibaba.nacos.common.remote.client - [84009446-5491-4c00-bb0c-df80c98128bc] Register server push request handler:com.alibaba.nacos.common.remote.client.RpcClient$$Lambda$610/0x00000008010d7068
2025-04-13 14:21:32.994 [com.alibaba.nacos.client.remote.worker] INFO  com.alibaba.nacos.client.naming - Grpc connection connect
2025-04-13 14:21:33.000 [main] INFO  com.alibaba.nacos.client.naming - [REGISTER-SERVICE] xiaohashu registering service xiaohashu-auth with instance Instance{instanceId='null', ip='172.20.10.3', port=8080, weight=1.0, healthy=true, enabled=true, ephemeral=true, clusterName='DEFAULT', serviceName='null', metadata={IPv6=[240e:440:2516:4289:5469:273c:b351:f987], preserved.register.source=SPRING_CLOUD}}
2025-04-13 14:21:33.035 [main] INFO  c.a.cloud.nacos.registry.NacosServiceRegistry - nacos registry, DEFAULT_GROUP xiaohashu-auth 172.20.10.3:8080 register finished
2025-04-13 14:21:34.226 [main] INFO  org.springframework.cloud.commons.util.InetUtils - Cannot determine local hostname
2025-04-13 14:21:34.234 [main] INFO  c.q.xiaohashu.auth.XiaohashuAuthApplication - Started XiaohashuAuthApplication in 23.691 seconds (process running for 24.478)
2025-04-13 14:21:34.235 [main] INFO  c.q.x.auth.runner.PushRolePermissions2RedisRunner - ==> 服务启动，开始同步角色权限数据到 Redis 中...
2025-04-13 14:21:34.622 [main] WARN  c.q.x.auth.runner.PushRolePermissions2RedisRunner - ==> 角色权限数据已经同步至 Redis 中，不再同步...
2025-04-13 14:21:34.624 [main] INFO  com.alibaba.nacos.client.config.impl.CacheData - nacos.cache.data.init.snapshot = true 
2025-04-13 14:21:34.625 [main] INFO  com.alibaba.nacos.client.config.impl.ClientWorker - [fixed-xiaohashu-127.0.0.1_8848] [subscribe] xiaohashu-auth.yaml+DEFAULT_GROUP+xiaohashu
2025-04-13 14:21:34.632 [main] INFO  com.alibaba.nacos.client.config.impl.CacheData - [fixed-xiaohashu-127.0.0.1_8848] [add-listener] ok, tenant=xiaohashu, dataId=xiaohashu-auth.yaml, group=DEFAULT_GROUP, cnt=1
2025-04-13 14:21:34.632 [main] INFO  c.a.cloud.nacos.refresh.NacosContextRefresher - [Nacos Config] Listening config: dataId=xiaohashu-auth.yaml, group=DEFAULT_GROUP
2025-04-13 14:21:34.634 [main] INFO  com.alibaba.nacos.client.config.impl.ClientWorker - [fixed-xiaohashu-127.0.0.1_8848] [subscribe] xiaohashu-auth-dev.yaml+DEFAULT_GROUP+xiaohashu
2025-04-13 14:21:34.634 [main] INFO  com.alibaba.nacos.client.config.impl.CacheData - [fixed-xiaohashu-127.0.0.1_8848] [add-listener] ok, tenant=xiaohashu, dataId=xiaohashu-auth-dev.yaml, group=DEFAULT_GROUP, cnt=1
2025-04-13 14:21:34.634 [main] INFO  c.a.cloud.nacos.refresh.NacosContextRefresher - [Nacos Config] Listening config: dataId=xiaohashu-auth-dev.yaml, group=DEFAULT_GROUP
2025-04-13 14:21:34.636 [main] INFO  com.alibaba.nacos.client.config.impl.ClientWorker - [fixed-xiaohashu-127.0.0.1_8848] [subscribe] xiaohashu-auth+DEFAULT_GROUP+xiaohashu
2025-04-13 14:21:34.636 [main] INFO  com.alibaba.nacos.client.config.impl.CacheData - [fixed-xiaohashu-127.0.0.1_8848] [add-listener] ok, tenant=xiaohashu, dataId=xiaohashu-auth, group=DEFAULT_GROUP, cnt=1
2025-04-13 14:21:34.636 [main] INFO  c.a.cloud.nacos.refresh.NacosContextRefresher - [Nacos Config] Listening config: dataId=xiaohashu-auth, group=DEFAULT_GROUP
2025-04-13 14:21:54.717 [http-nio-8080-exec-1] INFO  o.a.c.core.ContainerBase.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-04-13 14:21:54.717 [http-nio-8080-exec-1] INFO  org.springframework.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2025-04-13 14:21:54.718 [http-nio-8080-exec-1] INFO  org.springframework.web.servlet.DispatcherServlet - Completed initialization in 1 ms
2025-04-13 14:21:54.727 [http-nio-8080-exec-1] INFO  c.q.x.auth.filter.HeaderUserId2ContextFilter - ## HeaderUserId2ContextFilter, 用户 ID: null
2025-04-13 14:21:54.899 [http-nio-8080-exec-1] INFO  c.q.f.b.operationlog.aspect.ApiOperationLogAspect - ====== 请求开始: [发送短信验证码], 入参: {"phone":"13782612609"}, 请求类: VerificationCodeController, 请求方法: send =================================== 
2025-04-13 14:21:54.909 [http-nio-8080-exec-1] INFO  c.q.x.a.service.impl.VerificationCodeServiceImpl - ==> 手机号: 13782612609, 已发送验证码：【076774】
2025-04-13 14:21:54.910 [AuthExecutor-1] INFO  com.quanxiaoha.xiaohashu.auth.sms.AliyunSmsHelper - ==> 开始短信发送, phone: 13782612609, signName: 阿里云短信测试, templateCode: SMS_154950909, templateParam: {"code":"076774"}
2025-04-13 14:21:54.914 [http-nio-8080-exec-1] INFO  c.q.f.b.operationlog.aspect.ApiOperationLogAspect - ====== 请求结束: [发送短信验证码], 耗时: 16ms, 出参: {"success":true,"message":null,"errorCode":null,"data":null} =================================== 
2025-04-13 14:22:05.041 [http-nio-8080-exec-2] INFO  c.q.x.auth.filter.HeaderUserId2ContextFilter - ## HeaderUserId2ContextFilter, 用户 ID: null
2025-04-13 14:22:05.049 [http-nio-8080-exec-2] INFO  c.q.f.b.operationlog.aspect.ApiOperationLogAspect - ====== 请求开始: [用户登录/注册], 入参: {"phone":"13782612609","code":"076774","password":null,"type":1}, 请求类: UserController, 请求方法: loginAndRegister =================================== 
2025-04-13 14:22:05.091 [http-nio-8080-exec-2] DEBUG c.q.x.a.domain.mapper.UserDOMapper.selectByPhone - ==>  Preparing: select id, password from t_user where phone = ?
2025-04-13 14:22:05.431 [http-nio-8080-exec-2] DEBUG c.q.x.a.domain.mapper.UserDOMapper.selectByPhone - ==> Parameters: 13782612609(String)
2025-04-13 14:22:05.465 [http-nio-8080-exec-2] DEBUG c.q.x.a.domain.mapper.UserDOMapper.selectByPhone - <==      Total: 1
2025-04-13 14:22:05.470 [http-nio-8080-exec-2] INFO  c.q.xiaohashu.auth.service.impl.UserServiceImpl - ==> 用户是否注册, phone: 13782612609, userDO: {"id":2,"xiaohashuId":null,"password":null,"nickname":null,"avatar":null,"birthday":null,"backgroundImg":null,"phone":null,"sex":null,"status":null,"introduction":null,"createTime":null,"updateTime":null,"isDeleted":null}
2025-04-13 14:22:05.553 [http-nio-8080-exec-2] INFO  c.q.f.b.operationlog.aspect.ApiOperationLogAspect - ====== 请求结束: [用户登录/注册], 耗时: 503ms, 出参: {"success":true,"message":null,"errorCode":null,"data":"Xaht2MHxJOFSiYQeg7o05Kqcp2r9mmGHYxHEXB9sDa9ZnBQ7AbtE6CnSNdyNVvNzaIADI1iTKuYUgpRr368EpFbCkx8c66ATPQx0a6OQaeLl6TSBgQOLuUwiKLw1bf4s"} =================================== 
2025-04-13 14:22:14.809 [http-nio-8080-exec-3] INFO  c.q.x.auth.filter.HeaderUserId2ContextFilter - ## HeaderUserId2ContextFilter, 用户 ID: 2
2025-04-13 14:22:14.816 [http-nio-8080-exec-3] INFO  c.q.f.b.operationlog.aspect.ApiOperationLogAspect - ====== 请求开始: [账号登出], 入参: "2", 请求类: UserController, 请求方法: logout =================================== 
2025-04-13 14:22:14.828 [http-nio-8080-exec-3] INFO  c.q.f.b.operationlog.aspect.ApiOperationLogAspect - ====== 请求结束: [账号登出], 耗时: 12ms, 出参: {"success":true,"message":null,"errorCode":null,"data":null} =================================== 
2025-04-13 14:30:57.905 [Thread-9] WARN  com.alibaba.nacos.common.notify.NotifyCenter - [NotifyCenter] Start destroying Publisher
2025-04-13 14:30:57.905 [Thread-2] WARN  c.alibaba.nacos.common.http.HttpClientBeanHolder - [HttpClientBeanHolder] Start destroying common HttpClient
2025-04-13 14:30:57.905 [Thread-9] WARN  com.alibaba.nacos.common.notify.NotifyCenter - [NotifyCenter] Destruction of the end
2025-04-13 14:30:57.920 [Thread-2] WARN  c.alibaba.nacos.common.http.HttpClientBeanHolder - [HttpClientBeanHolder] Destruction of the end
2025-04-13 14:30:58.017 [SpringApplicationShutdownHook] INFO  c.a.cloud.nacos.registry.NacosServiceRegistry - De-registering from Nacos Server now...
2025-04-13 14:30:58.017 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - [DEREGISTER-SERVICE] xiaohashu deregistering service xiaohashu-auth with instance: Instance{instanceId='null', ip='172.20.10.3', port=8080, weight=1.0, healthy=true, enabled=true, ephemeral=true, clusterName='DEFAULT', serviceName='null', metadata={}}
2025-04-13 14:30:58.020 [SpringApplicationShutdownHook] INFO  c.a.cloud.nacos.registry.NacosServiceRegistry - De-registration finished.
2025-04-13 14:30:58.021 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.cache.ServiceInfoHolder do shutdown begin
2025-04-13 14:30:58.021 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.backups.FailoverReactor do shutdown begin
2025-04-13 14:30:58.021 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.backups.FailoverReactor do shutdown stop
2025-04-13 14:30:58.021 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.cache.ServiceInfoHolder do shutdown stop
2025-04-13 14:30:58.021 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.remote.NamingClientProxyDelegate do shutdown begin
2025-04-13 14:30:58.021 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.core.ServiceInfoUpdateService do shutdown begin
2025-04-13 14:30:58.021 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.core.ServiceInfoUpdateService do shutdown stop
2025-04-13 14:30:58.021 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.core.ServerListManager do shutdown begin
2025-04-13 14:30:58.021 [SpringApplicationShutdownHook] WARN  com.alibaba.nacos.client.naming - [NamingHttpClientManager] Start destroying NacosRestTemplate
2025-04-13 14:30:58.021 [SpringApplicationShutdownHook] WARN  com.alibaba.nacos.client.naming - [NamingHttpClientManager] Destruction of the end
2025-04-13 14:30:58.021 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.core.ServerListManager do shutdown stop
2025-04-13 14:30:58.021 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.remote.http.NamingHttpClientProxy do shutdown begin
2025-04-13 14:30:58.021 [SpringApplicationShutdownHook] WARN  com.alibaba.nacos.client.naming - [NamingHttpClientManager] Start destroying NacosRestTemplate
2025-04-13 14:30:58.021 [SpringApplicationShutdownHook] WARN  com.alibaba.nacos.client.naming - [NamingHttpClientManager] Destruction of the end
2025-04-13 14:30:58.022 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.remote.http.NamingHttpClientProxy do shutdown stop
2025-04-13 14:30:58.022 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.common.remote.client - Shutdown rpc client, set status to shutdown
2025-04-13 14:30:58.022 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.common.remote.client - Shutdown client event executor java.util.concurrent.ScheduledThreadPoolExecutor@5a813c1e[Running, pool size = 2, active threads = 2, queued tasks = 0, completed tasks = 0]
2025-04-13 14:30:58.022 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.common.remote.client - Close current connection 1744525292873_127.0.0.1_53564
2025-04-13 14:30:58.044 [nacos-grpc-client-executor-127.0.0.1-120] INFO  c.a.nacos.common.remote.client.grpc.GrpcClient - [1744525292873_127.0.0.1_53564]Ignore complete event,isRunning:false,isAbandon=false
2025-04-13 14:30:58.053 [SpringApplicationShutdownHook] INFO  c.a.nacos.common.remote.client.grpc.GrpcClient - Shutdown grpc executor java.util.concurrent.ThreadPoolExecutor@5748a562[Running, pool size = 4, active threads = 0, queued tasks = 0, completed tasks = 121]
2025-04-13 14:30:58.053 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - Shutdown grpc redo service executor java.util.concurrent.ScheduledThreadPoolExecutor@3520d530[Running, pool size = 1, active threads = 0, queued tasks = 1, completed tasks = 187]
2025-04-13 14:30:58.054 [SpringApplicationShutdownHook] INFO  c.a.n.client.auth.ram.identify.CredentialWatcher - [null] CredentialWatcher is stopped
2025-04-13 14:30:58.054 [SpringApplicationShutdownHook] INFO  c.a.n.client.auth.ram.identify.CredentialService - [null] CredentialService is freed
2025-04-13 14:30:58.054 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.remote.NamingClientProxyDelegate do shutdown stop
2025-04-13 14:30:58.222 [SpringApplicationShutdownHook] INFO  com.alibaba.druid.pool.DruidDataSource - {dataSource-1} closing ...
2025-04-13 14:30:58.266 [SpringApplicationShutdownHook] INFO  com.alibaba.druid.pool.DruidDataSource - {dataSource-1} closed
2025-04-13 14:31:13.820 [main] WARN  com.alibaba.nacos.client.logging.NacosLogging - Load Logback Configuration of Nacos fail, message: Could not initialize Logback Nacos logging from classpath:nacos-logback.xml
2025-04-13 14:31:13.925 [main] WARN  com.alibaba.nacos.client.logging.NacosLogging - Load Logback Configuration of Nacos fail, message: Could not initialize Logback Nacos logging from classpath:nacos-logback.xml
2025-04-13 14:31:14.228 [main] WARN  com.alibaba.nacos.client.logging.NacosLogging - Load Logback Configuration of Nacos fail, message: Could not initialize Logback Nacos logging from classpath:nacos-logback.xml
2025-04-13 14:31:14.231 [main] INFO  com.alibaba.nacos.client.utils.ParamUtil - [settings] [req-serv] nacos-server port:8848
2025-04-13 14:31:14.231 [main] INFO  com.alibaba.nacos.client.utils.ParamUtil - [settings] [http-client] connect timeout:1000
2025-04-13 14:31:14.232 [main] INFO  com.alibaba.nacos.client.utils.ParamUtil - PER_TASK_CONFIG_SIZE: 3000.0
2025-04-13 14:31:14.286 [main] INFO  c.a.n.p.auth.spi.client.ClientAuthPluginManager - [ClientAuthPluginManager] Load ClientAuthService com.alibaba.nacos.client.auth.impl.NacosClientAuthServiceImpl success.
2025-04-13 14:31:14.286 [main] INFO  c.a.n.p.auth.spi.client.ClientAuthPluginManager - [ClientAuthPluginManager] Load ClientAuthService com.alibaba.nacos.client.auth.ram.RamClientAuthServiceImpl success.
2025-04-13 14:31:14.290 [main] INFO  c.a.n.client.auth.ram.identify.CredentialWatcher - null No credential found
2025-04-13 14:31:15.648 [main] WARN  com.alibaba.nacos.client.logging.NacosLogging - Load Logback Configuration of Nacos fail, message: Could not initialize Logback Nacos logging from classpath:nacos-logback.xml
2025-04-13 14:31:15.664 [main] INFO  c.a.n.client.config.impl.LocalConfigInfoProcessor - LOCAL_SNAPSHOT_PATH:C:\Users\58214\nacos\config
2025-04-13 14:31:15.667 [main] INFO  com.alibaba.nacos.common.remote.client - [RpcClientFactory] create a new rpc client of 06649043-efde-4ded-99e0-5446dbf7d0ea_config-0
2025-04-13 14:31:15.724 [main] INFO  com.alibaba.nacos.common.remote.client - [06649043-efde-4ded-99e0-5446dbf7d0ea_config-0] Register server push request handler:com.alibaba.nacos.client.config.impl.ClientWorker$ConfigRpcTransportClient$$Lambda$589/0x0000000800f8f818
2025-04-13 14:31:15.725 [main] INFO  com.alibaba.nacos.common.remote.client - [06649043-efde-4ded-99e0-5446dbf7d0ea_config-0] Register server push request handler:com.alibaba.nacos.client.config.impl.ClientWorker$ConfigRpcTransportClient$$Lambda$590/0x0000000800f8fc38
2025-04-13 14:31:15.725 [main] INFO  com.alibaba.nacos.common.remote.client - [06649043-efde-4ded-99e0-5446dbf7d0ea_config-0] Registry connection listener to current client:com.alibaba.nacos.client.config.impl.ClientWorker$ConfigRpcTransportClient$1
2025-04-13 14:31:15.726 [main] INFO  com.alibaba.nacos.common.remote.client - [06649043-efde-4ded-99e0-5446dbf7d0ea_config-0] RpcClient init, ServerListFactory = com.alibaba.nacos.client.config.impl.ClientWorker$ConfigRpcTransportClient$2
2025-04-13 14:31:15.740 [main] INFO  com.alibaba.nacos.common.remote.client - [06649043-efde-4ded-99e0-5446dbf7d0ea_config-0] Try to connect to server on start up, server: {serverIp = '127.0.0.1', server main port = 8848}
2025-04-13 14:31:15.791 [main] INFO  c.a.nacos.common.remote.client.grpc.GrpcClient - grpc client connection server:127.0.0.1 ip,serverPort:9848,grpcTslConfig:{"sslProvider":"OPENSSL","enableTls":false,"mutualAuthEnable":false,"trustAll":false}
2025-04-13 14:31:17.136 [main] INFO  com.alibaba.nacos.common.remote.client - [06649043-efde-4ded-99e0-5446dbf7d0ea_config-0] Success to connect to server [127.0.0.1:8848] on start up, connectionId = 1744525876884_127.0.0.1_55249
2025-04-13 14:31:17.136 [com.alibaba.nacos.client.remote.worker] INFO  com.alibaba.nacos.common.remote.client - [06649043-efde-4ded-99e0-5446dbf7d0ea_config-0] Notify connected event to listeners.
2025-04-13 14:31:17.137 [com.alibaba.nacos.client.remote.worker] INFO  com.alibaba.nacos.client.config.impl.ClientWorker - [06649043-efde-4ded-99e0-5446dbf7d0ea_config-0] Connected,notify listen context...
2025-04-13 14:31:17.137 [main] INFO  com.alibaba.nacos.common.remote.client - [06649043-efde-4ded-99e0-5446dbf7d0ea_config-0] Register server push request handler:com.alibaba.nacos.common.remote.client.RpcClient$ConnectResetRequestHandler
2025-04-13 14:31:17.137 [main] INFO  com.alibaba.nacos.common.remote.client - [06649043-efde-4ded-99e0-5446dbf7d0ea_config-0] Register server push request handler:com.alibaba.nacos.common.remote.client.RpcClient$$Lambda$610/0x00000008010d76d0
2025-04-13 14:31:17.186 [main] INFO  com.alibaba.nacos.client.config.impl.Limiter - limitTime:5.0
2025-04-13 14:31:17.321 [main] INFO  com.alibaba.nacos.client.config.utils.JvmUtil - isMultiInstance:false
2025-04-13 14:31:17.348 [main] WARN  c.a.cloud.nacos.client.NacosPropertySourceBuilder - Ignore the empty nacos configuration and get it based on dataId[xiaohashu-auth.yaml] & group[DEFAULT_GROUP]
2025-04-13 14:31:17.360 [main] INFO  o.s.c.b.c.PropertySourceBootstrapConfiguration - Located property source: [BootstrapPropertySource {name='bootstrapProperties-xiaohashu-auth-dev.yaml,DEFAULT_GROUP'}, BootstrapPropertySource {name='bootstrapProperties-xiaohashu-auth.yaml,DEFAULT_GROUP'}, BootstrapPropertySource {name='bootstrapProperties-xiaohashu-auth,DEFAULT_GROUP'}]
2025-04-13 14:31:17.398 [main] WARN  com.alibaba.nacos.client.logging.NacosLogging - Load Logback Configuration of Nacos fail, message: Could not initialize Logback Nacos logging from classpath:nacos-logback.xml
2025-04-13 14:31:17.400 [main] INFO  c.q.xiaohashu.auth.XiaohashuAuthApplication - The following 1 profile is active: "dev"
2025-04-13 14:31:18.705 [main] INFO  o.s.d.r.config.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-04-13 14:31:18.709 [main] INFO  o.s.d.r.config.RepositoryConfigurationDelegate - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2025-04-13 14:31:18.754 [main] INFO  o.s.d.r.config.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 19 ms. Found 0 Redis repository interfaces.
2025-04-13 14:31:19.245 [main] INFO  o.springframework.cloud.context.scope.GenericScope - BeanFactory id=994321de-2bfe-3a4a-8578-165e2ca8c60e
2025-04-13 14:31:20.369 [main] INFO  o.s.boot.web.embedded.tomcat.TomcatWebServer - Tomcat initialized with port(s): 8080 (http)
2025-04-13 14:31:20.386 [main] INFO  org.apache.catalina.core.StandardService - Starting service [Tomcat]
2025-04-13 14:31:20.386 [main] INFO  org.apache.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.5]
2025-04-13 14:31:20.502 [main] INFO  o.a.c.core.ContainerBase.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-04-13 14:31:20.503 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 3078 ms
2025-04-13 14:31:20.656 [main] INFO  c.a.d.s.b.a.DruidDataSourceAutoConfigure - Init DruidDataSource
2025-04-13 14:31:21.234 [main] INFO  com.alibaba.druid.pool.DruidDataSource - {dataSource-1} inited
2025-04-13 14:31:23.884 [main] INFO  org.springframework.cloud.commons.util.InetUtils - Cannot determine local hostname
2025-04-13 14:31:37.259 [main] INFO  org.springframework.cloud.commons.util.InetUtils - Cannot determine local hostname
2025-04-13 14:31:37.393 [main] INFO  o.s.boot.web.embedded.tomcat.TomcatWebServer - Tomcat started on port(s): 8080 (http) with context path ''
2025-04-13 14:31:37.397 [main] INFO  com.alibaba.nacos.client.naming - initializer namespace from ans.namespace attribute : null
2025-04-13 14:31:37.398 [main] INFO  com.alibaba.nacos.client.naming - initializer namespace from ALIBABA_ALIWARE_NAMESPACE attribute :null
2025-04-13 14:31:37.398 [main] INFO  com.alibaba.nacos.client.naming - initializer namespace from namespace attribute :null
2025-04-13 14:31:37.406 [main] INFO  c.a.n.p.auth.spi.client.ClientAuthPluginManager - [ClientAuthPluginManager] Load ClientAuthService com.alibaba.nacos.client.auth.impl.NacosClientAuthServiceImpl success.
2025-04-13 14:31:37.406 [main] INFO  c.a.n.p.auth.spi.client.ClientAuthPluginManager - [ClientAuthPluginManager] Load ClientAuthService com.alibaba.nacos.client.auth.ram.RamClientAuthServiceImpl success.
2025-04-13 14:31:37.409 [main] INFO  com.alibaba.nacos.common.remote.client - [RpcClientFactory] create a new rpc client of 824b775a-f836-4e82-9c89-3b8c6ed0ea44
2025-04-13 14:31:37.411 [main] INFO  com.alibaba.nacos.common.remote.client - [824b775a-f836-4e82-9c89-3b8c6ed0ea44] RpcClient init, ServerListFactory = com.alibaba.nacos.client.naming.core.ServerListManager
2025-04-13 14:31:37.411 [main] INFO  com.alibaba.nacos.common.remote.client - [824b775a-f836-4e82-9c89-3b8c6ed0ea44] Registry connection listener to current client:com.alibaba.nacos.client.naming.remote.gprc.redo.NamingGrpcRedoService
2025-04-13 14:31:37.411 [main] INFO  com.alibaba.nacos.common.remote.client - [824b775a-f836-4e82-9c89-3b8c6ed0ea44] Register server push request handler:com.alibaba.nacos.client.naming.remote.gprc.NamingPushRequestHandler
2025-04-13 14:31:37.412 [main] INFO  com.alibaba.nacos.common.remote.client - [824b775a-f836-4e82-9c89-3b8c6ed0ea44] Try to connect to server on start up, server: {serverIp = '127.0.0.1', server main port = 8848}
2025-04-13 14:31:37.412 [main] INFO  c.a.nacos.common.remote.client.grpc.GrpcClient - grpc client connection server:127.0.0.1 ip,serverPort:9848,grpcTslConfig:{"sslProvider":"OPENSSL","enableTls":false,"mutualAuthEnable":false,"trustAll":false}
2025-04-13 14:31:37.542 [main] INFO  com.alibaba.nacos.common.remote.client - [824b775a-f836-4e82-9c89-3b8c6ed0ea44] Success to connect to server [127.0.0.1:8848] on start up, connectionId = 1744525897424_127.0.0.1_55275
2025-04-13 14:31:37.542 [main] INFO  com.alibaba.nacos.common.remote.client - [824b775a-f836-4e82-9c89-3b8c6ed0ea44] Register server push request handler:com.alibaba.nacos.common.remote.client.RpcClient$ConnectResetRequestHandler
2025-04-13 14:31:37.543 [com.alibaba.nacos.client.remote.worker] INFO  com.alibaba.nacos.common.remote.client - [824b775a-f836-4e82-9c89-3b8c6ed0ea44] Notify connected event to listeners.
2025-04-13 14:31:37.543 [com.alibaba.nacos.client.remote.worker] INFO  com.alibaba.nacos.client.naming - Grpc connection connect
2025-04-13 14:31:37.543 [main] INFO  com.alibaba.nacos.common.remote.client - [824b775a-f836-4e82-9c89-3b8c6ed0ea44] Register server push request handler:com.alibaba.nacos.common.remote.client.RpcClient$$Lambda$610/0x00000008010d76d0
2025-04-13 14:31:37.546 [main] INFO  com.alibaba.nacos.client.naming - [REGISTER-SERVICE] xiaohashu registering service xiaohashu-auth with instance Instance{instanceId='null', ip='172.20.10.3', port=8080, weight=1.0, healthy=true, enabled=true, ephemeral=true, clusterName='DEFAULT', serviceName='null', metadata={IPv6=[240e:440:2516:4289:5469:273c:b351:f987], preserved.register.source=SPRING_CLOUD}}
2025-04-13 14:31:37.563 [main] INFO  c.a.cloud.nacos.registry.NacosServiceRegistry - nacos registry, DEFAULT_GROUP xiaohashu-auth 172.20.10.3:8080 register finished
2025-04-13 14:31:38.729 [main] INFO  org.springframework.cloud.commons.util.InetUtils - Cannot determine local hostname
2025-04-13 14:31:38.740 [main] INFO  c.q.xiaohashu.auth.XiaohashuAuthApplication - Started XiaohashuAuthApplication in 27.023 seconds (process running for 28.281)
2025-04-13 14:31:38.741 [main] INFO  c.q.x.auth.runner.PushRolePermissions2RedisRunner - ==> 服务启动，开始同步角色权限数据到 Redis 中...
2025-04-13 14:31:39.386 [main] WARN  c.q.x.auth.runner.PushRolePermissions2RedisRunner - ==> 角色权限数据已经同步至 Redis 中，不再同步...
2025-04-13 14:31:39.389 [main] INFO  com.alibaba.nacos.client.config.impl.CacheData - nacos.cache.data.init.snapshot = true 
2025-04-13 14:31:39.389 [main] INFO  com.alibaba.nacos.client.config.impl.ClientWorker - [fixed-xiaohashu-127.0.0.1_8848] [subscribe] xiaohashu-auth.yaml+DEFAULT_GROUP+xiaohashu
2025-04-13 14:31:39.396 [main] INFO  com.alibaba.nacos.client.config.impl.CacheData - [fixed-xiaohashu-127.0.0.1_8848] [add-listener] ok, tenant=xiaohashu, dataId=xiaohashu-auth.yaml, group=DEFAULT_GROUP, cnt=1
2025-04-13 14:31:39.397 [main] INFO  c.a.cloud.nacos.refresh.NacosContextRefresher - [Nacos Config] Listening config: dataId=xiaohashu-auth.yaml, group=DEFAULT_GROUP
2025-04-13 14:31:39.399 [main] INFO  com.alibaba.nacos.client.config.impl.ClientWorker - [fixed-xiaohashu-127.0.0.1_8848] [subscribe] xiaohashu-auth-dev.yaml+DEFAULT_GROUP+xiaohashu
2025-04-13 14:31:39.399 [main] INFO  com.alibaba.nacos.client.config.impl.CacheData - [fixed-xiaohashu-127.0.0.1_8848] [add-listener] ok, tenant=xiaohashu, dataId=xiaohashu-auth-dev.yaml, group=DEFAULT_GROUP, cnt=1
2025-04-13 14:31:39.399 [main] INFO  c.a.cloud.nacos.refresh.NacosContextRefresher - [Nacos Config] Listening config: dataId=xiaohashu-auth-dev.yaml, group=DEFAULT_GROUP
2025-04-13 14:31:39.410 [main] INFO  com.alibaba.nacos.client.config.impl.ClientWorker - [fixed-xiaohashu-127.0.0.1_8848] [subscribe] xiaohashu-auth+DEFAULT_GROUP+xiaohashu
2025-04-13 14:31:39.410 [main] INFO  com.alibaba.nacos.client.config.impl.CacheData - [fixed-xiaohashu-127.0.0.1_8848] [add-listener] ok, tenant=xiaohashu, dataId=xiaohashu-auth, group=DEFAULT_GROUP, cnt=1
2025-04-13 14:31:39.410 [main] INFO  c.a.cloud.nacos.refresh.NacosContextRefresher - [Nacos Config] Listening config: dataId=xiaohashu-auth, group=DEFAULT_GROUP
2025-04-13 14:45:27.432 [Thread-2] WARN  c.alibaba.nacos.common.http.HttpClientBeanHolder - [HttpClientBeanHolder] Start destroying common HttpClient
2025-04-13 14:45:27.432 [Thread-9] WARN  com.alibaba.nacos.common.notify.NotifyCenter - [NotifyCenter] Start destroying Publisher
2025-04-13 14:45:27.432 [Thread-9] WARN  com.alibaba.nacos.common.notify.NotifyCenter - [NotifyCenter] Destruction of the end
2025-04-13 14:45:27.446 [Thread-2] WARN  c.alibaba.nacos.common.http.HttpClientBeanHolder - [HttpClientBeanHolder] Destruction of the end
2025-04-13 14:45:27.621 [SpringApplicationShutdownHook] INFO  c.a.cloud.nacos.registry.NacosServiceRegistry - De-registering from Nacos Server now...
2025-04-13 14:45:27.621 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - [DEREGISTER-SERVICE] xiaohashu deregistering service xiaohashu-auth with instance: Instance{instanceId='null', ip='172.20.10.3', port=8080, weight=1.0, healthy=true, enabled=true, ephemeral=true, clusterName='DEFAULT', serviceName='null', metadata={}}
2025-04-13 14:45:27.624 [SpringApplicationShutdownHook] INFO  c.a.cloud.nacos.registry.NacosServiceRegistry - De-registration finished.
2025-04-13 14:45:27.625 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.cache.ServiceInfoHolder do shutdown begin
2025-04-13 14:45:27.625 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.backups.FailoverReactor do shutdown begin
2025-04-13 14:45:27.625 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.backups.FailoverReactor do shutdown stop
2025-04-13 14:45:27.625 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.cache.ServiceInfoHolder do shutdown stop
2025-04-13 14:45:27.626 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.remote.NamingClientProxyDelegate do shutdown begin
2025-04-13 14:45:27.626 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.core.ServiceInfoUpdateService do shutdown begin
2025-04-13 14:45:27.626 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.core.ServiceInfoUpdateService do shutdown stop
2025-04-13 14:45:27.626 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.core.ServerListManager do shutdown begin
2025-04-13 14:45:27.626 [SpringApplicationShutdownHook] WARN  com.alibaba.nacos.client.naming - [NamingHttpClientManager] Start destroying NacosRestTemplate
2025-04-13 14:45:27.626 [SpringApplicationShutdownHook] WARN  com.alibaba.nacos.client.naming - [NamingHttpClientManager] Destruction of the end
2025-04-13 14:45:27.626 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.core.ServerListManager do shutdown stop
2025-04-13 14:45:27.626 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.remote.http.NamingHttpClientProxy do shutdown begin
2025-04-13 14:45:27.626 [SpringApplicationShutdownHook] WARN  com.alibaba.nacos.client.naming - [NamingHttpClientManager] Start destroying NacosRestTemplate
2025-04-13 14:45:27.626 [SpringApplicationShutdownHook] WARN  com.alibaba.nacos.client.naming - [NamingHttpClientManager] Destruction of the end
2025-04-13 14:45:27.626 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.remote.http.NamingHttpClientProxy do shutdown stop
2025-04-13 14:45:27.626 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.common.remote.client - Shutdown rpc client, set status to shutdown
2025-04-13 14:45:27.626 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.common.remote.client - Shutdown client event executor java.util.concurrent.ScheduledThreadPoolExecutor@24388f2f[Running, pool size = 2, active threads = 2, queued tasks = 0, completed tasks = 0]
2025-04-13 14:45:27.626 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.common.remote.client - Close current connection 1744525897424_127.0.0.1_55275
2025-04-13 14:45:27.628 [nacos-grpc-client-executor-127.0.0.1-175] INFO  c.a.nacos.common.remote.client.grpc.GrpcClient - [1744525897424_127.0.0.1_55275]Ignore complete event,isRunning:false,isAbandon=false
2025-04-13 14:45:27.630 [SpringApplicationShutdownHook] INFO  c.a.nacos.common.remote.client.grpc.GrpcClient - Shutdown grpc executor java.util.concurrent.ThreadPoolExecutor@25a7e992[Running, pool size = 4, active threads = 0, queued tasks = 0, completed tasks = 176]
2025-04-13 14:45:27.630 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - Shutdown grpc redo service executor java.util.concurrent.ScheduledThreadPoolExecutor@36ab2706[Running, pool size = 1, active threads = 0, queued tasks = 1, completed tasks = 276]
2025-04-13 14:45:27.630 [SpringApplicationShutdownHook] INFO  c.a.n.client.auth.ram.identify.CredentialWatcher - [null] CredentialWatcher is stopped
2025-04-13 14:45:27.630 [SpringApplicationShutdownHook] INFO  c.a.n.client.auth.ram.identify.CredentialService - [null] CredentialService is freed
2025-04-13 14:45:27.631 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.remote.NamingClientProxyDelegate do shutdown stop
2025-04-13 14:45:27.849 [SpringApplicationShutdownHook] INFO  com.alibaba.druid.pool.DruidDataSource - {dataSource-1} closing ...
2025-04-13 14:45:27.936 [SpringApplicationShutdownHook] INFO  com.alibaba.druid.pool.DruidDataSource - {dataSource-1} closed
2025-04-13 14:51:06.583 [main] WARN  com.alibaba.nacos.client.logging.NacosLogging - Load Logback Configuration of Nacos fail, message: Could not initialize Logback Nacos logging from classpath:nacos-logback.xml
2025-04-13 14:51:06.667 [main] WARN  com.alibaba.nacos.client.logging.NacosLogging - Load Logback Configuration of Nacos fail, message: Could not initialize Logback Nacos logging from classpath:nacos-logback.xml
2025-04-13 14:51:07.007 [main] WARN  com.alibaba.nacos.client.logging.NacosLogging - Load Logback Configuration of Nacos fail, message: Could not initialize Logback Nacos logging from classpath:nacos-logback.xml
2025-04-13 14:51:07.010 [main] INFO  com.alibaba.nacos.client.utils.ParamUtil - [settings] [req-serv] nacos-server port:8848
2025-04-13 14:51:07.010 [main] INFO  com.alibaba.nacos.client.utils.ParamUtil - [settings] [http-client] connect timeout:1000
2025-04-13 14:51:07.012 [main] INFO  com.alibaba.nacos.client.utils.ParamUtil - PER_TASK_CONFIG_SIZE: 3000.0
2025-04-13 14:51:07.056 [main] INFO  c.a.n.p.auth.spi.client.ClientAuthPluginManager - [ClientAuthPluginManager] Load ClientAuthService com.alibaba.nacos.client.auth.impl.NacosClientAuthServiceImpl success.
2025-04-13 14:51:07.057 [main] INFO  c.a.n.p.auth.spi.client.ClientAuthPluginManager - [ClientAuthPluginManager] Load ClientAuthService com.alibaba.nacos.client.auth.ram.RamClientAuthServiceImpl success.
2025-04-13 14:51:07.062 [main] INFO  c.a.n.client.auth.ram.identify.CredentialWatcher - null No credential found
2025-04-13 14:51:08.455 [main] WARN  com.alibaba.nacos.client.logging.NacosLogging - Load Logback Configuration of Nacos fail, message: Could not initialize Logback Nacos logging from classpath:nacos-logback.xml
2025-04-13 14:51:08.474 [main] INFO  c.a.n.client.config.impl.LocalConfigInfoProcessor - LOCAL_SNAPSHOT_PATH:C:\Users\58214\nacos\config
2025-04-13 14:51:08.479 [main] INFO  com.alibaba.nacos.common.remote.client - [RpcClientFactory] create a new rpc client of bc5ef714-ede9-486b-9106-dc799945ee87_config-0
2025-04-13 14:51:08.497 [main] INFO  com.alibaba.nacos.common.remote.client - [bc5ef714-ede9-486b-9106-dc799945ee87_config-0] Register server push request handler:com.alibaba.nacos.client.config.impl.ClientWorker$ConfigRpcTransportClient$$Lambda$588/0x0000000800fafc18
2025-04-13 14:51:08.497 [main] INFO  com.alibaba.nacos.common.remote.client - [bc5ef714-ede9-486b-9106-dc799945ee87_config-0] Register server push request handler:com.alibaba.nacos.client.config.impl.ClientWorker$ConfigRpcTransportClient$$Lambda$589/0x0000000800fb0200
2025-04-13 14:51:08.498 [main] INFO  com.alibaba.nacos.common.remote.client - [bc5ef714-ede9-486b-9106-dc799945ee87_config-0] Registry connection listener to current client:com.alibaba.nacos.client.config.impl.ClientWorker$ConfigRpcTransportClient$1
2025-04-13 14:51:08.498 [main] INFO  com.alibaba.nacos.common.remote.client - [bc5ef714-ede9-486b-9106-dc799945ee87_config-0] RpcClient init, ServerListFactory = com.alibaba.nacos.client.config.impl.ClientWorker$ConfigRpcTransportClient$2
2025-04-13 14:51:08.513 [main] INFO  com.alibaba.nacos.common.remote.client - [bc5ef714-ede9-486b-9106-dc799945ee87_config-0] Try to connect to server on start up, server: {serverIp = '127.0.0.1', server main port = 8848}
2025-04-13 14:51:08.560 [main] INFO  c.a.nacos.common.remote.client.grpc.GrpcClient - grpc client connection server:127.0.0.1 ip,serverPort:9848,grpcTslConfig:{"sslProvider":"OPENSSL","enableTls":false,"mutualAuthEnable":false,"trustAll":false}
2025-04-13 14:51:09.434 [main] INFO  com.alibaba.nacos.common.remote.client - [bc5ef714-ede9-486b-9106-dc799945ee87_config-0] Success to connect to server [127.0.0.1:8848] on start up, connectionId = 1744527069233_127.0.0.1_56509
2025-04-13 14:51:09.436 [com.alibaba.nacos.client.remote.worker] INFO  com.alibaba.nacos.common.remote.client - [bc5ef714-ede9-486b-9106-dc799945ee87_config-0] Notify connected event to listeners.
2025-04-13 14:51:09.437 [com.alibaba.nacos.client.remote.worker] INFO  com.alibaba.nacos.client.config.impl.ClientWorker - [bc5ef714-ede9-486b-9106-dc799945ee87_config-0] Connected,notify listen context...
2025-04-13 14:51:09.437 [main] INFO  com.alibaba.nacos.common.remote.client - [bc5ef714-ede9-486b-9106-dc799945ee87_config-0] Register server push request handler:com.alibaba.nacos.common.remote.client.RpcClient$ConnectResetRequestHandler
2025-04-13 14:51:09.438 [main] INFO  com.alibaba.nacos.common.remote.client - [bc5ef714-ede9-486b-9106-dc799945ee87_config-0] Register server push request handler:com.alibaba.nacos.common.remote.client.RpcClient$$Lambda$609/0x00000008010f76d0
2025-04-13 14:51:09.515 [main] INFO  com.alibaba.nacos.client.config.impl.Limiter - limitTime:5.0
2025-04-13 14:51:09.562 [main] INFO  com.alibaba.nacos.client.config.utils.JvmUtil - isMultiInstance:false
2025-04-13 14:51:09.575 [main] WARN  c.a.cloud.nacos.client.NacosPropertySourceBuilder - Ignore the empty nacos configuration and get it based on dataId[xiaohashu-auth.yaml] & group[DEFAULT_GROUP]
2025-04-13 14:51:09.585 [main] INFO  o.s.c.b.c.PropertySourceBootstrapConfiguration - Located property source: [BootstrapPropertySource {name='bootstrapProperties-xiaohashu-auth-dev.yaml,DEFAULT_GROUP'}, BootstrapPropertySource {name='bootstrapProperties-xiaohashu-auth.yaml,DEFAULT_GROUP'}, BootstrapPropertySource {name='bootstrapProperties-xiaohashu-auth,DEFAULT_GROUP'}]
2025-04-13 14:51:09.615 [main] WARN  com.alibaba.nacos.client.logging.NacosLogging - Load Logback Configuration of Nacos fail, message: Could not initialize Logback Nacos logging from classpath:nacos-logback.xml
2025-04-13 14:51:09.616 [main] INFO  c.q.xiaohashu.auth.XiaohashuAuthApplication - The following 1 profile is active: "dev"
2025-04-13 14:51:10.123 [main] ERROR org.springframework.boot.SpringApplication - Application run failed
java.lang.IllegalStateException: Unable to read meta-data for class com.tongji.framework.biz.context.config.ContextAutoConfiguration
	at org.springframework.boot.autoconfigure.AutoConfigurationSorter$AutoConfigurationClass.getAnnotationMetadata(AutoConfigurationSorter.java:237)
	at org.springframework.boot.autoconfigure.AutoConfigurationSorter$AutoConfigurationClass.getOrder(AutoConfigurationSorter.java:208)
	at org.springframework.boot.autoconfigure.AutoConfigurationSorter.lambda$getInPriorityOrder$0(AutoConfigurationSorter.java:63)
	at java.base/java.util.TimSort.countRunAndMakeAscending(TimSort.java:360)
	at java.base/java.util.TimSort.sort(TimSort.java:234)
	at java.base/java.util.Arrays.sort(Arrays.java:1307)
	at java.base/java.util.ArrayList.sort(ArrayList.java:1721)
	at org.springframework.boot.autoconfigure.AutoConfigurationSorter.getInPriorityOrder(AutoConfigurationSorter.java:62)
	at org.springframework.boot.autoconfigure.AutoConfigurationImportSelector$AutoConfigurationGroup.sortAutoConfigurations(AutoConfigurationImportSelector.java:462)
	at org.springframework.boot.autoconfigure.AutoConfigurationImportSelector$AutoConfigurationGroup.selectImports(AutoConfigurationImportSelector.java:448)
	at org.springframework.context.annotation.ConfigurationClassParser$DeferredImportSelectorGrouping.getImports(ConfigurationClassParser.java:796)
	at org.springframework.context.annotation.ConfigurationClassParser$DeferredImportSelectorGroupingHandler.processGroupImports(ConfigurationClassParser.java:723)
	at org.springframework.context.annotation.ConfigurationClassParser$DeferredImportSelectorHandler.process(ConfigurationClassParser.java:694)
	at org.springframework.context.annotation.ConfigurationClassParser.parse(ConfigurationClassParser.java:182)
	at org.springframework.context.annotation.ConfigurationClassPostProcessor.processConfigBeanDefinitions(ConfigurationClassPostProcessor.java:398)
	at org.springframework.context.annotation.ConfigurationClassPostProcessor.postProcessBeanDefinitionRegistry(ConfigurationClassPostProcessor.java:283)
	at org.springframework.context.support.PostProcessorRegistrationDelegate.invokeBeanDefinitionRegistryPostProcessors(PostProcessorRegistrationDelegate.java:344)
	at org.springframework.context.support.PostProcessorRegistrationDelegate.invokeBeanFactoryPostProcessors(PostProcessorRegistrationDelegate.java:115)
	at org.springframework.context.support.AbstractApplicationContext.invokeBeanFactoryPostProcessors(AbstractApplicationContext.java:745)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:565)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:730)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:432)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:308)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1302)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1291)
	at com.quanxiaoha.xiaohashu.auth.XiaohashuAuthApplication.main(XiaohashuAuthApplication.java:10)
Caused by: java.io.FileNotFoundException: class path resource [com/tongji/framework/biz/context/config/ContextAutoConfiguration.class] cannot be opened because it does not exist
	at org.springframework.core.io.ClassPathResource.getInputStream(ClassPathResource.java:211)
	at org.springframework.core.type.classreading.SimpleMetadataReader.getClassReader(SimpleMetadataReader.java:54)
	at org.springframework.core.type.classreading.SimpleMetadataReader.<init>(SimpleMetadataReader.java:48)
	at org.springframework.core.type.classreading.SimpleMetadataReaderFactory.getMetadataReader(SimpleMetadataReaderFactory.java:103)
	at org.springframework.boot.type.classreading.ConcurrentReferenceCachingMetadataReaderFactory.createMetadataReader(ConcurrentReferenceCachingMetadataReaderFactory.java:86)
	at org.springframework.boot.type.classreading.ConcurrentReferenceCachingMetadataReaderFactory.getMetadataReader(ConcurrentReferenceCachingMetadataReaderFactory.java:73)
	at org.springframework.core.type.classreading.SimpleMetadataReaderFactory.getMetadataReader(SimpleMetadataReaderFactory.java:81)
	at org.springframework.boot.autoconfigure.AutoConfigurationSorter$AutoConfigurationClass.getAnnotationMetadata(AutoConfigurationSorter.java:233)
	... 26 common frames omitted
2025-04-13 14:51:10.133 [Thread-2] WARN  c.alibaba.nacos.common.http.HttpClientBeanHolder - [HttpClientBeanHolder] Start destroying common HttpClient
2025-04-13 14:51:10.133 [Thread-9] WARN  com.alibaba.nacos.common.notify.NotifyCenter - [NotifyCenter] Start destroying Publisher
2025-04-13 14:51:10.133 [Thread-9] WARN  com.alibaba.nacos.common.notify.NotifyCenter - [NotifyCenter] Destruction of the end
2025-04-13 14:51:10.134 [Thread-2] WARN  c.alibaba.nacos.common.http.HttpClientBeanHolder - [HttpClientBeanHolder] Destruction of the end
2025-04-13 14:52:46.483 [main] WARN  com.alibaba.nacos.client.logging.NacosLogging - Load Logback Configuration of Nacos fail, message: Could not initialize Logback Nacos logging from classpath:nacos-logback.xml
2025-04-13 14:52:46.562 [main] WARN  com.alibaba.nacos.client.logging.NacosLogging - Load Logback Configuration of Nacos fail, message: Could not initialize Logback Nacos logging from classpath:nacos-logback.xml
2025-04-13 14:52:46.823 [main] WARN  com.alibaba.nacos.client.logging.NacosLogging - Load Logback Configuration of Nacos fail, message: Could not initialize Logback Nacos logging from classpath:nacos-logback.xml
2025-04-13 14:52:46.825 [main] INFO  com.alibaba.nacos.client.utils.ParamUtil - [settings] [req-serv] nacos-server port:8848
2025-04-13 14:52:46.825 [main] INFO  com.alibaba.nacos.client.utils.ParamUtil - [settings] [http-client] connect timeout:1000
2025-04-13 14:52:46.826 [main] INFO  com.alibaba.nacos.client.utils.ParamUtil - PER_TASK_CONFIG_SIZE: 3000.0
2025-04-13 14:52:46.860 [main] INFO  c.a.n.p.auth.spi.client.ClientAuthPluginManager - [ClientAuthPluginManager] Load ClientAuthService com.alibaba.nacos.client.auth.impl.NacosClientAuthServiceImpl success.
2025-04-13 14:52:46.860 [main] INFO  c.a.n.p.auth.spi.client.ClientAuthPluginManager - [ClientAuthPluginManager] Load ClientAuthService com.alibaba.nacos.client.auth.ram.RamClientAuthServiceImpl success.
2025-04-13 14:52:46.863 [main] INFO  c.a.n.client.auth.ram.identify.CredentialWatcher - null No credential found
2025-04-13 14:52:48.189 [main] WARN  com.alibaba.nacos.client.logging.NacosLogging - Load Logback Configuration of Nacos fail, message: Could not initialize Logback Nacos logging from classpath:nacos-logback.xml
2025-04-13 14:52:48.205 [main] INFO  c.a.n.client.config.impl.LocalConfigInfoProcessor - LOCAL_SNAPSHOT_PATH:C:\Users\58214\nacos\config
2025-04-13 14:52:48.209 [main] INFO  com.alibaba.nacos.common.remote.client - [RpcClientFactory] create a new rpc client of f63d86de-ecfb-428b-8b71-c3de83dae513_config-0
2025-04-13 14:52:48.226 [main] INFO  com.alibaba.nacos.common.remote.client - [f63d86de-ecfb-428b-8b71-c3de83dae513_config-0] Register server push request handler:com.alibaba.nacos.client.config.impl.ClientWorker$ConfigRpcTransportClient$$Lambda$588/0x0000000800f8f818
2025-04-13 14:52:48.226 [main] INFO  com.alibaba.nacos.common.remote.client - [f63d86de-ecfb-428b-8b71-c3de83dae513_config-0] Register server push request handler:com.alibaba.nacos.client.config.impl.ClientWorker$ConfigRpcTransportClient$$Lambda$589/0x0000000800f8fc38
2025-04-13 14:52:48.227 [main] INFO  com.alibaba.nacos.common.remote.client - [f63d86de-ecfb-428b-8b71-c3de83dae513_config-0] Registry connection listener to current client:com.alibaba.nacos.client.config.impl.ClientWorker$ConfigRpcTransportClient$1
2025-04-13 14:52:48.227 [main] INFO  com.alibaba.nacos.common.remote.client - [f63d86de-ecfb-428b-8b71-c3de83dae513_config-0] RpcClient init, ServerListFactory = com.alibaba.nacos.client.config.impl.ClientWorker$ConfigRpcTransportClient$2
2025-04-13 14:52:48.241 [main] INFO  com.alibaba.nacos.common.remote.client - [f63d86de-ecfb-428b-8b71-c3de83dae513_config-0] Try to connect to server on start up, server: {serverIp = '127.0.0.1', server main port = 8848}
2025-04-13 14:52:48.285 [main] INFO  c.a.nacos.common.remote.client.grpc.GrpcClient - grpc client connection server:127.0.0.1 ip,serverPort:9848,grpcTslConfig:{"sslProvider":"OPENSSL","enableTls":false,"mutualAuthEnable":false,"trustAll":false}
2025-04-13 14:52:49.134 [main] INFO  com.alibaba.nacos.common.remote.client - [f63d86de-ecfb-428b-8b71-c3de83dae513_config-0] Success to connect to server [127.0.0.1:8848] on start up, connectionId = 1744527168934_127.0.0.1_56571
2025-04-13 14:52:49.135 [com.alibaba.nacos.client.remote.worker] INFO  com.alibaba.nacos.common.remote.client - [f63d86de-ecfb-428b-8b71-c3de83dae513_config-0] Notify connected event to listeners.
2025-04-13 14:52:49.135 [com.alibaba.nacos.client.remote.worker] INFO  com.alibaba.nacos.client.config.impl.ClientWorker - [f63d86de-ecfb-428b-8b71-c3de83dae513_config-0] Connected,notify listen context...
2025-04-13 14:52:49.135 [main] INFO  com.alibaba.nacos.common.remote.client - [f63d86de-ecfb-428b-8b71-c3de83dae513_config-0] Register server push request handler:com.alibaba.nacos.common.remote.client.RpcClient$ConnectResetRequestHandler
2025-04-13 14:52:49.135 [main] INFO  com.alibaba.nacos.common.remote.client - [f63d86de-ecfb-428b-8b71-c3de83dae513_config-0] Register server push request handler:com.alibaba.nacos.common.remote.client.RpcClient$$Lambda$609/0x00000008010d76f0
2025-04-13 14:52:49.171 [main] INFO  com.alibaba.nacos.client.config.impl.Limiter - limitTime:5.0
2025-04-13 14:52:49.195 [main] INFO  com.alibaba.nacos.client.config.utils.JvmUtil - isMultiInstance:false
2025-04-13 14:52:49.213 [main] WARN  c.a.cloud.nacos.client.NacosPropertySourceBuilder - Ignore the empty nacos configuration and get it based on dataId[xiaohashu-auth.yaml] & group[DEFAULT_GROUP]
2025-04-13 14:52:49.219 [main] INFO  o.s.c.b.c.PropertySourceBootstrapConfiguration - Located property source: [BootstrapPropertySource {name='bootstrapProperties-xiaohashu-auth-dev.yaml,DEFAULT_GROUP'}, BootstrapPropertySource {name='bootstrapProperties-xiaohashu-auth.yaml,DEFAULT_GROUP'}, BootstrapPropertySource {name='bootstrapProperties-xiaohashu-auth,DEFAULT_GROUP'}]
2025-04-13 14:52:49.241 [main] WARN  com.alibaba.nacos.client.logging.NacosLogging - Load Logback Configuration of Nacos fail, message: Could not initialize Logback Nacos logging from classpath:nacos-logback.xml
2025-04-13 14:52:49.242 [main] INFO  c.q.xiaohashu.auth.XiaohashuAuthApplication - The following 1 profile is active: "dev"
2025-04-13 14:52:49.939 [main] INFO  o.s.d.r.config.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-04-13 14:52:49.942 [main] INFO  o.s.d.r.config.RepositoryConfigurationDelegate - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2025-04-13 14:52:49.963 [main] INFO  o.s.d.r.config.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 8 ms. Found 0 Redis repository interfaces.
2025-04-13 14:52:50.197 [main] INFO  o.springframework.cloud.context.scope.GenericScope - BeanFactory id=056d948b-1e24-3837-bea4-fd18e11d1a0d
2025-04-13 14:52:50.894 [main] INFO  o.s.boot.web.embedded.tomcat.TomcatWebServer - Tomcat initialized with port(s): 8080 (http)
2025-04-13 14:52:50.906 [main] INFO  org.apache.catalina.core.StandardService - Starting service [Tomcat]
2025-04-13 14:52:50.906 [main] INFO  org.apache.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.5]
2025-04-13 14:52:51.038 [main] INFO  o.a.c.core.ContainerBase.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-04-13 14:52:51.039 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 1783 ms
2025-04-13 14:52:51.197 [main] INFO  c.a.d.s.b.a.DruidDataSourceAutoConfigure - Init DruidDataSource
2025-04-13 14:52:51.793 [main] INFO  com.alibaba.druid.pool.DruidDataSource - {dataSource-1} inited
2025-04-13 14:52:54.185 [main] INFO  org.springframework.cloud.commons.util.InetUtils - Cannot determine local hostname
2025-04-13 14:53:07.585 [main] INFO  org.springframework.cloud.commons.util.InetUtils - Cannot determine local hostname
2025-04-13 14:53:07.691 [main] INFO  o.s.boot.web.embedded.tomcat.TomcatWebServer - Tomcat started on port(s): 8080 (http) with context path ''
2025-04-13 14:53:07.695 [main] INFO  com.alibaba.nacos.client.naming - initializer namespace from ans.namespace attribute : null
2025-04-13 14:53:07.695 [main] INFO  com.alibaba.nacos.client.naming - initializer namespace from ALIBABA_ALIWARE_NAMESPACE attribute :null
2025-04-13 14:53:07.696 [main] INFO  com.alibaba.nacos.client.naming - initializer namespace from namespace attribute :null
2025-04-13 14:53:07.703 [main] INFO  c.a.n.p.auth.spi.client.ClientAuthPluginManager - [ClientAuthPluginManager] Load ClientAuthService com.alibaba.nacos.client.auth.impl.NacosClientAuthServiceImpl success.
2025-04-13 14:53:07.703 [main] INFO  c.a.n.p.auth.spi.client.ClientAuthPluginManager - [ClientAuthPluginManager] Load ClientAuthService com.alibaba.nacos.client.auth.ram.RamClientAuthServiceImpl success.
2025-04-13 14:53:07.706 [main] INFO  com.alibaba.nacos.common.remote.client - [RpcClientFactory] create a new rpc client of 8e8622aa-434d-4ce4-a014-2d45b3a5c5e3
2025-04-13 14:53:07.708 [main] INFO  com.alibaba.nacos.common.remote.client - [8e8622aa-434d-4ce4-a014-2d45b3a5c5e3] RpcClient init, ServerListFactory = com.alibaba.nacos.client.naming.core.ServerListManager
2025-04-13 14:53:07.708 [main] INFO  com.alibaba.nacos.common.remote.client - [8e8622aa-434d-4ce4-a014-2d45b3a5c5e3] Registry connection listener to current client:com.alibaba.nacos.client.naming.remote.gprc.redo.NamingGrpcRedoService
2025-04-13 14:53:07.709 [main] INFO  com.alibaba.nacos.common.remote.client - [8e8622aa-434d-4ce4-a014-2d45b3a5c5e3] Register server push request handler:com.alibaba.nacos.client.naming.remote.gprc.NamingPushRequestHandler
2025-04-13 14:53:07.710 [main] INFO  com.alibaba.nacos.common.remote.client - [8e8622aa-434d-4ce4-a014-2d45b3a5c5e3] Try to connect to server on start up, server: {serverIp = '127.0.0.1', server main port = 8848}
2025-04-13 14:53:07.710 [main] INFO  c.a.nacos.common.remote.client.grpc.GrpcClient - grpc client connection server:127.0.0.1 ip,serverPort:9848,grpcTslConfig:{"sslProvider":"OPENSSL","enableTls":false,"mutualAuthEnable":false,"trustAll":false}
2025-04-13 14:53:07.818 [main] INFO  com.alibaba.nacos.common.remote.client - [8e8622aa-434d-4ce4-a014-2d45b3a5c5e3] Success to connect to server [127.0.0.1:8848] on start up, connectionId = 1744527187714_127.0.0.1_56585
2025-04-13 14:53:07.818 [com.alibaba.nacos.client.remote.worker] INFO  com.alibaba.nacos.common.remote.client - [8e8622aa-434d-4ce4-a014-2d45b3a5c5e3] Notify connected event to listeners.
2025-04-13 14:53:07.818 [com.alibaba.nacos.client.remote.worker] INFO  com.alibaba.nacos.client.naming - Grpc connection connect
2025-04-13 14:53:07.818 [main] INFO  com.alibaba.nacos.common.remote.client - [8e8622aa-434d-4ce4-a014-2d45b3a5c5e3] Register server push request handler:com.alibaba.nacos.common.remote.client.RpcClient$ConnectResetRequestHandler
2025-04-13 14:53:07.818 [main] INFO  com.alibaba.nacos.common.remote.client - [8e8622aa-434d-4ce4-a014-2d45b3a5c5e3] Register server push request handler:com.alibaba.nacos.common.remote.client.RpcClient$$Lambda$609/0x00000008010d76f0
2025-04-13 14:53:07.820 [main] INFO  com.alibaba.nacos.client.naming - [REGISTER-SERVICE] xiaohashu registering service xiaohashu-auth with instance Instance{instanceId='null', ip='172.20.10.3', port=8080, weight=1.0, healthy=true, enabled=true, ephemeral=true, clusterName='DEFAULT', serviceName='null', metadata={IPv6=[240e:440:2516:4289:5469:273c:b351:f987], preserved.register.source=SPRING_CLOUD}}
2025-04-13 14:53:07.831 [main] INFO  c.a.cloud.nacos.registry.NacosServiceRegistry - nacos registry, DEFAULT_GROUP xiaohashu-auth 172.20.10.3:8080 register finished
2025-04-13 14:53:08.976 [main] INFO  org.springframework.cloud.commons.util.InetUtils - Cannot determine local hostname
2025-04-13 14:53:09.000 [main] INFO  c.q.xiaohashu.auth.XiaohashuAuthApplication - Started XiaohashuAuthApplication in 24.39 seconds (process running for 25.406)
2025-04-13 14:53:09.002 [main] INFO  c.q.x.auth.runner.PushRolePermissions2RedisRunner - ==> 服务启动，开始同步角色权限数据到 Redis 中...
2025-04-13 14:53:09.482 [main] WARN  c.q.x.auth.runner.PushRolePermissions2RedisRunner - ==> 角色权限数据已经同步至 Redis 中，不再同步...
2025-04-13 14:53:09.486 [main] INFO  com.alibaba.nacos.client.config.impl.CacheData - nacos.cache.data.init.snapshot = true 
2025-04-13 14:53:09.486 [main] INFO  com.alibaba.nacos.client.config.impl.ClientWorker - [fixed-xiaohashu-127.0.0.1_8848] [subscribe] xiaohashu-auth.yaml+DEFAULT_GROUP+xiaohashu
2025-04-13 14:53:09.495 [main] INFO  com.alibaba.nacos.client.config.impl.CacheData - [fixed-xiaohashu-127.0.0.1_8848] [add-listener] ok, tenant=xiaohashu, dataId=xiaohashu-auth.yaml, group=DEFAULT_GROUP, cnt=1
2025-04-13 14:53:09.495 [main] INFO  c.a.cloud.nacos.refresh.NacosContextRefresher - [Nacos Config] Listening config: dataId=xiaohashu-auth.yaml, group=DEFAULT_GROUP
2025-04-13 14:53:09.497 [main] INFO  com.alibaba.nacos.client.config.impl.ClientWorker - [fixed-xiaohashu-127.0.0.1_8848] [subscribe] xiaohashu-auth-dev.yaml+DEFAULT_GROUP+xiaohashu
2025-04-13 14:53:09.497 [main] INFO  com.alibaba.nacos.client.config.impl.CacheData - [fixed-xiaohashu-127.0.0.1_8848] [add-listener] ok, tenant=xiaohashu, dataId=xiaohashu-auth-dev.yaml, group=DEFAULT_GROUP, cnt=1
2025-04-13 14:53:09.498 [main] INFO  c.a.cloud.nacos.refresh.NacosContextRefresher - [Nacos Config] Listening config: dataId=xiaohashu-auth-dev.yaml, group=DEFAULT_GROUP
2025-04-13 14:53:09.499 [main] INFO  com.alibaba.nacos.client.config.impl.ClientWorker - [fixed-xiaohashu-127.0.0.1_8848] [subscribe] xiaohashu-auth+DEFAULT_GROUP+xiaohashu
2025-04-13 14:53:09.500 [main] INFO  com.alibaba.nacos.client.config.impl.CacheData - [fixed-xiaohashu-127.0.0.1_8848] [add-listener] ok, tenant=xiaohashu, dataId=xiaohashu-auth, group=DEFAULT_GROUP, cnt=1
2025-04-13 14:53:09.500 [main] INFO  c.a.cloud.nacos.refresh.NacosContextRefresher - [Nacos Config] Listening config: dataId=xiaohashu-auth, group=DEFAULT_GROUP
2025-04-13 14:53:22.116 [http-nio-8080-exec-1] INFO  o.a.c.core.ContainerBase.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-04-13 14:53:22.116 [http-nio-8080-exec-1] INFO  org.springframework.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2025-04-13 14:53:22.118 [http-nio-8080-exec-1] INFO  org.springframework.web.servlet.DispatcherServlet - Completed initialization in 1 ms
2025-04-13 14:53:22.128 [http-nio-8080-exec-1] INFO  c.q.f.b.context.filter.HeaderUserId2ContextFilter - ## HeaderUserId2ContextFilter, 用户 ID: null
2025-04-13 14:53:22.297 [http-nio-8080-exec-1] INFO  c.q.f.b.operationlog.aspect.ApiOperationLogAspect - ====== 请求开始: [发送短信验证码], 入参: {"phone":"13782612609"}, 请求类: VerificationCodeController, 请求方法: send =================================== 
2025-04-13 14:53:22.308 [http-nio-8080-exec-1] INFO  c.q.x.a.service.impl.VerificationCodeServiceImpl - ==> 手机号: 13782612609, 已发送验证码：【987074】
2025-04-13 14:53:22.309 [AuthExecutor-1] INFO  com.quanxiaoha.xiaohashu.auth.sms.AliyunSmsHelper - ==> 开始短信发送, phone: 13782612609, signName: 阿里云短信测试, templateCode: SMS_154950909, templateParam: {"code":"987074"}
2025-04-13 14:53:22.315 [http-nio-8080-exec-1] INFO  c.q.f.b.operationlog.aspect.ApiOperationLogAspect - ====== 请求结束: [发送短信验证码], 耗时: 19ms, 出参: {"success":true,"message":null,"errorCode":null,"data":null} =================================== 
2025-04-13 14:53:32.069 [http-nio-8080-exec-2] INFO  c.q.f.b.context.filter.HeaderUserId2ContextFilter - ## HeaderUserId2ContextFilter, 用户 ID: null
2025-04-13 14:53:32.078 [http-nio-8080-exec-2] INFO  c.q.f.b.operationlog.aspect.ApiOperationLogAspect - ====== 请求开始: [用户登录/注册], 入参: {"phone":"13782612609","code":"987074","password":null,"type":1}, 请求类: UserController, 请求方法: loginAndRegister =================================== 
2025-04-13 14:53:32.982 [http-nio-8080-exec-2] DEBUG c.q.x.a.domain.mapper.UserDOMapper.selectByPhone - ==>  Preparing: select id, password from t_user where phone = ?
2025-04-13 14:53:33.561 [http-nio-8080-exec-2] DEBUG c.q.x.a.domain.mapper.UserDOMapper.selectByPhone - ==> Parameters: 13782612609(String)
2025-04-13 14:53:33.599 [http-nio-8080-exec-2] DEBUG c.q.x.a.domain.mapper.UserDOMapper.selectByPhone - <==      Total: 1
2025-04-13 14:53:33.605 [http-nio-8080-exec-2] INFO  c.q.xiaohashu.auth.service.impl.UserServiceImpl - ==> 用户是否注册, phone: 13782612609, userDO: {"id":2,"xiaohashuId":null,"password":null,"nickname":null,"avatar":null,"birthday":null,"backgroundImg":null,"phone":null,"sex":null,"status":null,"introduction":null,"createTime":null,"updateTime":null,"isDeleted":null}
2025-04-13 14:53:33.750 [http-nio-8080-exec-2] INFO  c.q.f.b.operationlog.aspect.ApiOperationLogAspect - ====== 请求结束: [用户登录/注册], 耗时: 1673ms, 出参: {"success":true,"message":null,"errorCode":null,"data":"zkyzdjBLFa3l7Be4GMBihDHulqE1JE2IHj3bXOwsflHqDs8lRd8wowCmbVYQhG6RkncQIgboSTJBSePcQJ181MkweHwrtViGIk7sBJCZacbhIteUl9k9sL7Dkeh6MON7"} =================================== 
2025-04-13 14:53:47.363 [http-nio-8080-exec-3] INFO  c.q.f.b.context.filter.HeaderUserId2ContextFilter - ## HeaderUserId2ContextFilter, 用户 ID: 2
2025-04-13 14:53:47.363 [http-nio-8080-exec-3] INFO  c.q.f.b.context.filter.HeaderUserId2ContextFilter - ===== 设置 userId 到 ThreadLocal 中， 用户 ID: 2
2025-04-13 14:53:47.396 [http-nio-8080-exec-3] INFO  c.q.f.b.operationlog.aspect.ApiOperationLogAspect - ====== 请求开始: [账号登出], 入参: , 请求类: UserController, 请求方法: logout =================================== 
2025-04-13 14:53:47.397 [http-nio-8080-exec-3] INFO  c.q.xiaohashu.auth.service.impl.UserServiceImpl - ==> 用户退出登录, userId: 2
2025-04-13 14:53:47.398 [AuthExecutor-2] INFO  c.q.xiaohashu.auth.service.impl.UserServiceImpl - ==> 异步线程中获取 userId: 2
2025-04-13 14:53:47.422 [http-nio-8080-exec-3] INFO  c.q.f.b.operationlog.aspect.ApiOperationLogAspect - ====== 请求结束: [账号登出], 耗时: 26ms, 出参: {"success":true,"message":null,"errorCode":null,"data":null} =================================== 
2025-04-13 14:53:47.423 [http-nio-8080-exec-3] INFO  c.q.f.b.context.filter.HeaderUserId2ContextFilter - ===== 删除 ThreadLocal， userId: 2
2025-04-13 14:58:19.654 [Thread-2] WARN  c.alibaba.nacos.common.http.HttpClientBeanHolder - [HttpClientBeanHolder] Start destroying common HttpClient
2025-04-13 14:58:19.654 [Thread-9] WARN  com.alibaba.nacos.common.notify.NotifyCenter - [NotifyCenter] Start destroying Publisher
2025-04-13 14:58:19.655 [Thread-9] WARN  com.alibaba.nacos.common.notify.NotifyCenter - [NotifyCenter] Destruction of the end
2025-04-13 14:58:19.655 [Thread-2] WARN  c.alibaba.nacos.common.http.HttpClientBeanHolder - [HttpClientBeanHolder] Destruction of the end
2025-04-13 14:58:19.723 [SpringApplicationShutdownHook] INFO  c.a.cloud.nacos.registry.NacosServiceRegistry - De-registering from Nacos Server now...
2025-04-13 14:58:19.723 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - [DEREGISTER-SERVICE] xiaohashu deregistering service xiaohashu-auth with instance: Instance{instanceId='null', ip='172.20.10.3', port=8080, weight=1.0, healthy=true, enabled=true, ephemeral=true, clusterName='DEFAULT', serviceName='null', metadata={}}
2025-04-13 14:58:19.727 [SpringApplicationShutdownHook] INFO  c.a.cloud.nacos.registry.NacosServiceRegistry - De-registration finished.
2025-04-13 14:58:19.727 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.cache.ServiceInfoHolder do shutdown begin
2025-04-13 14:58:19.727 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.backups.FailoverReactor do shutdown begin
2025-04-13 14:58:19.727 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.backups.FailoverReactor do shutdown stop
2025-04-13 14:58:19.728 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.cache.ServiceInfoHolder do shutdown stop
2025-04-13 14:58:19.728 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.remote.NamingClientProxyDelegate do shutdown begin
2025-04-13 14:58:19.728 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.core.ServiceInfoUpdateService do shutdown begin
2025-04-13 14:58:19.728 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.core.ServiceInfoUpdateService do shutdown stop
2025-04-13 14:58:19.728 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.core.ServerListManager do shutdown begin
2025-04-13 14:58:19.728 [SpringApplicationShutdownHook] WARN  com.alibaba.nacos.client.naming - [NamingHttpClientManager] Start destroying NacosRestTemplate
2025-04-13 14:58:19.728 [SpringApplicationShutdownHook] WARN  com.alibaba.nacos.client.naming - [NamingHttpClientManager] Destruction of the end
2025-04-13 14:58:19.728 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.core.ServerListManager do shutdown stop
2025-04-13 14:58:19.728 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.remote.http.NamingHttpClientProxy do shutdown begin
2025-04-13 14:58:19.728 [SpringApplicationShutdownHook] WARN  com.alibaba.nacos.client.naming - [NamingHttpClientManager] Start destroying NacosRestTemplate
2025-04-13 14:58:19.728 [SpringApplicationShutdownHook] WARN  com.alibaba.nacos.client.naming - [NamingHttpClientManager] Destruction of the end
2025-04-13 14:58:19.728 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.remote.http.NamingHttpClientProxy do shutdown stop
2025-04-13 14:58:19.728 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.common.remote.client - Shutdown rpc client, set status to shutdown
2025-04-13 14:58:19.728 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.common.remote.client - Shutdown client event executor java.util.concurrent.ScheduledThreadPoolExecutor@7f348b6e[Running, pool size = 2, active threads = 2, queued tasks = 0, completed tasks = 0]
2025-04-13 14:58:19.729 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.common.remote.client - Close current connection 1744527187714_127.0.0.1_56585
2025-04-13 14:58:19.730 [nacos-grpc-client-executor-127.0.0.1-70] INFO  c.a.nacos.common.remote.client.grpc.GrpcClient - [1744527187714_127.0.0.1_56585]Ignore complete event,isRunning:false,isAbandon=false
2025-04-13 14:58:19.733 [SpringApplicationShutdownHook] INFO  c.a.nacos.common.remote.client.grpc.GrpcClient - Shutdown grpc executor java.util.concurrent.ThreadPoolExecutor@f3c91f9[Running, pool size = 4, active threads = 0, queued tasks = 0, completed tasks = 71]
2025-04-13 14:58:19.733 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - Shutdown grpc redo service executor java.util.concurrent.ScheduledThreadPoolExecutor@1bb9cc2c[Running, pool size = 1, active threads = 0, queued tasks = 1, completed tasks = 103]
2025-04-13 14:58:19.733 [SpringApplicationShutdownHook] INFO  c.a.n.client.auth.ram.identify.CredentialWatcher - [null] CredentialWatcher is stopped
2025-04-13 14:58:19.733 [SpringApplicationShutdownHook] INFO  c.a.n.client.auth.ram.identify.CredentialService - [null] CredentialService is freed
2025-04-13 14:58:19.734 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.remote.NamingClientProxyDelegate do shutdown stop
2025-04-13 14:58:19.867 [SpringApplicationShutdownHook] INFO  com.alibaba.druid.pool.DruidDataSource - {dataSource-1} closing ...
2025-04-13 14:58:19.875 [SpringApplicationShutdownHook] INFO  com.alibaba.druid.pool.DruidDataSource - {dataSource-1} closed
2025-04-13 14:58:30.730 [main] WARN  com.alibaba.nacos.client.logging.NacosLogging - Load Logback Configuration of Nacos fail, message: Could not initialize Logback Nacos logging from classpath:nacos-logback.xml
2025-04-13 14:58:30.820 [main] WARN  com.alibaba.nacos.client.logging.NacosLogging - Load Logback Configuration of Nacos fail, message: Could not initialize Logback Nacos logging from classpath:nacos-logback.xml
2025-04-13 14:58:31.081 [main] WARN  com.alibaba.nacos.client.logging.NacosLogging - Load Logback Configuration of Nacos fail, message: Could not initialize Logback Nacos logging from classpath:nacos-logback.xml
2025-04-13 14:58:31.083 [main] INFO  com.alibaba.nacos.client.utils.ParamUtil - [settings] [req-serv] nacos-server port:8848
2025-04-13 14:58:31.085 [main] INFO  com.alibaba.nacos.client.utils.ParamUtil - [settings] [http-client] connect timeout:1000
2025-04-13 14:58:31.087 [main] INFO  com.alibaba.nacos.client.utils.ParamUtil - PER_TASK_CONFIG_SIZE: 3000.0
2025-04-13 14:58:31.117 [main] INFO  c.a.n.p.auth.spi.client.ClientAuthPluginManager - [ClientAuthPluginManager] Load ClientAuthService com.alibaba.nacos.client.auth.impl.NacosClientAuthServiceImpl success.
2025-04-13 14:58:31.117 [main] INFO  c.a.n.p.auth.spi.client.ClientAuthPluginManager - [ClientAuthPluginManager] Load ClientAuthService com.alibaba.nacos.client.auth.ram.RamClientAuthServiceImpl success.
2025-04-13 14:58:31.120 [main] INFO  c.a.n.client.auth.ram.identify.CredentialWatcher - null No credential found
2025-04-13 14:58:32.432 [main] WARN  com.alibaba.nacos.client.logging.NacosLogging - Load Logback Configuration of Nacos fail, message: Could not initialize Logback Nacos logging from classpath:nacos-logback.xml
2025-04-13 14:58:32.447 [main] INFO  c.a.n.client.config.impl.LocalConfigInfoProcessor - LOCAL_SNAPSHOT_PATH:C:\Users\58214\nacos\config
2025-04-13 14:58:32.451 [main] INFO  com.alibaba.nacos.common.remote.client - [RpcClientFactory] create a new rpc client of 8dde1bc8-02cf-47ac-86a0-3c08ea22150e_config-0
2025-04-13 14:58:32.468 [main] INFO  com.alibaba.nacos.common.remote.client - [8dde1bc8-02cf-47ac-86a0-3c08ea22150e_config-0] Register server push request handler:com.alibaba.nacos.client.config.impl.ClientWorker$ConfigRpcTransportClient$$Lambda$588/0x0000000800f8f1b0
2025-04-13 14:58:32.468 [main] INFO  com.alibaba.nacos.common.remote.client - [8dde1bc8-02cf-47ac-86a0-3c08ea22150e_config-0] Register server push request handler:com.alibaba.nacos.client.config.impl.ClientWorker$ConfigRpcTransportClient$$Lambda$589/0x0000000800f8f5d0
2025-04-13 14:58:32.469 [main] INFO  com.alibaba.nacos.common.remote.client - [8dde1bc8-02cf-47ac-86a0-3c08ea22150e_config-0] Registry connection listener to current client:com.alibaba.nacos.client.config.impl.ClientWorker$ConfigRpcTransportClient$1
2025-04-13 14:58:32.469 [main] INFO  com.alibaba.nacos.common.remote.client - [8dde1bc8-02cf-47ac-86a0-3c08ea22150e_config-0] RpcClient init, ServerListFactory = com.alibaba.nacos.client.config.impl.ClientWorker$ConfigRpcTransportClient$2
2025-04-13 14:58:32.477 [main] INFO  com.alibaba.nacos.common.remote.client - [8dde1bc8-02cf-47ac-86a0-3c08ea22150e_config-0] Try to connect to server on start up, server: {serverIp = '127.0.0.1', server main port = 8848}
2025-04-13 14:58:32.520 [main] INFO  c.a.nacos.common.remote.client.grpc.GrpcClient - grpc client connection server:127.0.0.1 ip,serverPort:9848,grpcTslConfig:{"sslProvider":"OPENSSL","enableTls":false,"mutualAuthEnable":false,"trustAll":false}
2025-04-13 14:58:34.170 [main] INFO  com.alibaba.nacos.common.remote.client - [8dde1bc8-02cf-47ac-86a0-3c08ea22150e_config-0] Success to connect to server [127.0.0.1:8848] on start up, connectionId = 1744527513885_127.0.0.1_56822
2025-04-13 14:58:34.171 [com.alibaba.nacos.client.remote.worker] INFO  com.alibaba.nacos.common.remote.client - [8dde1bc8-02cf-47ac-86a0-3c08ea22150e_config-0] Notify connected event to listeners.
2025-04-13 14:58:34.171 [com.alibaba.nacos.client.remote.worker] INFO  com.alibaba.nacos.client.config.impl.ClientWorker - [8dde1bc8-02cf-47ac-86a0-3c08ea22150e_config-0] Connected,notify listen context...
2025-04-13 14:58:34.171 [main] INFO  com.alibaba.nacos.common.remote.client - [8dde1bc8-02cf-47ac-86a0-3c08ea22150e_config-0] Register server push request handler:com.alibaba.nacos.common.remote.client.RpcClient$ConnectResetRequestHandler
2025-04-13 14:58:34.172 [main] INFO  com.alibaba.nacos.common.remote.client - [8dde1bc8-02cf-47ac-86a0-3c08ea22150e_config-0] Register server push request handler:com.alibaba.nacos.common.remote.client.RpcClient$$Lambda$609/0x00000008010d6a28
2025-04-13 14:58:34.228 [main] INFO  com.alibaba.nacos.client.config.impl.Limiter - limitTime:5.0
2025-04-13 14:58:34.252 [main] INFO  com.alibaba.nacos.client.config.utils.JvmUtil - isMultiInstance:false
2025-04-13 14:58:34.266 [main] WARN  c.a.cloud.nacos.client.NacosPropertySourceBuilder - Ignore the empty nacos configuration and get it based on dataId[xiaohashu-auth.yaml] & group[DEFAULT_GROUP]
2025-04-13 14:58:34.276 [main] INFO  o.s.c.b.c.PropertySourceBootstrapConfiguration - Located property source: [BootstrapPropertySource {name='bootstrapProperties-xiaohashu-auth-dev.yaml,DEFAULT_GROUP'}, BootstrapPropertySource {name='bootstrapProperties-xiaohashu-auth.yaml,DEFAULT_GROUP'}, BootstrapPropertySource {name='bootstrapProperties-xiaohashu-auth,DEFAULT_GROUP'}]
2025-04-13 14:58:34.309 [main] WARN  com.alibaba.nacos.client.logging.NacosLogging - Load Logback Configuration of Nacos fail, message: Could not initialize Logback Nacos logging from classpath:nacos-logback.xml
2025-04-13 14:58:34.310 [main] INFO  c.q.xiaohashu.auth.XiaohashuAuthApplication - The following 1 profile is active: "dev"
2025-04-13 14:58:35.598 [main] INFO  o.s.d.r.config.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-04-13 14:58:35.603 [main] INFO  o.s.d.r.config.RepositoryConfigurationDelegate - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2025-04-13 14:58:35.671 [main] INFO  o.s.d.r.config.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 33 ms. Found 0 Redis repository interfaces.
2025-04-13 14:58:36.126 [main] INFO  o.springframework.cloud.context.scope.GenericScope - BeanFactory id=8629c41b-2d0a-3e2d-a1fb-df78d6cc8b65
2025-04-13 14:58:37.105 [main] INFO  o.s.boot.web.embedded.tomcat.TomcatWebServer - Tomcat initialized with port(s): 8080 (http)
2025-04-13 14:58:37.124 [main] INFO  org.apache.catalina.core.StandardService - Starting service [Tomcat]
2025-04-13 14:58:37.125 [main] INFO  org.apache.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.5]
2025-04-13 14:58:37.261 [main] INFO  o.a.c.core.ContainerBase.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-04-13 14:58:37.262 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 2930 ms
2025-04-13 14:58:37.397 [main] INFO  c.a.d.s.b.a.DruidDataSourceAutoConfigure - Init DruidDataSource
2025-04-13 14:58:37.845 [main] INFO  com.alibaba.druid.pool.DruidDataSource - {dataSource-1} inited
2025-04-13 14:58:40.099 [main] INFO  org.springframework.cloud.commons.util.InetUtils - Cannot determine local hostname
2025-04-13 14:58:53.447 [main] INFO  org.springframework.cloud.commons.util.InetUtils - Cannot determine local hostname
2025-04-13 14:58:53.548 [main] INFO  o.s.boot.web.embedded.tomcat.TomcatWebServer - Tomcat started on port(s): 8080 (http) with context path ''
2025-04-13 14:58:53.551 [main] INFO  com.alibaba.nacos.client.naming - initializer namespace from ans.namespace attribute : null
2025-04-13 14:58:53.552 [main] INFO  com.alibaba.nacos.client.naming - initializer namespace from ALIBABA_ALIWARE_NAMESPACE attribute :null
2025-04-13 14:58:53.552 [main] INFO  com.alibaba.nacos.client.naming - initializer namespace from namespace attribute :null
2025-04-13 14:58:53.560 [main] INFO  c.a.n.p.auth.spi.client.ClientAuthPluginManager - [ClientAuthPluginManager] Load ClientAuthService com.alibaba.nacos.client.auth.impl.NacosClientAuthServiceImpl success.
2025-04-13 14:58:53.560 [main] INFO  c.a.n.p.auth.spi.client.ClientAuthPluginManager - [ClientAuthPluginManager] Load ClientAuthService com.alibaba.nacos.client.auth.ram.RamClientAuthServiceImpl success.
2025-04-13 14:58:53.563 [main] INFO  com.alibaba.nacos.common.remote.client - [RpcClientFactory] create a new rpc client of 4ccdb75d-537a-48bd-a91f-5c1278cd80ff
2025-04-13 14:58:53.564 [main] INFO  com.alibaba.nacos.common.remote.client - [4ccdb75d-537a-48bd-a91f-5c1278cd80ff] RpcClient init, ServerListFactory = com.alibaba.nacos.client.naming.core.ServerListManager
2025-04-13 14:58:53.565 [main] INFO  com.alibaba.nacos.common.remote.client - [4ccdb75d-537a-48bd-a91f-5c1278cd80ff] Registry connection listener to current client:com.alibaba.nacos.client.naming.remote.gprc.redo.NamingGrpcRedoService
2025-04-13 14:58:53.565 [main] INFO  com.alibaba.nacos.common.remote.client - [4ccdb75d-537a-48bd-a91f-5c1278cd80ff] Register server push request handler:com.alibaba.nacos.client.naming.remote.gprc.NamingPushRequestHandler
2025-04-13 14:58:53.565 [main] INFO  com.alibaba.nacos.common.remote.client - [4ccdb75d-537a-48bd-a91f-5c1278cd80ff] Try to connect to server on start up, server: {serverIp = '127.0.0.1', server main port = 8848}
2025-04-13 14:58:53.566 [main] INFO  c.a.nacos.common.remote.client.grpc.GrpcClient - grpc client connection server:127.0.0.1 ip,serverPort:9848,grpcTslConfig:{"sslProvider":"OPENSSL","enableTls":false,"mutualAuthEnable":false,"trustAll":false}
2025-04-13 14:58:53.682 [main] INFO  com.alibaba.nacos.common.remote.client - [4ccdb75d-537a-48bd-a91f-5c1278cd80ff] Success to connect to server [127.0.0.1:8848] on start up, connectionId = 1744527533570_127.0.0.1_56848
2025-04-13 14:58:53.682 [com.alibaba.nacos.client.remote.worker] INFO  com.alibaba.nacos.common.remote.client - [4ccdb75d-537a-48bd-a91f-5c1278cd80ff] Notify connected event to listeners.
2025-04-13 14:58:53.682 [main] INFO  com.alibaba.nacos.common.remote.client - [4ccdb75d-537a-48bd-a91f-5c1278cd80ff] Register server push request handler:com.alibaba.nacos.common.remote.client.RpcClient$ConnectResetRequestHandler
2025-04-13 14:58:53.682 [com.alibaba.nacos.client.remote.worker] INFO  com.alibaba.nacos.client.naming - Grpc connection connect
2025-04-13 14:58:53.682 [main] INFO  com.alibaba.nacos.common.remote.client - [4ccdb75d-537a-48bd-a91f-5c1278cd80ff] Register server push request handler:com.alibaba.nacos.common.remote.client.RpcClient$$Lambda$609/0x00000008010d6a28
2025-04-13 14:58:53.684 [main] INFO  com.alibaba.nacos.client.naming - [REGISTER-SERVICE] xiaohashu registering service xiaohashu-auth with instance Instance{instanceId='null', ip='172.20.10.3', port=8080, weight=1.0, healthy=true, enabled=true, ephemeral=true, clusterName='DEFAULT', serviceName='null', metadata={IPv6=[240e:440:2516:4289:5469:273c:b351:f987], preserved.register.source=SPRING_CLOUD}}
2025-04-13 14:58:53.694 [main] INFO  c.a.cloud.nacos.registry.NacosServiceRegistry - nacos registry, DEFAULT_GROUP xiaohashu-auth 172.20.10.3:8080 register finished
2025-04-13 14:58:54.836 [main] INFO  org.springframework.cloud.commons.util.InetUtils - Cannot determine local hostname
2025-04-13 14:58:54.848 [main] INFO  c.q.xiaohashu.auth.XiaohashuAuthApplication - Started XiaohashuAuthApplication in 25.985 seconds (process running for 26.927)
2025-04-13 14:58:54.849 [main] INFO  c.q.x.auth.runner.PushRolePermissions2RedisRunner - ==> 服务启动，开始同步角色权限数据到 Redis 中...
2025-04-13 14:58:55.260 [main] WARN  c.q.x.auth.runner.PushRolePermissions2RedisRunner - ==> 角色权限数据已经同步至 Redis 中，不再同步...
2025-04-13 14:58:55.262 [main] INFO  com.alibaba.nacos.client.config.impl.CacheData - nacos.cache.data.init.snapshot = true 
2025-04-13 14:58:55.263 [main] INFO  com.alibaba.nacos.client.config.impl.ClientWorker - [fixed-xiaohashu-127.0.0.1_8848] [subscribe] xiaohashu-auth.yaml+DEFAULT_GROUP+xiaohashu
2025-04-13 14:58:55.269 [main] INFO  com.alibaba.nacos.client.config.impl.CacheData - [fixed-xiaohashu-127.0.0.1_8848] [add-listener] ok, tenant=xiaohashu, dataId=xiaohashu-auth.yaml, group=DEFAULT_GROUP, cnt=1
2025-04-13 14:58:55.270 [main] INFO  c.a.cloud.nacos.refresh.NacosContextRefresher - [Nacos Config] Listening config: dataId=xiaohashu-auth.yaml, group=DEFAULT_GROUP
2025-04-13 14:58:55.271 [main] INFO  com.alibaba.nacos.client.config.impl.ClientWorker - [fixed-xiaohashu-127.0.0.1_8848] [subscribe] xiaohashu-auth-dev.yaml+DEFAULT_GROUP+xiaohashu
2025-04-13 14:58:55.272 [main] INFO  com.alibaba.nacos.client.config.impl.CacheData - [fixed-xiaohashu-127.0.0.1_8848] [add-listener] ok, tenant=xiaohashu, dataId=xiaohashu-auth-dev.yaml, group=DEFAULT_GROUP, cnt=1
2025-04-13 14:58:55.272 [main] INFO  c.a.cloud.nacos.refresh.NacosContextRefresher - [Nacos Config] Listening config: dataId=xiaohashu-auth-dev.yaml, group=DEFAULT_GROUP
2025-04-13 14:58:55.274 [main] INFO  com.alibaba.nacos.client.config.impl.ClientWorker - [fixed-xiaohashu-127.0.0.1_8848] [subscribe] xiaohashu-auth+DEFAULT_GROUP+xiaohashu
2025-04-13 14:58:55.274 [main] INFO  com.alibaba.nacos.client.config.impl.CacheData - [fixed-xiaohashu-127.0.0.1_8848] [add-listener] ok, tenant=xiaohashu, dataId=xiaohashu-auth, group=DEFAULT_GROUP, cnt=1
2025-04-13 14:58:55.274 [main] INFO  c.a.cloud.nacos.refresh.NacosContextRefresher - [Nacos Config] Listening config: dataId=xiaohashu-auth, group=DEFAULT_GROUP
2025-04-13 15:01:45.727 [http-nio-8080-exec-1] INFO  o.a.c.core.ContainerBase.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-04-13 15:01:45.727 [http-nio-8080-exec-1] INFO  org.springframework.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2025-04-13 15:01:45.730 [http-nio-8080-exec-1] INFO  org.springframework.web.servlet.DispatcherServlet - Completed initialization in 2 ms
2025-04-13 15:01:45.741 [http-nio-8080-exec-1] INFO  c.q.f.b.context.filter.HeaderUserId2ContextFilter - ## HeaderUserId2ContextFilter, 用户 ID: null
2025-04-13 15:01:45.900 [http-nio-8080-exec-1] INFO  c.q.f.b.operationlog.aspect.ApiOperationLogAspect - ====== 请求开始: [用户登录/注册], 入参: {"phone":"13782612609","code":"987074","password":null,"type":1}, 请求类: UserController, 请求方法: loginAndRegister =================================== 
2025-04-13 15:01:45.911 [http-nio-8080-exec-1] WARN  c.q.x.auth.exception.GlobalExceptionHandler - /user/login request fail, errorCode: AUTH-20001, errorMessage: 验证码错误
2025-04-13 15:01:48.435 [http-nio-8080-exec-2] INFO  c.q.f.b.context.filter.HeaderUserId2ContextFilter - ## HeaderUserId2ContextFilter, 用户 ID: null
2025-04-13 15:01:48.441 [http-nio-8080-exec-2] INFO  c.q.f.b.operationlog.aspect.ApiOperationLogAspect - ====== 请求开始: [发送短信验证码], 入参: {"phone":"13782612609"}, 请求类: VerificationCodeController, 请求方法: send =================================== 
2025-04-13 15:01:48.449 [http-nio-8080-exec-2] INFO  c.q.x.a.service.impl.VerificationCodeServiceImpl - ==> 手机号: 13782612609, 已发送验证码：【152538】
2025-04-13 15:01:48.451 [AuthExecutor-1] INFO  com.quanxiaoha.xiaohashu.auth.sms.AliyunSmsHelper - ==> 开始短信发送, phone: 13782612609, signName: 阿里云短信测试, templateCode: SMS_154950909, templateParam: {"code":"152538"}
2025-04-13 15:01:48.454 [http-nio-8080-exec-2] INFO  c.q.f.b.operationlog.aspect.ApiOperationLogAspect - ====== 请求结束: [发送短信验证码], 耗时: 15ms, 出参: {"success":true,"message":null,"errorCode":null,"data":null} =================================== 
2025-04-13 15:02:00.633 [http-nio-8080-exec-4] INFO  c.q.f.b.context.filter.HeaderUserId2ContextFilter - ## HeaderUserId2ContextFilter, 用户 ID: null
2025-04-13 15:02:00.634 [http-nio-8080-exec-4] INFO  c.q.f.b.operationlog.aspect.ApiOperationLogAspect - ====== 请求开始: [用户登录/注册], 入参: {"phone":"13782612609","code":"152538","password":null,"type":1}, 请求类: UserController, 请求方法: loginAndRegister =================================== 
2025-04-13 15:02:00.669 [http-nio-8080-exec-4] DEBUG c.q.x.a.domain.mapper.UserDOMapper.selectByPhone - ==>  Preparing: select id, password from t_user where phone = ?
2025-04-13 15:02:00.860 [http-nio-8080-exec-4] DEBUG c.q.x.a.domain.mapper.UserDOMapper.selectByPhone - ==> Parameters: 13782612609(String)
2025-04-13 15:02:00.891 [http-nio-8080-exec-4] DEBUG c.q.x.a.domain.mapper.UserDOMapper.selectByPhone - <==      Total: 1
2025-04-13 15:02:00.895 [http-nio-8080-exec-4] INFO  c.q.xiaohashu.auth.service.impl.UserServiceImpl - ==> 用户是否注册, phone: 13782612609, userDO: {"id":2,"xiaohashuId":null,"password":null,"nickname":null,"avatar":null,"birthday":null,"backgroundImg":null,"phone":null,"sex":null,"status":null,"introduction":null,"createTime":null,"updateTime":null,"isDeleted":null}
2025-04-13 15:02:00.970 [http-nio-8080-exec-4] INFO  c.q.f.b.operationlog.aspect.ApiOperationLogAspect - ====== 请求结束: [用户登录/注册], 耗时: 336ms, 出参: {"success":true,"message":null,"errorCode":null,"data":"o6Dbkw3g3mmwcF2eKZ8iTgajpy7p3E6lPCcZg08gcoi2X3367S7o8lah0L8RZZ2jDjeHmwCWP2YvcUPRWcTDre40loQKWAJoJ94Ukc2TqGPri33jqJDEsqBCEF7DYwrr"} =================================== 
2025-04-13 15:02:14.889 [http-nio-8080-exec-3] INFO  c.q.f.b.context.filter.HeaderUserId2ContextFilter - ## HeaderUserId2ContextFilter, 用户 ID: 2
2025-04-13 15:02:14.889 [http-nio-8080-exec-3] INFO  c.q.f.b.context.filter.HeaderUserId2ContextFilter - ===== 设置 userId 到 ThreadLocal 中， 用户 ID: 2
2025-04-13 15:02:14.896 [http-nio-8080-exec-3] INFO  c.q.f.b.operationlog.aspect.ApiOperationLogAspect - ====== 请求开始: [修改密码], 入参: {"newPassword":"123456"}, 请求类: UserController, 请求方法: updatePassword =================================== 
2025-04-13 15:02:15.035 [http-nio-8080-exec-3] DEBUG c.q.x.a.d.m.U.updateByPrimaryKeySelective - ==>  Preparing: update t_user SET `password` = ?, update_time = ? where id = ?
2025-04-13 15:02:15.047 [http-nio-8080-exec-3] DEBUG c.q.x.a.d.m.U.updateByPrimaryKeySelective - ==> Parameters: $2a$10$mVKK0Ffq8zp/CKRX2kHD4ujvuEHP3MNUlkMRB.hEUXvaw9nlL5RFS(String), 2025-04-13T15:02:14.998543600(LocalDateTime), 2(Long)
2025-04-13 15:02:15.084 [http-nio-8080-exec-3] DEBUG c.q.x.a.d.m.U.updateByPrimaryKeySelective - <==    Updates: 1
2025-04-13 15:02:15.085 [http-nio-8080-exec-3] INFO  c.q.f.b.operationlog.aspect.ApiOperationLogAspect - ====== 请求结束: [修改密码], 耗时: 188ms, 出参: {"success":true,"message":null,"errorCode":null,"data":null} =================================== 
2025-04-13 15:02:15.086 [http-nio-8080-exec-3] INFO  c.q.f.b.context.filter.HeaderUserId2ContextFilter - ===== 删除 ThreadLocal， userId: 2
2025-04-13 15:07:19.455 [Thread-2] WARN  c.alibaba.nacos.common.http.HttpClientBeanHolder - [HttpClientBeanHolder] Start destroying common HttpClient
2025-04-13 15:07:19.455 [Thread-9] WARN  com.alibaba.nacos.common.notify.NotifyCenter - [NotifyCenter] Start destroying Publisher
2025-04-13 15:07:19.455 [Thread-9] WARN  com.alibaba.nacos.common.notify.NotifyCenter - [NotifyCenter] Destruction of the end
2025-04-13 15:07:19.456 [Thread-2] WARN  c.alibaba.nacos.common.http.HttpClientBeanHolder - [HttpClientBeanHolder] Destruction of the end
2025-04-13 15:07:19.492 [SpringApplicationShutdownHook] INFO  c.a.cloud.nacos.registry.NacosServiceRegistry - De-registering from Nacos Server now...
2025-04-13 15:07:19.492 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - [DEREGISTER-SERVICE] xiaohashu deregistering service xiaohashu-auth with instance: Instance{instanceId='null', ip='172.20.10.3', port=8080, weight=1.0, healthy=true, enabled=true, ephemeral=true, clusterName='DEFAULT', serviceName='null', metadata={}}
2025-04-13 15:07:19.494 [SpringApplicationShutdownHook] INFO  c.a.cloud.nacos.registry.NacosServiceRegistry - De-registration finished.
2025-04-13 15:07:19.495 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.cache.ServiceInfoHolder do shutdown begin
2025-04-13 15:07:19.495 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.backups.FailoverReactor do shutdown begin
2025-04-13 15:07:19.495 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.backups.FailoverReactor do shutdown stop
2025-04-13 15:07:19.495 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.cache.ServiceInfoHolder do shutdown stop
2025-04-13 15:07:19.495 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.remote.NamingClientProxyDelegate do shutdown begin
2025-04-13 15:07:19.495 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.core.ServiceInfoUpdateService do shutdown begin
2025-04-13 15:07:19.495 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.core.ServiceInfoUpdateService do shutdown stop
2025-04-13 15:07:19.495 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.core.ServerListManager do shutdown begin
2025-04-13 15:07:19.495 [SpringApplicationShutdownHook] WARN  com.alibaba.nacos.client.naming - [NamingHttpClientManager] Start destroying NacosRestTemplate
2025-04-13 15:07:19.495 [SpringApplicationShutdownHook] WARN  com.alibaba.nacos.client.naming - [NamingHttpClientManager] Destruction of the end
2025-04-13 15:07:19.495 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.core.ServerListManager do shutdown stop
2025-04-13 15:07:19.495 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.remote.http.NamingHttpClientProxy do shutdown begin
2025-04-13 15:07:19.495 [SpringApplicationShutdownHook] WARN  com.alibaba.nacos.client.naming - [NamingHttpClientManager] Start destroying NacosRestTemplate
2025-04-13 15:07:19.495 [SpringApplicationShutdownHook] WARN  com.alibaba.nacos.client.naming - [NamingHttpClientManager] Destruction of the end
2025-04-13 15:07:19.495 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.remote.http.NamingHttpClientProxy do shutdown stop
2025-04-13 15:07:19.496 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.common.remote.client - Shutdown rpc client, set status to shutdown
2025-04-13 15:07:19.496 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.common.remote.client - Shutdown client event executor java.util.concurrent.ScheduledThreadPoolExecutor@7c5edf51[Running, pool size = 2, active threads = 2, queued tasks = 0, completed tasks = 0]
2025-04-13 15:07:19.496 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.common.remote.client - Close current connection 1744527533570_127.0.0.1_56848
2025-04-13 15:07:19.498 [nacos-grpc-client-executor-127.0.0.1-108] INFO  c.a.nacos.common.remote.client.grpc.GrpcClient - [1744527533570_127.0.0.1_56848]Ignore complete event,isRunning:false,isAbandon=false
2025-04-13 15:07:19.500 [SpringApplicationShutdownHook] INFO  c.a.nacos.common.remote.client.grpc.GrpcClient - Shutdown grpc executor java.util.concurrent.ThreadPoolExecutor@ea47096[Running, pool size = 4, active threads = 0, queued tasks = 0, completed tasks = 109]
2025-04-13 15:07:19.501 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - Shutdown grpc redo service executor java.util.concurrent.ScheduledThreadPoolExecutor@5df306c8[Running, pool size = 1, active threads = 0, queued tasks = 1, completed tasks = 168]
2025-04-13 15:07:19.501 [SpringApplicationShutdownHook] INFO  c.a.n.client.auth.ram.identify.CredentialWatcher - [null] CredentialWatcher is stopped
2025-04-13 15:07:19.502 [SpringApplicationShutdownHook] INFO  c.a.n.client.auth.ram.identify.CredentialService - [null] CredentialService is freed
2025-04-13 15:07:19.502 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.remote.NamingClientProxyDelegate do shutdown stop
2025-04-13 15:07:19.635 [SpringApplicationShutdownHook] INFO  com.alibaba.druid.pool.DruidDataSource - {dataSource-1} closing ...
2025-04-13 15:07:19.641 [SpringApplicationShutdownHook] INFO  com.alibaba.druid.pool.DruidDataSource - {dataSource-1} closed
2025-04-13 15:07:27.948 [main] WARN  com.alibaba.nacos.client.logging.NacosLogging - Load Logback Configuration of Nacos fail, message: Could not initialize Logback Nacos logging from classpath:nacos-logback.xml
2025-04-13 15:07:28.052 [main] WARN  com.alibaba.nacos.client.logging.NacosLogging - Load Logback Configuration of Nacos fail, message: Could not initialize Logback Nacos logging from classpath:nacos-logback.xml
2025-04-13 15:07:28.332 [main] WARN  com.alibaba.nacos.client.logging.NacosLogging - Load Logback Configuration of Nacos fail, message: Could not initialize Logback Nacos logging from classpath:nacos-logback.xml
2025-04-13 15:07:28.334 [main] INFO  com.alibaba.nacos.client.utils.ParamUtil - [settings] [req-serv] nacos-server port:8848
2025-04-13 15:07:28.334 [main] INFO  com.alibaba.nacos.client.utils.ParamUtil - [settings] [http-client] connect timeout:1000
2025-04-13 15:07:28.335 [main] INFO  com.alibaba.nacos.client.utils.ParamUtil - PER_TASK_CONFIG_SIZE: 3000.0
2025-04-13 15:07:28.365 [main] INFO  c.a.n.p.auth.spi.client.ClientAuthPluginManager - [ClientAuthPluginManager] Load ClientAuthService com.alibaba.nacos.client.auth.impl.NacosClientAuthServiceImpl success.
2025-04-13 15:07:28.365 [main] INFO  c.a.n.p.auth.spi.client.ClientAuthPluginManager - [ClientAuthPluginManager] Load ClientAuthService com.alibaba.nacos.client.auth.ram.RamClientAuthServiceImpl success.
2025-04-13 15:07:28.368 [main] INFO  c.a.n.client.auth.ram.identify.CredentialWatcher - null No credential found
2025-04-13 15:07:29.674 [main] WARN  com.alibaba.nacos.client.logging.NacosLogging - Load Logback Configuration of Nacos fail, message: Could not initialize Logback Nacos logging from classpath:nacos-logback.xml
2025-04-13 15:07:29.690 [main] INFO  c.a.n.client.config.impl.LocalConfigInfoProcessor - LOCAL_SNAPSHOT_PATH:C:\Users\58214\nacos\config
2025-04-13 15:07:29.694 [main] INFO  com.alibaba.nacos.common.remote.client - [RpcClientFactory] create a new rpc client of 3b0edbdb-5f16-483a-90e1-6e415a24259e_config-0
2025-04-13 15:07:29.712 [main] INFO  com.alibaba.nacos.common.remote.client - [3b0edbdb-5f16-483a-90e1-6e415a24259e_config-0] Register server push request handler:com.alibaba.nacos.client.config.impl.ClientWorker$ConfigRpcTransportClient$$Lambda$588/0x0000000800f8fd68
2025-04-13 15:07:29.712 [main] INFO  com.alibaba.nacos.common.remote.client - [3b0edbdb-5f16-483a-90e1-6e415a24259e_config-0] Register server push request handler:com.alibaba.nacos.client.config.impl.ClientWorker$ConfigRpcTransportClient$$Lambda$589/0x0000000800f90200
2025-04-13 15:07:29.713 [main] INFO  com.alibaba.nacos.common.remote.client - [3b0edbdb-5f16-483a-90e1-6e415a24259e_config-0] Registry connection listener to current client:com.alibaba.nacos.client.config.impl.ClientWorker$ConfigRpcTransportClient$1
2025-04-13 15:07:29.713 [main] INFO  com.alibaba.nacos.common.remote.client - [3b0edbdb-5f16-483a-90e1-6e415a24259e_config-0] RpcClient init, ServerListFactory = com.alibaba.nacos.client.config.impl.ClientWorker$ConfigRpcTransportClient$2
2025-04-13 15:07:29.722 [main] INFO  com.alibaba.nacos.common.remote.client - [3b0edbdb-5f16-483a-90e1-6e415a24259e_config-0] Try to connect to server on start up, server: {serverIp = '127.0.0.1', server main port = 8848}
2025-04-13 15:07:29.771 [main] INFO  c.a.nacos.common.remote.client.grpc.GrpcClient - grpc client connection server:127.0.0.1 ip,serverPort:9848,grpcTslConfig:{"sslProvider":"OPENSSL","enableTls":false,"mutualAuthEnable":false,"trustAll":false}
2025-04-13 15:07:30.692 [main] INFO  com.alibaba.nacos.common.remote.client - [3b0edbdb-5f16-483a-90e1-6e415a24259e_config-0] Success to connect to server [127.0.0.1:8848] on start up, connectionId = 1744528050482_127.0.0.1_57934
2025-04-13 15:07:30.694 [com.alibaba.nacos.client.remote.worker] INFO  com.alibaba.nacos.common.remote.client - [3b0edbdb-5f16-483a-90e1-6e415a24259e_config-0] Notify connected event to listeners.
2025-04-13 15:07:30.694 [com.alibaba.nacos.client.remote.worker] INFO  com.alibaba.nacos.client.config.impl.ClientWorker - [3b0edbdb-5f16-483a-90e1-6e415a24259e_config-0] Connected,notify listen context...
2025-04-13 15:07:30.694 [main] INFO  com.alibaba.nacos.common.remote.client - [3b0edbdb-5f16-483a-90e1-6e415a24259e_config-0] Register server push request handler:com.alibaba.nacos.common.remote.client.RpcClient$ConnectResetRequestHandler
2025-04-13 15:07:30.695 [main] INFO  com.alibaba.nacos.common.remote.client - [3b0edbdb-5f16-483a-90e1-6e415a24259e_config-0] Register server push request handler:com.alibaba.nacos.common.remote.client.RpcClient$$Lambda$609/0x00000008010d8000
2025-04-13 15:07:30.739 [main] INFO  com.alibaba.nacos.client.config.impl.Limiter - limitTime:5.0
2025-04-13 15:07:30.767 [main] INFO  com.alibaba.nacos.client.config.utils.JvmUtil - isMultiInstance:false
2025-04-13 15:07:30.786 [main] WARN  c.a.cloud.nacos.client.NacosPropertySourceBuilder - Ignore the empty nacos configuration and get it based on dataId[xiaohashu-auth.yaml] & group[DEFAULT_GROUP]
2025-04-13 15:07:30.796 [main] INFO  o.s.c.b.c.PropertySourceBootstrapConfiguration - Located property source: [BootstrapPropertySource {name='bootstrapProperties-xiaohashu-auth-dev.yaml,DEFAULT_GROUP'}, BootstrapPropertySource {name='bootstrapProperties-xiaohashu-auth.yaml,DEFAULT_GROUP'}, BootstrapPropertySource {name='bootstrapProperties-xiaohashu-auth,DEFAULT_GROUP'}]
2025-04-13 15:07:30.820 [main] WARN  com.alibaba.nacos.client.logging.NacosLogging - Load Logback Configuration of Nacos fail, message: Could not initialize Logback Nacos logging from classpath:nacos-logback.xml
2025-04-13 15:07:30.821 [main] INFO  c.q.xiaohashu.auth.XiaohashuAuthApplication - The following 1 profile is active: "dev"
2025-04-13 15:07:31.486 [main] INFO  o.s.d.r.config.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-04-13 15:07:31.498 [main] INFO  o.s.d.r.config.RepositoryConfigurationDelegate - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2025-04-13 15:07:31.522 [main] INFO  o.s.d.r.config.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 8 ms. Found 0 Redis repository interfaces.
2025-04-13 15:07:31.747 [main] INFO  o.springframework.cloud.context.scope.GenericScope - BeanFactory id=8629c41b-2d0a-3e2d-a1fb-df78d6cc8b65
2025-04-13 15:07:32.339 [main] INFO  o.s.boot.web.embedded.tomcat.TomcatWebServer - Tomcat initialized with port(s): 8080 (http)
2025-04-13 15:07:32.350 [main] INFO  org.apache.catalina.core.StandardService - Starting service [Tomcat]
2025-04-13 15:07:32.351 [main] INFO  org.apache.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.5]
2025-04-13 15:07:32.433 [main] INFO  o.a.c.core.ContainerBase.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-04-13 15:07:32.433 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 1599 ms
2025-04-13 15:07:32.554 [main] INFO  c.a.d.s.b.a.DruidDataSourceAutoConfigure - Init DruidDataSource
2025-04-13 15:07:32.931 [main] INFO  com.alibaba.druid.pool.DruidDataSource - {dataSource-1} inited
2025-04-13 15:07:35.008 [main] INFO  org.springframework.cloud.commons.util.InetUtils - Cannot determine local hostname
2025-04-13 15:07:39.428 [main] INFO  org.springframework.cloud.commons.util.InetUtils - Cannot determine local hostname
2025-04-13 15:07:39.527 [main] INFO  o.s.boot.web.embedded.tomcat.TomcatWebServer - Tomcat started on port(s): 8080 (http) with context path ''
2025-04-13 15:07:39.531 [main] INFO  com.alibaba.nacos.client.naming - initializer namespace from ans.namespace attribute : null
2025-04-13 15:07:39.532 [main] INFO  com.alibaba.nacos.client.naming - initializer namespace from ALIBABA_ALIWARE_NAMESPACE attribute :null
2025-04-13 15:07:39.532 [main] INFO  com.alibaba.nacos.client.naming - initializer namespace from namespace attribute :null
2025-04-13 15:07:39.542 [main] INFO  c.a.n.p.auth.spi.client.ClientAuthPluginManager - [ClientAuthPluginManager] Load ClientAuthService com.alibaba.nacos.client.auth.impl.NacosClientAuthServiceImpl success.
2025-04-13 15:07:39.542 [main] INFO  c.a.n.p.auth.spi.client.ClientAuthPluginManager - [ClientAuthPluginManager] Load ClientAuthService com.alibaba.nacos.client.auth.ram.RamClientAuthServiceImpl success.
2025-04-13 15:07:39.546 [main] INFO  com.alibaba.nacos.common.remote.client - [RpcClientFactory] create a new rpc client of e446522b-ba9f-403b-8f17-69782ae6d6d2
2025-04-13 15:07:39.548 [main] INFO  com.alibaba.nacos.common.remote.client - [e446522b-ba9f-403b-8f17-69782ae6d6d2] RpcClient init, ServerListFactory = com.alibaba.nacos.client.naming.core.ServerListManager
2025-04-13 15:07:39.548 [main] INFO  com.alibaba.nacos.common.remote.client - [e446522b-ba9f-403b-8f17-69782ae6d6d2] Registry connection listener to current client:com.alibaba.nacos.client.naming.remote.gprc.redo.NamingGrpcRedoService
2025-04-13 15:07:39.548 [main] INFO  com.alibaba.nacos.common.remote.client - [e446522b-ba9f-403b-8f17-69782ae6d6d2] Register server push request handler:com.alibaba.nacos.client.naming.remote.gprc.NamingPushRequestHandler
2025-04-13 15:07:39.549 [main] INFO  com.alibaba.nacos.common.remote.client - [e446522b-ba9f-403b-8f17-69782ae6d6d2] Try to connect to server on start up, server: {serverIp = '127.0.0.1', server main port = 8848}
2025-04-13 15:07:39.549 [main] INFO  c.a.nacos.common.remote.client.grpc.GrpcClient - grpc client connection server:127.0.0.1 ip,serverPort:9848,grpcTslConfig:{"sslProvider":"OPENSSL","enableTls":false,"mutualAuthEnable":false,"trustAll":false}
2025-04-13 15:07:39.664 [main] INFO  com.alibaba.nacos.common.remote.client - [e446522b-ba9f-403b-8f17-69782ae6d6d2] Success to connect to server [127.0.0.1:8848] on start up, connectionId = 1744528059554_127.0.0.1_57946
2025-04-13 15:07:39.664 [main] INFO  com.alibaba.nacos.common.remote.client - [e446522b-ba9f-403b-8f17-69782ae6d6d2] Register server push request handler:com.alibaba.nacos.common.remote.client.RpcClient$ConnectResetRequestHandler
2025-04-13 15:07:39.664 [com.alibaba.nacos.client.remote.worker] INFO  com.alibaba.nacos.common.remote.client - [e446522b-ba9f-403b-8f17-69782ae6d6d2] Notify connected event to listeners.
2025-04-13 15:07:39.664 [main] INFO  com.alibaba.nacos.common.remote.client - [e446522b-ba9f-403b-8f17-69782ae6d6d2] Register server push request handler:com.alibaba.nacos.common.remote.client.RpcClient$$Lambda$609/0x00000008010d8000
2025-04-13 15:07:39.664 [com.alibaba.nacos.client.remote.worker] INFO  com.alibaba.nacos.client.naming - Grpc connection connect
2025-04-13 15:07:39.666 [main] INFO  com.alibaba.nacos.client.naming - [REGISTER-SERVICE] xiaohashu registering service xiaohashu-auth with instance Instance{instanceId='null', ip='172.20.10.3', port=8080, weight=1.0, healthy=true, enabled=true, ephemeral=true, clusterName='DEFAULT', serviceName='null', metadata={IPv6=[240e:440:2516:4289:5469:273c:b351:f987], preserved.register.source=SPRING_CLOUD}}
2025-04-13 15:07:39.679 [main] INFO  c.a.cloud.nacos.registry.NacosServiceRegistry - nacos registry, DEFAULT_GROUP xiaohashu-auth 172.20.10.3:8080 register finished
2025-04-13 15:07:40.849 [main] INFO  org.springframework.cloud.commons.util.InetUtils - Cannot determine local hostname
2025-04-13 15:07:40.859 [main] INFO  c.q.xiaohashu.auth.XiaohashuAuthApplication - Started XiaohashuAuthApplication in 14.74 seconds (process running for 15.624)
2025-04-13 15:07:40.860 [main] INFO  c.q.x.auth.runner.PushRolePermissions2RedisRunner - ==> 服务启动，开始同步角色权限数据到 Redis 中...
2025-04-13 15:07:41.304 [main] WARN  c.q.x.auth.runner.PushRolePermissions2RedisRunner - ==> 角色权限数据已经同步至 Redis 中，不再同步...
2025-04-13 15:07:41.307 [main] INFO  com.alibaba.nacos.client.config.impl.CacheData - nacos.cache.data.init.snapshot = true 
2025-04-13 15:07:41.308 [main] INFO  com.alibaba.nacos.client.config.impl.ClientWorker - [fixed-xiaohashu-127.0.0.1_8848] [subscribe] xiaohashu-auth.yaml+DEFAULT_GROUP+xiaohashu
2025-04-13 15:07:41.315 [main] INFO  com.alibaba.nacos.client.config.impl.CacheData - [fixed-xiaohashu-127.0.0.1_8848] [add-listener] ok, tenant=xiaohashu, dataId=xiaohashu-auth.yaml, group=DEFAULT_GROUP, cnt=1
2025-04-13 15:07:41.315 [main] INFO  c.a.cloud.nacos.refresh.NacosContextRefresher - [Nacos Config] Listening config: dataId=xiaohashu-auth.yaml, group=DEFAULT_GROUP
2025-04-13 15:07:41.317 [main] INFO  com.alibaba.nacos.client.config.impl.ClientWorker - [fixed-xiaohashu-127.0.0.1_8848] [subscribe] xiaohashu-auth-dev.yaml+DEFAULT_GROUP+xiaohashu
2025-04-13 15:07:41.317 [main] INFO  com.alibaba.nacos.client.config.impl.CacheData - [fixed-xiaohashu-127.0.0.1_8848] [add-listener] ok, tenant=xiaohashu, dataId=xiaohashu-auth-dev.yaml, group=DEFAULT_GROUP, cnt=1
2025-04-13 15:07:41.317 [main] INFO  c.a.cloud.nacos.refresh.NacosContextRefresher - [Nacos Config] Listening config: dataId=xiaohashu-auth-dev.yaml, group=DEFAULT_GROUP
2025-04-13 15:07:41.319 [main] INFO  com.alibaba.nacos.client.config.impl.ClientWorker - [fixed-xiaohashu-127.0.0.1_8848] [subscribe] xiaohashu-auth+DEFAULT_GROUP+xiaohashu
2025-04-13 15:07:41.319 [main] INFO  com.alibaba.nacos.client.config.impl.CacheData - [fixed-xiaohashu-127.0.0.1_8848] [add-listener] ok, tenant=xiaohashu, dataId=xiaohashu-auth, group=DEFAULT_GROUP, cnt=1
2025-04-13 15:07:41.319 [main] INFO  c.a.cloud.nacos.refresh.NacosContextRefresher - [Nacos Config] Listening config: dataId=xiaohashu-auth, group=DEFAULT_GROUP
2025-04-13 15:08:06.764 [http-nio-8080-exec-1] INFO  o.a.c.core.ContainerBase.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-04-13 15:08:06.765 [http-nio-8080-exec-1] INFO  org.springframework.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2025-04-13 15:08:06.766 [http-nio-8080-exec-1] INFO  org.springframework.web.servlet.DispatcherServlet - Completed initialization in 1 ms
2025-04-13 15:08:06.774 [http-nio-8080-exec-1] INFO  c.q.f.b.context.filter.HeaderUserId2ContextFilter - ## HeaderUserId2ContextFilter, 用户 ID: null
2025-04-13 15:08:06.888 [http-nio-8080-exec-1] INFO  c.q.f.b.operationlog.aspect.ApiOperationLogAspect - ====== 请求开始: [用户登录/注册], 入参: {"phone":"13782612609","code":"123456","password":null,"type":2}, 请求类: UserController, 请求方法: loginAndRegister =================================== 
2025-04-13 15:08:06.927 [http-nio-8080-exec-1] DEBUG c.q.x.a.domain.mapper.UserDOMapper.selectByPhone - ==>  Preparing: select id, password from t_user where phone = ?
2025-04-13 15:08:07.138 [http-nio-8080-exec-1] DEBUG c.q.x.a.domain.mapper.UserDOMapper.selectByPhone - ==> Parameters: 13782612609(String)
2025-04-13 15:08:07.174 [http-nio-8080-exec-1] DEBUG c.q.x.a.domain.mapper.UserDOMapper.selectByPhone - <==      Total: 1
2025-04-13 15:08:07.178 [http-nio-8080-exec-1] WARN  c.q.x.auth.exception.GlobalExceptionHandler - /user/login request error, errorCode: AUTH-10001, errorMessage: rawPassword cannot be null
2025-04-13 15:09:21.276 [http-nio-8080-exec-3] INFO  c.q.f.b.context.filter.HeaderUserId2ContextFilter - ## HeaderUserId2ContextFilter, 用户 ID: null
2025-04-13 15:09:21.277 [http-nio-8080-exec-3] INFO  c.q.f.b.operationlog.aspect.ApiOperationLogAspect - ====== 请求开始: [账号登出], 入参: , 请求类: UserController, 请求方法: logout =================================== 
2025-04-13 15:09:21.282 [http-nio-8080-exec-3] INFO  c.q.xiaohashu.auth.service.impl.UserServiceImpl - ==> 用户退出登录, userId: null
2025-04-13 15:09:21.283 [AuthExecutor-1] INFO  c.q.xiaohashu.auth.service.impl.UserServiceImpl - ==> 异步线程中获取 userId: null
2025-04-13 15:09:21.283 [http-nio-8080-exec-3] ERROR c.q.x.auth.exception.GlobalExceptionHandler - /user/logout request error, 
cn.dev33.satoken.exception.SaTokenException: Account-Session 获取失败：loginId 不能为空
	at cn.dev33.satoken.stp.StpLogic.getSessionByLoginId(StpLogic.java:1236)
	at cn.dev33.satoken.stp.StpLogic.getSessionByLoginId(StpLogic.java:1255)
	at cn.dev33.satoken.stp.StpLogic.logout(StpLogic.java:650)
	at cn.dev33.satoken.stp.StpLogic.logout(StpLogic.java:639)
	at cn.dev33.satoken.stp.StpUtil.logout(StpUtil.java:243)
	at com.quanxiaoha.xiaohashu.auth.service.impl.UserServiceImpl.logout(UserServiceImpl.java:172)
	at com.quanxiaoha.xiaohashu.auth.controller.UserController.logout(UserController.java:37)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:343)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:196)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:752)
	at org.springframework.aop.aspectj.MethodInvocationProceedingJoinPoint.proceed(MethodInvocationProceedingJoinPoint.java:89)
	at com.quanxiaoha.framework.biz.operationlog.aspect.ApiOperationLogAspect.doAround(ApiOperationLogAspect.java:53)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethodWithGivenArgs(AbstractAspectJAdvice.java:633)
	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethod(AbstractAspectJAdvice.java:623)
	at org.springframework.aop.aspectj.AspectJAroundAdvice.invoke(AspectJAroundAdvice.java:71)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:173)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:752)
	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:97)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:752)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:703)
	at com.quanxiaoha.xiaohashu.auth.controller.UserController$$SpringCGLIB$$0.logout(<generated>)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:207)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:152)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:117)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:884)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:797)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1080)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:973)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1011)
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:914)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:547)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:614)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:223)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:158)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:185)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:158)
	at com.quanxiaoha.framework.biz.context.filter.HeaderUserId2ContextFilter.doFilterInternal(HeaderUserId2ContextFilter.java:33)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:185)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:158)
	at com.alibaba.druid.support.jakarta.WebStatFilter.doFilter(WebStatFilter.java:113)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:185)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:158)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:185)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:158)
	at cn.dev33.satoken.filter.SaPathCheckFilterForJakartaServlet.doFilter(SaPathCheckFilterForJakartaServlet.java:55)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:185)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:158)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:185)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:158)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:185)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:158)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:177)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:97)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:542)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:119)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:357)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:400)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:859)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1734)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.base/java.lang.Thread.run(Thread.java:833)
2025-04-13 15:10:24.575 [http-nio-8080-exec-5] INFO  c.q.f.b.context.filter.HeaderUserId2ContextFilter - ## HeaderUserId2ContextFilter, 用户 ID: null
2025-04-13 15:10:24.582 [http-nio-8080-exec-5] INFO  c.q.f.b.operationlog.aspect.ApiOperationLogAspect - ====== 请求开始: [发送短信验证码], 入参: {"phone":"13782612609"}, 请求类: VerificationCodeController, 请求方法: send =================================== 
2025-04-13 15:10:24.592 [http-nio-8080-exec-5] INFO  c.q.x.a.service.impl.VerificationCodeServiceImpl - ==> 手机号: 13782612609, 已发送验证码：【485994】
2025-04-13 15:10:24.594 [AuthExecutor-2] INFO  com.quanxiaoha.xiaohashu.auth.sms.AliyunSmsHelper - ==> 开始短信发送, phone: 13782612609, signName: 阿里云短信测试, templateCode: SMS_154950909, templateParam: {"code":"485994"}
2025-04-13 15:10:24.598 [http-nio-8080-exec-5] INFO  c.q.f.b.operationlog.aspect.ApiOperationLogAspect - ====== 请求结束: [发送短信验证码], 耗时: 16ms, 出参: {"success":true,"message":null,"errorCode":null,"data":null} =================================== 
2025-04-13 15:10:38.699 [http-nio-8080-exec-6] INFO  c.q.f.b.context.filter.HeaderUserId2ContextFilter - ## HeaderUserId2ContextFilter, 用户 ID: null
2025-04-13 15:10:38.700 [http-nio-8080-exec-6] INFO  c.q.f.b.operationlog.aspect.ApiOperationLogAspect - ====== 请求开始: [用户登录/注册], 入参: {"phone":"13782612609","code":"485994","password":null,"type":1}, 请求类: UserController, 请求方法: loginAndRegister =================================== 
2025-04-13 15:10:38.710 [http-nio-8080-exec-6] DEBUG c.q.x.a.domain.mapper.UserDOMapper.selectByPhone - ==>  Preparing: select id, password from t_user where phone = ?
2025-04-13 15:10:38.711 [http-nio-8080-exec-6] DEBUG c.q.x.a.domain.mapper.UserDOMapper.selectByPhone - ==> Parameters: 13782612609(String)
2025-04-13 15:10:38.712 [http-nio-8080-exec-6] DEBUG c.q.x.a.domain.mapper.UserDOMapper.selectByPhone - <==      Total: 1
2025-04-13 15:10:38.715 [http-nio-8080-exec-6] INFO  c.q.xiaohashu.auth.service.impl.UserServiceImpl - ==> 用户是否注册, phone: 13782612609, userDO: {"id":2,"xiaohashuId":null,"password":"$2a$10$mVKK0Ffq8zp/CKRX2kHD4ujvuEHP3MNUlkMRB.hEUXvaw9nlL5RFS","nickname":null,"avatar":null,"birthday":null,"backgroundImg":null,"phone":null,"sex":null,"status":null,"introduction":null,"createTime":null,"updateTime":null,"isDeleted":null}
2025-04-13 15:10:38.790 [http-nio-8080-exec-6] INFO  c.q.f.b.operationlog.aspect.ApiOperationLogAspect - ====== 请求结束: [用户登录/注册], 耗时: 90ms, 出参: {"success":true,"message":null,"errorCode":null,"data":"o6Dbkw3g3mmwcF2eKZ8iTgajpy7p3E6lPCcZg08gcoi2X3367S7o8lah0L8RZZ2jDjeHmwCWP2YvcUPRWcTDre40loQKWAJoJ94Ukc2TqGPri33jqJDEsqBCEF7DYwrr"} =================================== 
2025-04-13 15:10:47.792 [http-nio-8080-exec-7] INFO  c.q.f.b.context.filter.HeaderUserId2ContextFilter - ## HeaderUserId2ContextFilter, 用户 ID: 2
2025-04-13 15:10:47.792 [http-nio-8080-exec-7] INFO  c.q.f.b.context.filter.HeaderUserId2ContextFilter - ===== 设置 userId 到 ThreadLocal 中， 用户 ID: 2
2025-04-13 15:10:47.792 [http-nio-8080-exec-7] INFO  c.q.f.b.operationlog.aspect.ApiOperationLogAspect - ====== 请求开始: [账号登出], 入参: , 请求类: UserController, 请求方法: logout =================================== 
2025-04-13 15:10:47.792 [http-nio-8080-exec-7] INFO  c.q.xiaohashu.auth.service.impl.UserServiceImpl - ==> 用户退出登录, userId: 2
2025-04-13 15:10:47.793 [AuthExecutor-3] INFO  c.q.xiaohashu.auth.service.impl.UserServiceImpl - ==> 异步线程中获取 userId: 2
2025-04-13 15:10:47.804 [http-nio-8080-exec-7] INFO  c.q.f.b.operationlog.aspect.ApiOperationLogAspect - ====== 请求结束: [账号登出], 耗时: 12ms, 出参: {"success":true,"message":null,"errorCode":null,"data":null} =================================== 
2025-04-13 15:10:47.805 [http-nio-8080-exec-7] INFO  c.q.f.b.context.filter.HeaderUserId2ContextFilter - ===== 删除 ThreadLocal， userId: 2
2025-04-13 15:11:34.456 [http-nio-8080-exec-8] INFO  c.q.f.b.context.filter.HeaderUserId2ContextFilter - ## HeaderUserId2ContextFilter, 用户 ID: null
2025-04-13 15:11:34.458 [http-nio-8080-exec-8] INFO  c.q.f.b.operationlog.aspect.ApiOperationLogAspect - ====== 请求开始: [用户登录/注册], 入参: {"phone":"13782612609","code":"123456","password":null,"type":2}, 请求类: UserController, 请求方法: loginAndRegister =================================== 
2025-04-13 15:11:34.458 [http-nio-8080-exec-8] DEBUG c.q.x.a.domain.mapper.UserDOMapper.selectByPhone - ==>  Preparing: select id, password from t_user where phone = ?
2025-04-13 15:11:34.459 [http-nio-8080-exec-8] DEBUG c.q.x.a.domain.mapper.UserDOMapper.selectByPhone - ==> Parameters: 13782612609(String)
2025-04-13 15:11:34.461 [http-nio-8080-exec-8] DEBUG c.q.x.a.domain.mapper.UserDOMapper.selectByPhone - <==      Total: 1
2025-04-13 15:11:34.462 [http-nio-8080-exec-8] WARN  c.q.x.auth.exception.GlobalExceptionHandler - /user/login request error, errorCode: AUTH-10001, errorMessage: rawPassword cannot be null
2025-04-13 15:12:00.107 [http-nio-8080-exec-9] INFO  c.q.f.b.context.filter.HeaderUserId2ContextFilter - ## HeaderUserId2ContextFilter, 用户 ID: null
2025-04-13 15:12:00.108 [http-nio-8080-exec-9] INFO  c.q.f.b.operationlog.aspect.ApiOperationLogAspect - ====== 请求开始: [用户登录/注册], 入参: {"phone":"13782612609","code":"123456","password":null,"type":2}, 请求类: UserController, 请求方法: loginAndRegister =================================== 
2025-04-13 15:12:00.108 [http-nio-8080-exec-9] DEBUG c.q.x.a.domain.mapper.UserDOMapper.selectByPhone - ==>  Preparing: select id, password from t_user where phone = ?
2025-04-13 15:12:00.109 [http-nio-8080-exec-9] DEBUG c.q.x.a.domain.mapper.UserDOMapper.selectByPhone - ==> Parameters: 13782612609(String)
2025-04-13 15:12:00.110 [http-nio-8080-exec-9] DEBUG c.q.x.a.domain.mapper.UserDOMapper.selectByPhone - <==      Total: 1
2025-04-13 15:12:00.110 [http-nio-8080-exec-9] WARN  c.q.x.auth.exception.GlobalExceptionHandler - /user/login request error, errorCode: AUTH-10001, errorMessage: rawPassword cannot be null
2025-04-13 15:12:07.457 [http-nio-8080-exec-10] INFO  c.q.f.b.context.filter.HeaderUserId2ContextFilter - ## HeaderUserId2ContextFilter, 用户 ID: null
2025-04-13 15:12:07.459 [http-nio-8080-exec-10] INFO  c.q.f.b.operationlog.aspect.ApiOperationLogAspect - ====== 请求开始: [用户登录/注册], 入参: {"phone":"13782612609","code":"123456","password":null,"type":2}, 请求类: UserController, 请求方法: loginAndRegister =================================== 
2025-04-13 15:12:07.459 [http-nio-8080-exec-10] DEBUG c.q.x.a.domain.mapper.UserDOMapper.selectByPhone - ==>  Preparing: select id, password from t_user where phone = ?
2025-04-13 15:12:07.460 [http-nio-8080-exec-10] DEBUG c.q.x.a.domain.mapper.UserDOMapper.selectByPhone - ==> Parameters: 13782612609(String)
2025-04-13 15:12:07.461 [http-nio-8080-exec-10] DEBUG c.q.x.a.domain.mapper.UserDOMapper.selectByPhone - <==      Total: 1
2025-04-13 15:12:07.461 [http-nio-8080-exec-10] WARN  c.q.x.auth.exception.GlobalExceptionHandler - /user/login request error, errorCode: AUTH-10001, errorMessage: rawPassword cannot be null
2025-04-13 15:15:05.225 [http-nio-8080-exec-2] INFO  c.q.f.b.context.filter.HeaderUserId2ContextFilter - ## HeaderUserId2ContextFilter, 用户 ID: null
2025-04-13 15:15:05.227 [http-nio-8080-exec-2] INFO  c.q.f.b.operationlog.aspect.ApiOperationLogAspect - ====== 请求开始: [用户登录/注册], 入参: {"phone":"13782612609","code":"123456","password":null,"type":2}, 请求类: UserController, 请求方法: loginAndRegister =================================== 
2025-04-13 15:15:28.366 [http-nio-8080-exec-2] DEBUG c.q.x.a.domain.mapper.UserDOMapper.selectByPhone - ==>  Preparing: select id, password from t_user where phone = ?
2025-04-13 15:15:28.368 [http-nio-8080-exec-2] DEBUG c.q.x.a.domain.mapper.UserDOMapper.selectByPhone - ==> Parameters: 13782612609(String)
2025-04-13 15:15:28.369 [http-nio-8080-exec-2] DEBUG c.q.x.a.domain.mapper.UserDOMapper.selectByPhone - <==      Total: 1
2025-04-13 15:15:28.370 [http-nio-8080-exec-2] WARN  c.q.x.auth.exception.GlobalExceptionHandler - /user/login request error, errorCode: AUTH-10001, errorMessage: rawPassword cannot be null
2025-04-13 15:15:30.312 [http-nio-8080-exec-3] INFO  c.q.f.b.context.filter.HeaderUserId2ContextFilter - ## HeaderUserId2ContextFilter, 用户 ID: null
2025-04-13 15:15:30.315 [http-nio-8080-exec-3] INFO  c.q.f.b.operationlog.aspect.ApiOperationLogAspect - ====== 请求开始: [用户登录/注册], 入参: {"phone":"13782612609","code":null,"password":"123456","type":2}, 请求类: UserController, 请求方法: loginAndRegister =================================== 
2025-04-13 15:15:32.887 [http-nio-8080-exec-3] DEBUG c.q.x.a.domain.mapper.UserDOMapper.selectByPhone - ==>  Preparing: select id, password from t_user where phone = ?
2025-04-13 15:15:32.889 [http-nio-8080-exec-3] DEBUG c.q.x.a.domain.mapper.UserDOMapper.selectByPhone - ==> Parameters: 13782612609(String)
2025-04-13 15:15:32.891 [http-nio-8080-exec-3] DEBUG c.q.x.a.domain.mapper.UserDOMapper.selectByPhone - <==      Total: 1
2025-04-13 15:15:33.016 [http-nio-8080-exec-3] INFO  c.q.f.b.operationlog.aspect.ApiOperationLogAspect - ====== 请求结束: [用户登录/注册], 耗时: 2701ms, 出参: {"success":true,"message":null,"errorCode":null,"data":"gqfOVzoRhF8ip69aS4jv1UmSiRPQ49rJ3SM2WtIcbItWSycyNeh8Iji7guRxXmeNcWeZSGtyYkMgq8MUVktJwYKuPUAMq5AljIQcNOTxoRelJZTN7KY9M430Eh41kLxQ"} =================================== 
2025-04-13 17:21:36.135 [http-nio-8080-exec-5] INFO  c.q.f.b.context.filter.HeaderUserId2ContextFilter - ## HeaderUserId2ContextFilter, 用户 ID: null
2025-04-13 17:21:36.158 [http-nio-8080-exec-5] INFO  c.q.f.b.operationlog.aspect.ApiOperationLogAspect - ====== 请求开始: [发送短信验证码], 入参: {"phone":"13782612609"}, 请求类: VerificationCodeController, 请求方法: send =================================== 
2025-04-13 17:21:36.188 [http-nio-8080-exec-5] INFO  c.q.x.a.service.impl.VerificationCodeServiceImpl - ==> 手机号: 13782612609, 已发送验证码：【530014】
2025-04-13 17:21:36.189 [AuthExecutor-4] INFO  com.quanxiaoha.xiaohashu.auth.sms.AliyunSmsHelper - ==> 开始短信发送, phone: 13782612609, signName: 阿里云短信测试, templateCode: SMS_154950909, templateParam: {"code":"530014"}
2025-04-13 17:21:36.196 [http-nio-8080-exec-5] INFO  c.q.f.b.operationlog.aspect.ApiOperationLogAspect - ====== 请求结束: [发送短信验证码], 耗时: 39ms, 出参: {"success":true,"message":null,"errorCode":null,"data":null} =================================== 
2025-04-13 20:16:34.757 [Thread-2] WARN  c.alibaba.nacos.common.http.HttpClientBeanHolder - [HttpClientBeanHolder] Start destroying common HttpClient
2025-04-13 20:16:34.757 [Thread-9] WARN  com.alibaba.nacos.common.notify.NotifyCenter - [NotifyCenter] Start destroying Publisher
2025-04-13 20:16:34.767 [Thread-9] WARN  com.alibaba.nacos.common.notify.NotifyCenter - [NotifyCenter] Destruction of the end
2025-04-13 20:16:34.783 [Thread-2] WARN  c.alibaba.nacos.common.http.HttpClientBeanHolder - [HttpClientBeanHolder] Destruction of the end
2025-04-13 20:16:35.114 [SpringApplicationShutdownHook] INFO  c.a.cloud.nacos.registry.NacosServiceRegistry - De-registering from Nacos Server now...
2025-04-13 20:16:35.116 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - [DEREGISTER-SERVICE] xiaohashu deregistering service xiaohashu-auth with instance: Instance{instanceId='null', ip='172.20.10.3', port=8080, weight=1.0, healthy=true, enabled=true, ephemeral=true, clusterName='DEFAULT', serviceName='null', metadata={}}
2025-04-13 20:16:35.125 [SpringApplicationShutdownHook] INFO  c.a.cloud.nacos.registry.NacosServiceRegistry - De-registration finished.
2025-04-13 20:16:35.127 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.cache.ServiceInfoHolder do shutdown begin
2025-04-13 20:16:35.127 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.backups.FailoverReactor do shutdown begin
2025-04-13 20:16:35.127 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.backups.FailoverReactor do shutdown stop
2025-04-13 20:16:35.127 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.cache.ServiceInfoHolder do shutdown stop
2025-04-13 20:16:35.128 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.remote.NamingClientProxyDelegate do shutdown begin
2025-04-13 20:16:35.128 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.core.ServiceInfoUpdateService do shutdown begin
2025-04-13 20:16:35.128 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.core.ServiceInfoUpdateService do shutdown stop
2025-04-13 20:16:35.128 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.core.ServerListManager do shutdown begin
2025-04-13 20:16:35.128 [SpringApplicationShutdownHook] WARN  com.alibaba.nacos.client.naming - [NamingHttpClientManager] Start destroying NacosRestTemplate
2025-04-13 20:16:35.129 [SpringApplicationShutdownHook] WARN  com.alibaba.nacos.client.naming - [NamingHttpClientManager] Destruction of the end
2025-04-13 20:16:35.130 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.core.ServerListManager do shutdown stop
2025-04-13 20:16:35.130 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.remote.http.NamingHttpClientProxy do shutdown begin
2025-04-13 20:16:35.130 [SpringApplicationShutdownHook] WARN  com.alibaba.nacos.client.naming - [NamingHttpClientManager] Start destroying NacosRestTemplate
2025-04-13 20:16:35.130 [SpringApplicationShutdownHook] WARN  com.alibaba.nacos.client.naming - [NamingHttpClientManager] Destruction of the end
2025-04-13 20:16:35.130 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.remote.http.NamingHttpClientProxy do shutdown stop
2025-04-13 20:16:35.130 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.common.remote.client - Shutdown rpc client, set status to shutdown
2025-04-13 20:16:35.131 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.common.remote.client - Shutdown client event executor java.util.concurrent.ScheduledThreadPoolExecutor@85e2d09[Running, pool size = 2, active threads = 2, queued tasks = 0, completed tasks = 0]
2025-04-13 20:16:35.131 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.common.remote.client - Close current connection 1744528059554_127.0.0.1_57946
2025-04-13 20:16:35.136 [nacos-grpc-client-executor-127.0.0.1-3730] INFO  c.a.nacos.common.remote.client.grpc.GrpcClient - [1744528059554_127.0.0.1_57946]Ignore complete event,isRunning:false,isAbandon=false
2025-04-13 20:16:35.153 [SpringApplicationShutdownHook] INFO  c.a.nacos.common.remote.client.grpc.GrpcClient - Shutdown grpc executor java.util.concurrent.ThreadPoolExecutor@316c7a26[Running, pool size = 4, active threads = 0, queued tasks = 0, completed tasks = 3731]
2025-04-13 20:16:35.153 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - Shutdown grpc redo service executor java.util.concurrent.ScheduledThreadPoolExecutor@2c449514[Running, pool size = 1, active threads = 0, queued tasks = 1, completed tasks = 6154]
2025-04-13 20:16:35.154 [SpringApplicationShutdownHook] INFO  c.a.n.client.auth.ram.identify.CredentialWatcher - [null] CredentialWatcher is stopped
2025-04-13 20:16:35.154 [SpringApplicationShutdownHook] INFO  c.a.n.client.auth.ram.identify.CredentialService - [null] CredentialService is freed
2025-04-13 20:16:35.155 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.remote.NamingClientProxyDelegate do shutdown stop
2025-04-13 20:16:35.351 [SpringApplicationShutdownHook] INFO  com.alibaba.druid.pool.DruidDataSource - {dataSource-1} closing ...
2025-04-13 20:16:35.356 [SpringApplicationShutdownHook] INFO  com.alibaba.druid.pool.DruidDataSource - {dataSource-1} closed
2025-04-13 20:16:43.709 [main] WARN  com.alibaba.nacos.client.logging.NacosLogging - Load Logback Configuration of Nacos fail, message: Could not initialize Logback Nacos logging from classpath:nacos-logback.xml
2025-04-13 20:16:43.814 [main] WARN  com.alibaba.nacos.client.logging.NacosLogging - Load Logback Configuration of Nacos fail, message: Could not initialize Logback Nacos logging from classpath:nacos-logback.xml
2025-04-13 20:16:44.101 [main] WARN  com.alibaba.nacos.client.logging.NacosLogging - Load Logback Configuration of Nacos fail, message: Could not initialize Logback Nacos logging from classpath:nacos-logback.xml
2025-04-13 20:16:44.103 [main] INFO  com.alibaba.nacos.client.utils.ParamUtil - [settings] [req-serv] nacos-server port:8848
2025-04-13 20:16:44.103 [main] INFO  com.alibaba.nacos.client.utils.ParamUtil - [settings] [http-client] connect timeout:1000
2025-04-13 20:16:44.104 [main] INFO  com.alibaba.nacos.client.utils.ParamUtil - PER_TASK_CONFIG_SIZE: 3000.0
2025-04-13 20:16:44.149 [main] INFO  c.a.n.p.auth.spi.client.ClientAuthPluginManager - [ClientAuthPluginManager] Load ClientAuthService com.alibaba.nacos.client.auth.impl.NacosClientAuthServiceImpl success.
2025-04-13 20:16:44.149 [main] INFO  c.a.n.p.auth.spi.client.ClientAuthPluginManager - [ClientAuthPluginManager] Load ClientAuthService com.alibaba.nacos.client.auth.ram.RamClientAuthServiceImpl success.
2025-04-13 20:16:44.156 [main] INFO  c.a.n.client.auth.ram.identify.CredentialWatcher - null No credential found
2025-04-13 20:16:45.648 [main] WARN  com.alibaba.nacos.client.logging.NacosLogging - Load Logback Configuration of Nacos fail, message: Could not initialize Logback Nacos logging from classpath:nacos-logback.xml
2025-04-13 20:16:45.670 [main] INFO  c.a.n.client.config.impl.LocalConfigInfoProcessor - LOCAL_SNAPSHOT_PATH:C:\Users\58214\nacos\config
2025-04-13 20:16:45.674 [main] INFO  com.alibaba.nacos.common.remote.client - [RpcClientFactory] create a new rpc client of a35a0236-096b-4015-a0f8-f1df35e4ac13_config-0
2025-04-13 20:16:45.705 [main] INFO  com.alibaba.nacos.common.remote.client - [a35a0236-096b-4015-a0f8-f1df35e4ac13_config-0] Register server push request handler:com.alibaba.nacos.client.config.impl.ClientWorker$ConfigRpcTransportClient$$Lambda$588/0x0000000800f90000
2025-04-13 20:16:45.705 [main] INFO  com.alibaba.nacos.common.remote.client - [a35a0236-096b-4015-a0f8-f1df35e4ac13_config-0] Register server push request handler:com.alibaba.nacos.client.config.impl.ClientWorker$ConfigRpcTransportClient$$Lambda$589/0x0000000800f90420
2025-04-13 20:16:45.706 [main] INFO  com.alibaba.nacos.common.remote.client - [a35a0236-096b-4015-a0f8-f1df35e4ac13_config-0] Registry connection listener to current client:com.alibaba.nacos.client.config.impl.ClientWorker$ConfigRpcTransportClient$1
2025-04-13 20:16:45.706 [main] INFO  com.alibaba.nacos.common.remote.client - [a35a0236-096b-4015-a0f8-f1df35e4ac13_config-0] RpcClient init, ServerListFactory = com.alibaba.nacos.client.config.impl.ClientWorker$ConfigRpcTransportClient$2
2025-04-13 20:16:45.716 [main] INFO  com.alibaba.nacos.common.remote.client - [a35a0236-096b-4015-a0f8-f1df35e4ac13_config-0] Try to connect to server on start up, server: {serverIp = '127.0.0.1', server main port = 8848}
2025-04-13 20:16:45.776 [main] INFO  c.a.nacos.common.remote.client.grpc.GrpcClient - grpc client connection server:127.0.0.1 ip,serverPort:9848,grpcTslConfig:{"sslProvider":"OPENSSL","enableTls":false,"mutualAuthEnable":false,"trustAll":false}
2025-04-13 20:16:46.711 [main] INFO  com.alibaba.nacos.common.remote.client - [a35a0236-096b-4015-a0f8-f1df35e4ac13_config-0] Success to connect to server [127.0.0.1:8848] on start up, connectionId = 1744546606500_127.0.0.1_58435
2025-04-13 20:16:46.712 [com.alibaba.nacos.client.remote.worker] INFO  com.alibaba.nacos.common.remote.client - [a35a0236-096b-4015-a0f8-f1df35e4ac13_config-0] Notify connected event to listeners.
2025-04-13 20:16:46.712 [com.alibaba.nacos.client.remote.worker] INFO  com.alibaba.nacos.client.config.impl.ClientWorker - [a35a0236-096b-4015-a0f8-f1df35e4ac13_config-0] Connected,notify listen context...
2025-04-13 20:16:46.712 [main] INFO  com.alibaba.nacos.common.remote.client - [a35a0236-096b-4015-a0f8-f1df35e4ac13_config-0] Register server push request handler:com.alibaba.nacos.common.remote.client.RpcClient$ConnectResetRequestHandler
2025-04-13 20:16:46.713 [main] INFO  com.alibaba.nacos.common.remote.client - [a35a0236-096b-4015-a0f8-f1df35e4ac13_config-0] Register server push request handler:com.alibaba.nacos.common.remote.client.RpcClient$$Lambda$609/0x00000008010d8890
2025-04-13 20:16:46.790 [main] INFO  com.alibaba.nacos.client.config.impl.Limiter - limitTime:5.0
2025-04-13 20:16:46.903 [main] INFO  com.alibaba.nacos.client.config.utils.JvmUtil - isMultiInstance:false
2025-04-13 20:16:46.917 [main] WARN  c.a.cloud.nacos.client.NacosPropertySourceBuilder - Ignore the empty nacos configuration and get it based on dataId[xiaohashu-auth.yaml] & group[DEFAULT_GROUP]
2025-04-13 20:16:46.926 [main] INFO  o.s.c.b.c.PropertySourceBootstrapConfiguration - Located property source: [BootstrapPropertySource {name='bootstrapProperties-xiaohashu-auth-dev.yaml,DEFAULT_GROUP'}, BootstrapPropertySource {name='bootstrapProperties-xiaohashu-auth.yaml,DEFAULT_GROUP'}, BootstrapPropertySource {name='bootstrapProperties-xiaohashu-auth,DEFAULT_GROUP'}]
2025-04-13 20:16:46.951 [main] WARN  com.alibaba.nacos.client.logging.NacosLogging - Load Logback Configuration of Nacos fail, message: Could not initialize Logback Nacos logging from classpath:nacos-logback.xml
2025-04-13 20:16:46.951 [main] INFO  c.q.xiaohashu.auth.XiaohashuAuthApplication - The following 1 profile is active: "dev"
2025-04-13 20:16:48.316 [main] INFO  o.s.d.r.config.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-04-13 20:16:48.319 [main] INFO  o.s.d.r.config.RepositoryConfigurationDelegate - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2025-04-13 20:16:48.341 [main] INFO  o.s.d.r.config.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 8 ms. Found 0 Redis repository interfaces.
2025-04-13 20:16:48.601 [main] INFO  o.springframework.cloud.context.scope.GenericScope - BeanFactory id=8629c41b-2d0a-3e2d-a1fb-df78d6cc8b65
2025-04-13 20:16:49.260 [main] INFO  o.s.boot.web.embedded.tomcat.TomcatWebServer - Tomcat initialized with port(s): 8080 (http)
2025-04-13 20:16:49.272 [main] INFO  org.apache.catalina.core.StandardService - Starting service [Tomcat]
2025-04-13 20:16:49.273 [main] INFO  org.apache.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.5]
2025-04-13 20:16:49.355 [main] INFO  o.a.c.core.ContainerBase.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-04-13 20:16:49.355 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 2390 ms
2025-04-13 20:16:49.538 [main] INFO  c.a.d.s.b.a.DruidDataSourceAutoConfigure - Init DruidDataSource
2025-04-13 20:16:49.930 [main] INFO  com.alibaba.druid.pool.DruidDataSource - {dataSource-1} inited
2025-04-13 20:16:52.550 [main] INFO  org.springframework.cloud.commons.util.InetUtils - Cannot determine local hostname
2025-04-13 20:17:05.877 [main] INFO  org.springframework.cloud.commons.util.InetUtils - Cannot determine local hostname
2025-04-13 20:17:05.969 [main] INFO  o.s.boot.web.embedded.tomcat.TomcatWebServer - Tomcat started on port(s): 8080 (http) with context path ''
2025-04-13 20:17:05.973 [main] INFO  com.alibaba.nacos.client.naming - initializer namespace from ans.namespace attribute : null
2025-04-13 20:17:05.973 [main] INFO  com.alibaba.nacos.client.naming - initializer namespace from ALIBABA_ALIWARE_NAMESPACE attribute :null
2025-04-13 20:17:05.974 [main] INFO  com.alibaba.nacos.client.naming - initializer namespace from namespace attribute :null
2025-04-13 20:17:05.982 [main] INFO  c.a.n.p.auth.spi.client.ClientAuthPluginManager - [ClientAuthPluginManager] Load ClientAuthService com.alibaba.nacos.client.auth.impl.NacosClientAuthServiceImpl success.
2025-04-13 20:17:05.983 [main] INFO  c.a.n.p.auth.spi.client.ClientAuthPluginManager - [ClientAuthPluginManager] Load ClientAuthService com.alibaba.nacos.client.auth.ram.RamClientAuthServiceImpl success.
2025-04-13 20:17:05.987 [main] INFO  com.alibaba.nacos.common.remote.client - [RpcClientFactory] create a new rpc client of be388171-b11a-4a3b-a397-7af60e54e7a6
2025-04-13 20:17:05.989 [main] INFO  com.alibaba.nacos.common.remote.client - [be388171-b11a-4a3b-a397-7af60e54e7a6] RpcClient init, ServerListFactory = com.alibaba.nacos.client.naming.core.ServerListManager
2025-04-13 20:17:05.989 [main] INFO  com.alibaba.nacos.common.remote.client - [be388171-b11a-4a3b-a397-7af60e54e7a6] Registry connection listener to current client:com.alibaba.nacos.client.naming.remote.gprc.redo.NamingGrpcRedoService
2025-04-13 20:17:05.989 [main] INFO  com.alibaba.nacos.common.remote.client - [be388171-b11a-4a3b-a397-7af60e54e7a6] Register server push request handler:com.alibaba.nacos.client.naming.remote.gprc.NamingPushRequestHandler
2025-04-13 20:17:05.990 [main] INFO  com.alibaba.nacos.common.remote.client - [be388171-b11a-4a3b-a397-7af60e54e7a6] Try to connect to server on start up, server: {serverIp = '127.0.0.1', server main port = 8848}
2025-04-13 20:17:05.990 [main] INFO  c.a.nacos.common.remote.client.grpc.GrpcClient - grpc client connection server:127.0.0.1 ip,serverPort:9848,grpcTslConfig:{"sslProvider":"OPENSSL","enableTls":false,"mutualAuthEnable":false,"trustAll":false}
2025-04-13 20:17:06.108 [main] INFO  com.alibaba.nacos.common.remote.client - [be388171-b11a-4a3b-a397-7af60e54e7a6] Success to connect to server [127.0.0.1:8848] on start up, connectionId = 1744546625995_127.0.0.1_58446
2025-04-13 20:17:06.108 [main] INFO  com.alibaba.nacos.common.remote.client - [be388171-b11a-4a3b-a397-7af60e54e7a6] Register server push request handler:com.alibaba.nacos.common.remote.client.RpcClient$ConnectResetRequestHandler
2025-04-13 20:17:06.108 [com.alibaba.nacos.client.remote.worker] INFO  com.alibaba.nacos.common.remote.client - [be388171-b11a-4a3b-a397-7af60e54e7a6] Notify connected event to listeners.
2025-04-13 20:17:06.108 [main] INFO  com.alibaba.nacos.common.remote.client - [be388171-b11a-4a3b-a397-7af60e54e7a6] Register server push request handler:com.alibaba.nacos.common.remote.client.RpcClient$$Lambda$609/0x00000008010d8890
2025-04-13 20:17:06.108 [com.alibaba.nacos.client.remote.worker] INFO  com.alibaba.nacos.client.naming - Grpc connection connect
2025-04-13 20:17:06.109 [main] INFO  com.alibaba.nacos.client.naming - [REGISTER-SERVICE] xiaohashu registering service xiaohashu-auth with instance Instance{instanceId='null', ip='172.20.10.3', port=8080, weight=1.0, healthy=true, enabled=true, ephemeral=true, clusterName='DEFAULT', serviceName='null', metadata={IPv6=[240e:441:2516:959a:c0dc:56e:7e2:d051], preserved.register.source=SPRING_CLOUD}}
2025-04-13 20:17:06.121 [main] INFO  c.a.cloud.nacos.registry.NacosServiceRegistry - nacos registry, DEFAULT_GROUP xiaohashu-auth 172.20.10.3:8080 register finished
2025-04-13 20:17:07.254 [main] INFO  org.springframework.cloud.commons.util.InetUtils - Cannot determine local hostname
2025-04-13 20:17:07.278 [main] INFO  c.q.xiaohashu.auth.XiaohashuAuthApplication - Started XiaohashuAuthApplication in 25.72 seconds (process running for 26.748)
2025-04-13 20:17:07.280 [main] INFO  c.q.x.auth.runner.PushRolePermissions2RedisRunner - ==> 服务启动，开始同步角色权限数据到 Redis 中...
2025-04-13 20:17:07.904 [main] WARN  c.q.x.auth.runner.PushRolePermissions2RedisRunner - ==> 角色权限数据已经同步至 Redis 中，不再同步...
2025-04-13 20:17:07.907 [main] INFO  com.alibaba.nacos.client.config.impl.CacheData - nacos.cache.data.init.snapshot = true 
2025-04-13 20:17:07.907 [main] INFO  com.alibaba.nacos.client.config.impl.ClientWorker - [fixed-xiaohashu-127.0.0.1_8848] [subscribe] xiaohashu-auth.yaml+DEFAULT_GROUP+xiaohashu
2025-04-13 20:17:07.945 [main] INFO  com.alibaba.nacos.client.config.impl.CacheData - [fixed-xiaohashu-127.0.0.1_8848] [add-listener] ok, tenant=xiaohashu, dataId=xiaohashu-auth.yaml, group=DEFAULT_GROUP, cnt=1
2025-04-13 20:17:07.945 [main] INFO  c.a.cloud.nacos.refresh.NacosContextRefresher - [Nacos Config] Listening config: dataId=xiaohashu-auth.yaml, group=DEFAULT_GROUP
2025-04-13 20:17:07.953 [main] INFO  com.alibaba.nacos.client.config.impl.ClientWorker - [fixed-xiaohashu-127.0.0.1_8848] [subscribe] xiaohashu-auth-dev.yaml+DEFAULT_GROUP+xiaohashu
2025-04-13 20:17:07.953 [main] INFO  com.alibaba.nacos.client.config.impl.CacheData - [fixed-xiaohashu-127.0.0.1_8848] [add-listener] ok, tenant=xiaohashu, dataId=xiaohashu-auth-dev.yaml, group=DEFAULT_GROUP, cnt=1
2025-04-13 20:17:07.953 [main] INFO  c.a.cloud.nacos.refresh.NacosContextRefresher - [Nacos Config] Listening config: dataId=xiaohashu-auth-dev.yaml, group=DEFAULT_GROUP
2025-04-13 20:17:07.962 [main] INFO  com.alibaba.nacos.client.config.impl.ClientWorker - [fixed-xiaohashu-127.0.0.1_8848] [subscribe] xiaohashu-auth+DEFAULT_GROUP+xiaohashu
2025-04-13 20:17:07.962 [main] INFO  com.alibaba.nacos.client.config.impl.CacheData - [fixed-xiaohashu-127.0.0.1_8848] [add-listener] ok, tenant=xiaohashu, dataId=xiaohashu-auth, group=DEFAULT_GROUP, cnt=1
2025-04-13 20:17:07.962 [main] INFO  c.a.cloud.nacos.refresh.NacosContextRefresher - [Nacos Config] Listening config: dataId=xiaohashu-auth, group=DEFAULT_GROUP
2025-04-13 20:19:32.007 [http-nio-8080-exec-1] INFO  o.a.c.core.ContainerBase.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-04-13 20:19:32.008 [http-nio-8080-exec-1] INFO  org.springframework.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2025-04-13 20:19:32.010 [http-nio-8080-exec-1] INFO  org.springframework.web.servlet.DispatcherServlet - Completed initialization in 2 ms
2025-04-13 20:19:32.030 [http-nio-8080-exec-1] INFO  c.q.f.b.context.filter.HeaderUserId2ContextFilter - ## HeaderUserId2ContextFilter, 用户 ID: null
2025-04-13 20:19:32.339 [http-nio-8080-exec-1] INFO  c.q.f.b.operationlog.aspect.ApiOperationLogAspect - ====== 请求开始: [发送短信验证码], 入参: {"phone":"13782612609"}, 请求类: VerificationCodeController, 请求方法: send =================================== 
2025-04-13 20:19:32.410 [http-nio-8080-exec-1] INFO  c.q.x.a.service.impl.VerificationCodeServiceImpl - ==> 手机号: 13782612609, 已发送验证码：【165699】
2025-04-13 20:19:32.413 [AuthExecutor-1] INFO  com.quanxiaoha.xiaohashu.auth.sms.AliyunSmsHelper - ==> 开始短信发送, phone: 13782612609, signName: 阿里云短信测试, templateCode: SMS_154950909, templateParam: {"code":"165699"}
2025-04-13 20:19:32.438 [http-nio-8080-exec-1] INFO  c.q.f.b.operationlog.aspect.ApiOperationLogAspect - ====== 请求结束: [发送短信验证码], 耗时: 100ms, 出参: {"success":true,"message":null,"errorCode":null,"data":null} =================================== 
2025-04-13 20:20:11.936 [http-nio-8080-exec-2] INFO  c.q.f.b.context.filter.HeaderUserId2ContextFilter - ## HeaderUserId2ContextFilter, 用户 ID: null
2025-04-13 20:20:11.948 [http-nio-8080-exec-2] INFO  c.q.f.b.operationlog.aspect.ApiOperationLogAspect - ====== 请求开始: [用户登录/注册], 入参: {"phone":"13782612609","code":null,"password":"123456","type":2}, 请求类: UserController, 请求方法: loginAndRegister =================================== 
2025-04-13 20:20:12.023 [http-nio-8080-exec-2] DEBUG c.q.x.a.domain.mapper.UserDOMapper.selectByPhone - ==>  Preparing: select id, password from t_user where phone = ?
2025-04-13 20:20:12.479 [http-nio-8080-exec-2] DEBUG c.q.x.a.domain.mapper.UserDOMapper.selectByPhone - ==> Parameters: 13782612609(String)
2025-04-13 20:20:12.516 [http-nio-8080-exec-2] DEBUG c.q.x.a.domain.mapper.UserDOMapper.selectByPhone - <==      Total: 1
2025-04-13 20:20:12.742 [http-nio-8080-exec-2] INFO  c.q.f.b.operationlog.aspect.ApiOperationLogAspect - ====== 请求结束: [用户登录/注册], 耗时: 794ms, 出参: {"success":true,"message":null,"errorCode":null,"data":"gqfOVzoRhF8ip69aS4jv1UmSiRPQ49rJ3SM2WtIcbItWSycyNeh8Iji7guRxXmeNcWeZSGtyYkMgq8MUVktJwYKuPUAMq5AljIQcNOTxoRelJZTN7KY9M430Eh41kLxQ"} =================================== 
2025-04-13 21:21:30.706 [Thread-2] WARN  c.alibaba.nacos.common.http.HttpClientBeanHolder - [HttpClientBeanHolder] Start destroying common HttpClient
2025-04-13 21:21:30.706 [Thread-9] WARN  com.alibaba.nacos.common.notify.NotifyCenter - [NotifyCenter] Start destroying Publisher
2025-04-13 21:21:30.709 [Thread-9] WARN  com.alibaba.nacos.common.notify.NotifyCenter - [NotifyCenter] Destruction of the end
2025-04-13 21:21:30.720 [Thread-2] WARN  c.alibaba.nacos.common.http.HttpClientBeanHolder - [HttpClientBeanHolder] Destruction of the end
2025-04-13 21:21:30.864 [SpringApplicationShutdownHook] INFO  c.a.cloud.nacos.registry.NacosServiceRegistry - De-registering from Nacos Server now...
2025-04-13 21:21:30.865 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - [DEREGISTER-SERVICE] xiaohashu deregistering service xiaohashu-auth with instance: Instance{instanceId='null', ip='172.20.10.3', port=8080, weight=1.0, healthy=true, enabled=true, ephemeral=true, clusterName='DEFAULT', serviceName='null', metadata={}}
2025-04-13 21:21:30.870 [SpringApplicationShutdownHook] INFO  c.a.cloud.nacos.registry.NacosServiceRegistry - De-registration finished.
2025-04-13 21:21:30.870 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.cache.ServiceInfoHolder do shutdown begin
2025-04-13 21:21:30.871 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.backups.FailoverReactor do shutdown begin
2025-04-13 21:21:30.871 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.backups.FailoverReactor do shutdown stop
2025-04-13 21:21:30.871 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.cache.ServiceInfoHolder do shutdown stop
2025-04-13 21:21:30.871 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.remote.NamingClientProxyDelegate do shutdown begin
2025-04-13 21:21:30.871 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.core.ServiceInfoUpdateService do shutdown begin
2025-04-13 21:21:30.871 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.core.ServiceInfoUpdateService do shutdown stop
2025-04-13 21:21:30.871 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.core.ServerListManager do shutdown begin
2025-04-13 21:21:30.871 [SpringApplicationShutdownHook] WARN  com.alibaba.nacos.client.naming - [NamingHttpClientManager] Start destroying NacosRestTemplate
2025-04-13 21:21:30.872 [SpringApplicationShutdownHook] WARN  com.alibaba.nacos.client.naming - [NamingHttpClientManager] Destruction of the end
2025-04-13 21:21:30.872 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.core.ServerListManager do shutdown stop
2025-04-13 21:21:30.872 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.remote.http.NamingHttpClientProxy do shutdown begin
2025-04-13 21:21:30.872 [SpringApplicationShutdownHook] WARN  com.alibaba.nacos.client.naming - [NamingHttpClientManager] Start destroying NacosRestTemplate
2025-04-13 21:21:30.872 [SpringApplicationShutdownHook] WARN  com.alibaba.nacos.client.naming - [NamingHttpClientManager] Destruction of the end
2025-04-13 21:21:30.872 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.remote.http.NamingHttpClientProxy do shutdown stop
2025-04-13 21:21:30.872 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.common.remote.client - Shutdown rpc client, set status to shutdown
2025-04-13 21:21:30.873 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.common.remote.client - Shutdown client event executor java.util.concurrent.ScheduledThreadPoolExecutor@64b2953a[Running, pool size = 2, active threads = 2, queued tasks = 0, completed tasks = 0]
2025-04-13 21:21:30.873 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.common.remote.client - Close current connection 1744546625995_127.0.0.1_58446
2025-04-13 21:21:30.888 [nacos-grpc-client-executor-127.0.0.1-784] INFO  c.a.nacos.common.remote.client.grpc.GrpcClient - [1744546625995_127.0.0.1_58446]Ignore complete event,isRunning:false,isAbandon=false
2025-04-13 21:21:30.936 [SpringApplicationShutdownHook] INFO  c.a.nacos.common.remote.client.grpc.GrpcClient - Shutdown grpc executor java.util.concurrent.ThreadPoolExecutor@466d2276[Running, pool size = 4, active threads = 0, queued tasks = 0, completed tasks = 785]
2025-04-13 21:21:30.936 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - Shutdown grpc redo service executor java.util.concurrent.ScheduledThreadPoolExecutor@a4eb5ae[Running, pool size = 1, active threads = 0, queued tasks = 1, completed tasks = 1285]
2025-04-13 21:21:30.937 [SpringApplicationShutdownHook] INFO  c.a.n.client.auth.ram.identify.CredentialWatcher - [null] CredentialWatcher is stopped
2025-04-13 21:21:30.937 [SpringApplicationShutdownHook] INFO  c.a.n.client.auth.ram.identify.CredentialService - [null] CredentialService is freed
2025-04-13 21:21:30.937 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.remote.NamingClientProxyDelegate do shutdown stop
2025-04-13 21:21:31.081 [SpringApplicationShutdownHook] INFO  com.alibaba.druid.pool.DruidDataSource - {dataSource-1} closing ...
2025-04-13 21:21:31.083 [SpringApplicationShutdownHook] INFO  com.alibaba.druid.pool.DruidDataSource - {dataSource-1} closed
2025-04-13 21:21:47.976 [main] WARN  com.alibaba.nacos.client.logging.NacosLogging - Load Logback Configuration of Nacos fail, message: Could not initialize Logback Nacos logging from classpath:nacos-logback.xml
2025-04-13 21:21:48.086 [main] WARN  com.alibaba.nacos.client.logging.NacosLogging - Load Logback Configuration of Nacos fail, message: Could not initialize Logback Nacos logging from classpath:nacos-logback.xml
2025-04-13 21:21:48.425 [main] WARN  com.alibaba.nacos.client.logging.NacosLogging - Load Logback Configuration of Nacos fail, message: Could not initialize Logback Nacos logging from classpath:nacos-logback.xml
2025-04-13 21:21:48.428 [main] INFO  com.alibaba.nacos.client.utils.ParamUtil - [settings] [req-serv] nacos-server port:8848
2025-04-13 21:21:48.428 [main] INFO  com.alibaba.nacos.client.utils.ParamUtil - [settings] [http-client] connect timeout:1000
2025-04-13 21:21:48.430 [main] INFO  com.alibaba.nacos.client.utils.ParamUtil - PER_TASK_CONFIG_SIZE: 3000.0
2025-04-13 21:21:48.566 [main] INFO  c.a.n.p.auth.spi.client.ClientAuthPluginManager - [ClientAuthPluginManager] Load ClientAuthService com.alibaba.nacos.client.auth.impl.NacosClientAuthServiceImpl success.
2025-04-13 21:21:48.567 [main] INFO  c.a.n.p.auth.spi.client.ClientAuthPluginManager - [ClientAuthPluginManager] Load ClientAuthService com.alibaba.nacos.client.auth.ram.RamClientAuthServiceImpl success.
2025-04-13 21:21:48.574 [main] INFO  c.a.n.client.auth.ram.identify.CredentialWatcher - null No credential found
2025-04-13 21:21:49.311 [main] WARN  com.alibaba.nacos.client.logging.NacosLogging - Load Logback Configuration of Nacos fail, message: Could not initialize Logback Nacos logging from classpath:nacos-logback.xml
2025-04-13 21:21:49.440 [main] INFO  c.a.n.client.config.impl.LocalConfigInfoProcessor - LOCAL_SNAPSHOT_PATH:C:\Users\58214\nacos\config
2025-04-13 21:21:49.448 [main] INFO  com.alibaba.nacos.common.remote.client - [RpcClientFactory] create a new rpc client of 71437cba-dee4-4dde-a5cc-0d4076210431_config-0
2025-04-13 21:21:49.650 [main] INFO  com.alibaba.nacos.common.remote.client - [71437cba-dee4-4dde-a5cc-0d4076210431_config-0] Register server push request handler:com.alibaba.nacos.client.config.impl.ClientWorker$ConfigRpcTransportClient$$Lambda$576/0x0000000800f68a90
2025-04-13 21:21:49.650 [main] INFO  com.alibaba.nacos.common.remote.client - [71437cba-dee4-4dde-a5cc-0d4076210431_config-0] Register server push request handler:com.alibaba.nacos.client.config.impl.ClientWorker$ConfigRpcTransportClient$$Lambda$577/0x0000000800f68eb0
2025-04-13 21:21:49.667 [main] INFO  com.alibaba.nacos.common.remote.client - [71437cba-dee4-4dde-a5cc-0d4076210431_config-0] Registry connection listener to current client:com.alibaba.nacos.client.config.impl.ClientWorker$ConfigRpcTransportClient$1
2025-04-13 21:21:49.669 [main] INFO  com.alibaba.nacos.common.remote.client - [71437cba-dee4-4dde-a5cc-0d4076210431_config-0] RpcClient init, ServerListFactory = com.alibaba.nacos.client.config.impl.ClientWorker$ConfigRpcTransportClient$2
2025-04-13 21:21:49.806 [main] INFO  com.alibaba.nacos.common.remote.client - [71437cba-dee4-4dde-a5cc-0d4076210431_config-0] Try to connect to server on start up, server: {serverIp = '127.0.0.1', server main port = 8848}
2025-04-13 21:21:50.020 [main] INFO  c.a.nacos.common.remote.client.grpc.GrpcClient - grpc client connection server:127.0.0.1 ip,serverPort:9848,grpcTslConfig:{"sslProvider":"OPENSSL","enableTls":false,"mutualAuthEnable":false,"trustAll":false}
2025-04-13 21:21:53.172 [main] INFO  com.alibaba.nacos.common.remote.client - [71437cba-dee4-4dde-a5cc-0d4076210431_config-0] Success to connect to server [127.0.0.1:8848] on start up, connectionId = 1744550512845_127.0.0.1_55799
2025-04-13 21:21:53.174 [com.alibaba.nacos.client.remote.worker] INFO  com.alibaba.nacos.common.remote.client - [71437cba-dee4-4dde-a5cc-0d4076210431_config-0] Notify connected event to listeners.
2025-04-13 21:21:53.174 [com.alibaba.nacos.client.remote.worker] INFO  com.alibaba.nacos.client.config.impl.ClientWorker - [71437cba-dee4-4dde-a5cc-0d4076210431_config-0] Connected,notify listen context...
2025-04-13 21:21:53.174 [main] INFO  com.alibaba.nacos.common.remote.client - [71437cba-dee4-4dde-a5cc-0d4076210431_config-0] Register server push request handler:com.alibaba.nacos.common.remote.client.RpcClient$ConnectResetRequestHandler
2025-04-13 21:21:53.176 [main] INFO  com.alibaba.nacos.common.remote.client - [71437cba-dee4-4dde-a5cc-0d4076210431_config-0] Register server push request handler:com.alibaba.nacos.common.remote.client.RpcClient$$Lambda$597/0x00000008010d0a88
2025-04-13 21:21:53.342 [main] INFO  com.alibaba.nacos.client.config.impl.Limiter - limitTime:5.0
2025-04-13 21:21:53.370 [main] INFO  com.alibaba.nacos.client.config.utils.JvmUtil - isMultiInstance:false
2025-04-13 21:21:53.390 [main] WARN  c.a.cloud.nacos.client.NacosPropertySourceBuilder - Ignore the empty nacos configuration and get it based on dataId[xiaohashu-auth.yaml] & group[DEFAULT_GROUP]
2025-04-13 21:21:53.401 [main] INFO  o.s.c.b.c.PropertySourceBootstrapConfiguration - Located property source: [BootstrapPropertySource {name='bootstrapProperties-xiaohashu-auth-dev.yaml,DEFAULT_GROUP'}, BootstrapPropertySource {name='bootstrapProperties-xiaohashu-auth.yaml,DEFAULT_GROUP'}, BootstrapPropertySource {name='bootstrapProperties-xiaohashu-auth,DEFAULT_GROUP'}]
2025-04-13 21:21:53.444 [main] WARN  com.alibaba.nacos.client.logging.NacosLogging - Load Logback Configuration of Nacos fail, message: Could not initialize Logback Nacos logging from classpath:nacos-logback.xml
2025-04-13 21:21:53.445 [main] INFO  c.q.xiaohashu.auth.XiaohashuAuthApplication - The following 1 profile is active: "dev"
2025-04-13 21:21:55.372 [main] INFO  o.s.d.r.config.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-04-13 21:21:55.377 [main] INFO  o.s.d.r.config.RepositoryConfigurationDelegate - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2025-04-13 21:21:55.419 [main] INFO  o.s.d.r.config.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 14 ms. Found 0 Redis repository interfaces.
2025-04-13 21:21:55.777 [main] INFO  o.springframework.cloud.context.scope.GenericScope - BeanFactory id=8629c41b-2d0a-3e2d-a1fb-df78d6cc8b65
2025-04-13 21:21:56.781 [main] INFO  o.s.boot.web.embedded.tomcat.TomcatWebServer - Tomcat initialized with port(s): 8080 (http)
2025-04-13 21:21:56.803 [main] INFO  org.apache.catalina.core.StandardService - Starting service [Tomcat]
2025-04-13 21:21:56.803 [main] INFO  org.apache.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.5]
2025-04-13 21:21:56.941 [main] INFO  o.a.c.core.ContainerBase.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-04-13 21:21:56.942 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 3469 ms
2025-04-13 21:21:57.158 [main] INFO  c.a.d.s.b.a.DruidDataSourceAutoConfigure - Init DruidDataSource
2025-04-13 21:21:57.895 [main] INFO  com.alibaba.druid.pool.DruidDataSource - {dataSource-1} inited
2025-04-13 21:22:00.511 [main] INFO  o.s.boot.web.embedded.tomcat.TomcatWebServer - Tomcat started on port(s): 8080 (http) with context path ''
2025-04-13 21:22:00.517 [main] INFO  com.alibaba.nacos.client.naming - initializer namespace from ans.namespace attribute : null
2025-04-13 21:22:00.518 [main] INFO  com.alibaba.nacos.client.naming - initializer namespace from ALIBABA_ALIWARE_NAMESPACE attribute :null
2025-04-13 21:22:00.519 [main] INFO  com.alibaba.nacos.client.naming - initializer namespace from namespace attribute :null
2025-04-13 21:22:00.531 [main] INFO  c.a.n.p.auth.spi.client.ClientAuthPluginManager - [ClientAuthPluginManager] Load ClientAuthService com.alibaba.nacos.client.auth.impl.NacosClientAuthServiceImpl success.
2025-04-13 21:22:00.531 [main] INFO  c.a.n.p.auth.spi.client.ClientAuthPluginManager - [ClientAuthPluginManager] Load ClientAuthService com.alibaba.nacos.client.auth.ram.RamClientAuthServiceImpl success.
2025-04-13 21:22:00.537 [main] INFO  com.alibaba.nacos.common.remote.client - [RpcClientFactory] create a new rpc client of f94fd4fb-415e-4b61-ae9f-61988a69ca0a
2025-04-13 21:22:00.540 [main] INFO  com.alibaba.nacos.common.remote.client - [f94fd4fb-415e-4b61-ae9f-61988a69ca0a] RpcClient init, ServerListFactory = com.alibaba.nacos.client.naming.core.ServerListManager
2025-04-13 21:22:00.540 [main] INFO  com.alibaba.nacos.common.remote.client - [f94fd4fb-415e-4b61-ae9f-61988a69ca0a] Registry connection listener to current client:com.alibaba.nacos.client.naming.remote.gprc.redo.NamingGrpcRedoService
2025-04-13 21:22:00.541 [main] INFO  com.alibaba.nacos.common.remote.client - [f94fd4fb-415e-4b61-ae9f-61988a69ca0a] Register server push request handler:com.alibaba.nacos.client.naming.remote.gprc.NamingPushRequestHandler
2025-04-13 21:22:00.541 [main] INFO  com.alibaba.nacos.common.remote.client - [f94fd4fb-415e-4b61-ae9f-61988a69ca0a] Try to connect to server on start up, server: {serverIp = '127.0.0.1', server main port = 8848}
2025-04-13 21:22:00.542 [main] INFO  c.a.nacos.common.remote.client.grpc.GrpcClient - grpc client connection server:127.0.0.1 ip,serverPort:9848,grpcTslConfig:{"sslProvider":"OPENSSL","enableTls":false,"mutualAuthEnable":false,"trustAll":false}
2025-04-13 21:22:00.657 [main] INFO  com.alibaba.nacos.common.remote.client - [f94fd4fb-415e-4b61-ae9f-61988a69ca0a] Success to connect to server [127.0.0.1:8848] on start up, connectionId = 1744550520550_127.0.0.1_55831
2025-04-13 21:22:00.657 [com.alibaba.nacos.client.remote.worker] INFO  com.alibaba.nacos.common.remote.client - [f94fd4fb-415e-4b61-ae9f-61988a69ca0a] Notify connected event to listeners.
2025-04-13 21:22:00.657 [main] INFO  com.alibaba.nacos.common.remote.client - [f94fd4fb-415e-4b61-ae9f-61988a69ca0a] Register server push request handler:com.alibaba.nacos.common.remote.client.RpcClient$ConnectResetRequestHandler
2025-04-13 21:22:00.657 [com.alibaba.nacos.client.remote.worker] INFO  com.alibaba.nacos.client.naming - Grpc connection connect
2025-04-13 21:22:00.658 [main] INFO  com.alibaba.nacos.common.remote.client - [f94fd4fb-415e-4b61-ae9f-61988a69ca0a] Register server push request handler:com.alibaba.nacos.common.remote.client.RpcClient$$Lambda$597/0x00000008010d0a88
2025-04-13 21:22:00.659 [main] INFO  com.alibaba.nacos.client.naming - [REGISTER-SERVICE] xiaohashu registering service xiaohashu-auth with instance Instance{instanceId='null', ip='172.20.10.3', port=8080, weight=1.0, healthy=true, enabled=true, ephemeral=true, clusterName='DEFAULT', serviceName='null', metadata={IPv6=[240e:441:251c:685f:89ad:7d2e:20:fdd9], preserved.register.source=SPRING_CLOUD}}
2025-04-13 21:22:00.675 [main] INFO  c.a.cloud.nacos.registry.NacosServiceRegistry - nacos registry, DEFAULT_GROUP xiaohashu-auth 172.20.10.3:8080 register finished
2025-04-13 21:22:00.886 [main] INFO  c.q.xiaohashu.auth.XiaohashuAuthApplication - Started XiaohashuAuthApplication in 14.23 seconds (process running for 22.841)
2025-04-13 21:22:00.888 [main] INFO  c.q.x.auth.runner.PushRolePermissions2RedisRunner - ==> 服务启动，开始同步角色权限数据到 Redis 中...
2025-04-13 21:22:01.623 [main] WARN  c.q.x.auth.runner.PushRolePermissions2RedisRunner - ==> 角色权限数据已经同步至 Redis 中，不再同步...
2025-04-13 21:22:01.628 [main] INFO  com.alibaba.nacos.client.config.impl.CacheData - nacos.cache.data.init.snapshot = true 
2025-04-13 21:22:01.629 [main] INFO  com.alibaba.nacos.client.config.impl.ClientWorker - [fixed-xiaohashu-127.0.0.1_8848] [subscribe] xiaohashu-auth.yaml+DEFAULT_GROUP+xiaohashu
2025-04-13 21:22:01.644 [main] INFO  com.alibaba.nacos.client.config.impl.CacheData - [fixed-xiaohashu-127.0.0.1_8848] [add-listener] ok, tenant=xiaohashu, dataId=xiaohashu-auth.yaml, group=DEFAULT_GROUP, cnt=1
2025-04-13 21:22:01.644 [main] INFO  c.a.cloud.nacos.refresh.NacosContextRefresher - [Nacos Config] Listening config: dataId=xiaohashu-auth.yaml, group=DEFAULT_GROUP
2025-04-13 21:22:01.648 [main] INFO  com.alibaba.nacos.client.config.impl.ClientWorker - [fixed-xiaohashu-127.0.0.1_8848] [subscribe] xiaohashu-auth-dev.yaml+DEFAULT_GROUP+xiaohashu
2025-04-13 21:22:01.648 [main] INFO  com.alibaba.nacos.client.config.impl.CacheData - [fixed-xiaohashu-127.0.0.1_8848] [add-listener] ok, tenant=xiaohashu, dataId=xiaohashu-auth-dev.yaml, group=DEFAULT_GROUP, cnt=1
2025-04-13 21:22:01.648 [main] INFO  c.a.cloud.nacos.refresh.NacosContextRefresher - [Nacos Config] Listening config: dataId=xiaohashu-auth-dev.yaml, group=DEFAULT_GROUP
2025-04-13 21:22:01.650 [main] INFO  com.alibaba.nacos.client.config.impl.ClientWorker - [fixed-xiaohashu-127.0.0.1_8848] [subscribe] xiaohashu-auth+DEFAULT_GROUP+xiaohashu
2025-04-13 21:22:01.651 [main] INFO  com.alibaba.nacos.client.config.impl.CacheData - [fixed-xiaohashu-127.0.0.1_8848] [add-listener] ok, tenant=xiaohashu, dataId=xiaohashu-auth, group=DEFAULT_GROUP, cnt=1
2025-04-13 21:22:01.651 [main] INFO  c.a.cloud.nacos.refresh.NacosContextRefresher - [Nacos Config] Listening config: dataId=xiaohashu-auth, group=DEFAULT_GROUP
2025-04-13 21:44:01.162 [Thread-9] WARN  com.alibaba.nacos.common.notify.NotifyCenter - [NotifyCenter] Start destroying Publisher
2025-04-13 21:44:01.162 [Thread-2] WARN  c.alibaba.nacos.common.http.HttpClientBeanHolder - [HttpClientBeanHolder] Start destroying common HttpClient
2025-04-13 21:44:01.163 [Thread-9] WARN  com.alibaba.nacos.common.notify.NotifyCenter - [NotifyCenter] Destruction of the end
2025-04-13 21:44:01.163 [Thread-2] WARN  c.alibaba.nacos.common.http.HttpClientBeanHolder - [HttpClientBeanHolder] Destruction of the end
2025-04-13 21:44:01.213 [SpringApplicationShutdownHook] INFO  c.a.cloud.nacos.registry.NacosServiceRegistry - De-registering from Nacos Server now...
2025-04-13 21:44:01.214 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - [DEREGISTER-SERVICE] xiaohashu deregistering service xiaohashu-auth with instance: Instance{instanceId='null', ip='172.20.10.3', port=8080, weight=1.0, healthy=true, enabled=true, ephemeral=true, clusterName='DEFAULT', serviceName='null', metadata={}}
2025-04-13 21:44:01.223 [SpringApplicationShutdownHook] INFO  c.a.cloud.nacos.registry.NacosServiceRegistry - De-registration finished.
2025-04-13 21:44:01.224 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.cache.ServiceInfoHolder do shutdown begin
2025-04-13 21:44:01.224 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.backups.FailoverReactor do shutdown begin
2025-04-13 21:44:01.225 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.backups.FailoverReactor do shutdown stop
2025-04-13 21:44:01.225 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.cache.ServiceInfoHolder do shutdown stop
2025-04-13 21:44:01.225 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.remote.NamingClientProxyDelegate do shutdown begin
2025-04-13 21:44:01.225 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.core.ServiceInfoUpdateService do shutdown begin
2025-04-13 21:44:01.225 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.core.ServiceInfoUpdateService do shutdown stop
2025-04-13 21:44:01.225 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.core.ServerListManager do shutdown begin
2025-04-13 21:44:01.225 [SpringApplicationShutdownHook] WARN  com.alibaba.nacos.client.naming - [NamingHttpClientManager] Start destroying NacosRestTemplate
2025-04-13 21:44:01.225 [SpringApplicationShutdownHook] WARN  com.alibaba.nacos.client.naming - [NamingHttpClientManager] Destruction of the end
2025-04-13 21:44:01.225 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.core.ServerListManager do shutdown stop
2025-04-13 21:44:01.225 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.remote.http.NamingHttpClientProxy do shutdown begin
2025-04-13 21:44:01.225 [SpringApplicationShutdownHook] WARN  com.alibaba.nacos.client.naming - [NamingHttpClientManager] Start destroying NacosRestTemplate
2025-04-13 21:44:01.225 [SpringApplicationShutdownHook] WARN  com.alibaba.nacos.client.naming - [NamingHttpClientManager] Destruction of the end
2025-04-13 21:44:01.225 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.remote.http.NamingHttpClientProxy do shutdown stop
2025-04-13 21:44:01.226 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.common.remote.client - Shutdown rpc client, set status to shutdown
2025-04-13 21:44:01.226 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.common.remote.client - Shutdown client event executor java.util.concurrent.ScheduledThreadPoolExecutor@5e76c24f[Running, pool size = 2, active threads = 2, queued tasks = 0, completed tasks = 0]
2025-04-13 21:44:01.226 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.common.remote.client - Close current connection 1744550520550_127.0.0.1_55831
2025-04-13 21:44:01.228 [nacos-grpc-client-executor-127.0.0.1-277] INFO  c.a.nacos.common.remote.client.grpc.GrpcClient - [1744550520550_127.0.0.1_55831]Ignore complete event,isRunning:false,isAbandon=false
2025-04-13 21:44:01.232 [SpringApplicationShutdownHook] INFO  c.a.nacos.common.remote.client.grpc.GrpcClient - Shutdown grpc executor java.util.concurrent.ThreadPoolExecutor@d712304[Running, pool size = 4, active threads = 0, queued tasks = 0, completed tasks = 278]
2025-04-13 21:44:01.232 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - Shutdown grpc redo service executor java.util.concurrent.ScheduledThreadPoolExecutor@2558680d[Running, pool size = 1, active threads = 0, queued tasks = 1, completed tasks = 439]
2025-04-13 21:44:01.232 [SpringApplicationShutdownHook] INFO  c.a.n.client.auth.ram.identify.CredentialWatcher - [null] CredentialWatcher is stopped
2025-04-13 21:44:01.232 [SpringApplicationShutdownHook] INFO  c.a.n.client.auth.ram.identify.CredentialService - [null] CredentialService is freed
2025-04-13 21:44:01.234 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.remote.NamingClientProxyDelegate do shutdown stop
2025-04-13 21:44:01.380 [SpringApplicationShutdownHook] INFO  com.alibaba.druid.pool.DruidDataSource - {dataSource-1} closing ...
2025-04-13 21:44:01.381 [SpringApplicationShutdownHook] INFO  com.alibaba.druid.pool.DruidDataSource - {dataSource-1} closed
